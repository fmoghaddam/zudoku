import * as t from "react";
var K = (e, i, a, u, m, l, d, h) => {
  let c = document.documentElement, v = ["light", "dark"];
  function f(r) {
    (Array.isArray(e) ? e : [e]).forEach((y) => {
      let S = y === "class", k = S && l ? m.map((b) => l[b] || b) : m;
      S ? (c.classList.remove(...k), c.classList.add(l && l[r] ? l[r] : r)) : c.setAttribute(y, r);
    }), C(r);
  }
  function C(r) {
    h && v.includes(r) && (c.style.colorScheme = r);
  }
  function s() {
    return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
  }
  if (u) f(u);
  else try {
    let r = localStorage.getItem(i) || a, y = d && r === "system" ? s() : r;
    f(y);
  } catch {
  }
}, I = ["light", "dark"], P = "(prefers-color-scheme: dark)", N = typeof window > "u", A = t.createContext(void 0), V = { setTheme: (e) => {
}, themes: [] }, $ = () => {
  var e;
  return (e = t.useContext(A)) != null ? e : V;
}, j = (e) => t.useContext(A) ? t.createElement(t.Fragment, null, e.children) : t.createElement(_, { ...e }), W = ["light", "dark"], _ = ({ forcedTheme: e, disableTransitionOnChange: i = !1, enableSystem: a = !0, enableColorScheme: u = !0, storageKey: m = "theme", themes: l = W, defaultTheme: d = a ? "system" : "light", attribute: h = "data-theme", value: c, children: v, nonce: f, scriptProps: C }) => {
  let [s, r] = t.useState(() => J(m, d)), [y, S] = t.useState(() => s === "system" ? L() : s), k = c ? Object.values(c) : l, b = t.useCallback((n) => {
    let o = n;
    if (!o) return;
    n === "system" && a && (o = L());
    let g = c ? c[o] : o, x = i ? R(f) : null, w = document.documentElement, M = (p) => {
      p === "class" ? (w.classList.remove(...k), g && w.classList.add(g)) : p.startsWith("data-") && (g ? w.setAttribute(p, g) : w.removeAttribute(p));
    };
    if (Array.isArray(h) ? h.forEach(M) : M(h), u) {
      let p = I.includes(d) ? d : null, H = I.includes(o) ? o : p;
      w.style.colorScheme = H;
    }
    x?.();
  }, [f]), E = t.useCallback((n) => {
    let o = typeof n == "function" ? n(s) : n;
    r(o);
    try {
      localStorage.setItem(m, o);
    } catch {
    }
  }, [s]), T = t.useCallback((n) => {
    let o = L(n);
    S(o), s === "system" && a && !e && b("system");
  }, [s, e]);
  t.useEffect(() => {
    let n = window.matchMedia(P);
    return n.addListener(T), T(n), () => n.removeListener(T);
  }, [T]), t.useEffect(() => {
    let n = (o) => {
      o.key === m && (o.newValue ? r(o.newValue) : E(d));
    };
    return window.addEventListener("storage", n), () => window.removeEventListener("storage", n);
  }, [E]), t.useEffect(() => {
    b(e ?? s);
  }, [e, s]);
  let O = t.useMemo(() => ({ theme: s, setTheme: E, forcedTheme: e, resolvedTheme: s === "system" ? y : s, themes: a ? [...l, "system"] : l, systemTheme: a ? y : void 0 }), [s, E, e, y, a, l]);
  return t.createElement(A.Provider, { value: O }, t.createElement(z, { forcedTheme: e, storageKey: m, attribute: h, enableSystem: a, enableColorScheme: u, defaultTheme: d, value: c, themes: l, nonce: f, scriptProps: C }), v);
}, z = t.memo(({ forcedTheme: e, storageKey: i, attribute: a, enableSystem: u, enableColorScheme: m, defaultTheme: l, value: d, themes: h, nonce: c, scriptProps: v }) => {
  let f = JSON.stringify([a, i, l, e, h, d, u, m]).slice(1, -1);
  return t.createElement("script", { ...v, suppressHydrationWarning: !0, nonce: typeof window > "u" ? c : "", dangerouslySetInnerHTML: { __html: `(${K.toString()})(${f})` } });
}), J = (e, i) => {
  if (N) return;
  let a;
  try {
    a = localStorage.getItem(e) || void 0;
  } catch {
  }
  return a || i;
}, R = (e) => {
  let i = document.createElement("style");
  return e && i.setAttribute("nonce", e), i.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")), document.head.appendChild(i), () => {
    window.getComputedStyle(document.body), setTimeout(() => {
      document.head.removeChild(i);
    }, 1);
  };
}, L = (e) => (e || (e = window.matchMedia(P)), e.matches ? "dark" : "light");
export {
  j as J,
  $ as z
};
//# sourceMappingURL=index-DAWHN3cH.js.map
