{"version":3,"file":"createVariantComponent-Dc0vtOvr.js","sources":["../src/lib/util/createVariantComponent.tsx"],"sourcesContent":["import { Slot } from \"@radix-ui/react-slot\";\nimport type { cva } from \"class-variance-authority\";\nimport type { ClassValue } from \"clsx\";\nimport type { HTMLElementType, JSX } from \"react\";\nimport * as React from \"react\";\nimport { cn } from \"./cn.js\";\n\ntype ComponentOrElement =\n  | HTMLElementType\n  // biome-ignore lint/suspicious/noExplicitAny: Need to accept any component type\n  | React.ComponentType<any>\n  // biome-ignore lint/suspicious/noExplicitAny: Need to accept any component type\n  | React.ForwardRefExoticComponent<any>;\n\ntype PropsOf<T> = T extends HTMLElementType\n  ? JSX.IntrinsicElements[T]\n  : T extends React.ComponentType<infer P>\n    ? P\n    : T extends React.ForwardRefExoticComponent<infer P>\n      ? P\n      : never;\n\ntype RefOf<T> = T extends HTMLElementType\n  ? T extends keyof HTMLElementTagNameMap\n    ? HTMLElementTagNameMap[T]\n    : HTMLElement\n  : T extends React.ForwardRefExoticComponent<React.RefAttributes<infer R>>\n    ? R\n    : HTMLElement;\n\nconst createVariantComponent = <\n  E extends ComponentOrElement,\n  C extends ReturnType<typeof cva>,\n>(\n  tag: E,\n  cvx: ClassValue | C,\n  // variantProps: Array<keyof VariantProps<C>> = [],\n) => {\n  const MyVariant = React.forwardRef<\n    RefOf<E>,\n    PropsOf<E> & { className?: ClassValue; asChild?: boolean }\n  >(({ className, asChild, ...props }, ref) => {\n    const Comp = asChild ? Slot : tag;\n\n    return React.createElement(Comp, {\n      ...props,\n      ref: ref as React.Ref<HTMLElement>,\n      className:\n        typeof cvx === \"function\" ? cvx({ className }) : cn(cvx, className),\n    });\n  });\n\n  MyVariant.displayName =\n    typeof tag === \"string\"\n      ? `VariantComponent(${tag})`\n      : `VariantComponent(${tag.displayName || tag.name || \"Component\"})`;\n\n  return MyVariant;\n};\n\nexport default createVariantComponent;\n"],"names":["createVariantComponent","tag","cvx","MyVariant","React","className","asChild","props","ref","Comp","Slot","cn"],"mappings":";;;AA8BA,MAAMA,IAAyB,CAI7BC,GACAC,MAEG;AACH,QAAMC,IAAYC,EAAM,WAGtB,CAAC,EAAE,WAAAC,GAAW,SAAAC,GAAS,GAAGC,EAAA,GAASC,MAAQ;AAC3C,UAAMC,IAAOH,IAAUI,IAAOT;AAE9B,WAAOG,EAAM,cAAcK,GAAM;AAAA,MAC/B,GAAGF;AAAA,MACH,KAAAC;AAAA,MACA,WACE,OAAON,KAAQ,aAAaA,EAAI,EAAE,WAAAG,GAAW,IAAIM,EAAGT,GAAKG,CAAS;AAAA,IAAA,CACrE;AAAA,EACH,CAAC;AAED,SAAAF,EAAU,cACR,OAAOF,KAAQ,WACX,oBAAoBA,CAAG,MACvB,oBAAoBA,EAAI,eAAeA,EAAI,QAAQ,WAAW,KAE7DE;AACT;"}