import type { LoadedConfig } from "../../config/config.js";
import type { Processor } from "../../config/validators/BuildSchema.js";
import type { VersionConfig } from "../../config/validators/validate.js";
import type { OpenAPIDocument } from "../../lib/oas/parser/index.js";
type ProcessedSchema = {
    schema: OpenAPIDocument;
    version: string;
    path: string;
    label?: string;
    inputPath: string;
    downloadUrl: string;
};
type InputConfig = Partial<VersionConfig> & {
    input: string;
};
export declare class SchemaManager {
    private storeDir;
    private processors;
    private processedSchemas;
    private fileToPath;
    private referencedBy;
    config: LoadedConfig;
    schemaMap: Map<string, {
        filePath: string;
        processedTime: number;
    }>;
    constructor({ storeDir, config, processors, }: {
        storeDir: string;
        config: LoadedConfig;
        processors: Processor[];
    });
    private getPathForFile;
    processSchema: (input: InputConfig) => Promise<{
        schema: OpenAPIDocument;
        version: string;
        path: string;
        label: string | undefined;
        inputPath: string;
        downloadUrl: string;
    } | undefined>;
    getAllTrackedFiles: () => string[];
    getFilesToReprocess: (changedFile: string) => string[];
    processAllSchemas: () => Promise<void>;
    getLatestSchema: (path: string) => ProcessedSchema | undefined;
    getBySchemaFilepath: (schemaPath: string) => {
        filePath: string;
        processedTime: number;
    } | undefined;
    getSchemasForPath: (path: string) => ProcessedSchema[] | undefined;
    getUrlToFilePathMap: () => Map<string, string>;
    private createSchemaPath;
    private validateSchema;
}
export {};
