import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { DownloadIcon } from "lucide-react";
import { useEffect, useState } from "react";
import { Button } from "zudoku/ui/Button.js";
import { humanFileSize } from "../../../../util/humanFileSize.js";
export const AudioPlayer = ({ blob, fileName, size, onDownload, }) => {
    const [audioUrl, setAudioUrl] = useState(null);
    useEffect(() => {
        const url = URL.createObjectURL(blob);
        setAudioUrl(url);
        return () => {
            URL.revokeObjectURL(url);
        };
    }, [blob]);
    if (!audioUrl) {
        return (_jsx("div", { className: "p-4 text-center", children: _jsx("div", { className: "text-sm text-muted-foreground", children: "Loading audio..." }) }));
    }
    return (_jsx("div", { className: "p-4 text-center", children: _jsxs("div", { className: "flex flex-col items-center gap-4", children: [_jsx("audio", { controls: true, src: audioUrl, className: "w-full max-w-md", children: "Your browser does not support the audio element." }), _jsxs(Button, { onClick: onDownload, className: "flex items-center gap-2", children: [_jsx(DownloadIcon, { className: "h-4 w-4" }), "Download ", fileName, " (", humanFileSize(size), ")"] })] }) }));
};
//# sourceMappingURL=AudioPlayer.js.map