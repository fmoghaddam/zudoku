import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useEffect } from "react";
import { useSearchParams } from "react-router";
import { Spinner } from "zudoku/components";
import { Card, CardContent, CardDescription, CardHeader, CardTitle, } from "zudoku/ui/Card.js";
import { useLatest } from "../../util/useLatest.js";
import { useAuth } from "../hook.js";
export const SignIn = () => {
    const auth = useAuth();
    const [search] = useSearchParams();
    const redirectTo = search.get("redirect") ?? undefined;
    const login = useLatest(auth.login);
    useEffect(() => {
        void login.current({
            redirectTo,
            replace: true,
        });
    }, [login, redirectTo]);
    return (_jsx("div", { className: "flex items-center justify-center mt-8", children: _jsxs(Card, { className: "max-w-md w-full", children: [_jsxs(CardHeader, { children: [_jsx(CardTitle, { className: "text-lg", children: "Sign in" }), _jsx(CardDescription, { children: "You're being redirected to our secure login provider to complete your sign-in process." })] }), _jsx(CardContent, { children: _jsxs("div", { className: "flex items-center text-sm font-medium gap-2", children: [_jsx(Spinner, {}), " Redirecting..."] }) })] }) }));
};
//# sourceMappingURL=SignIn.js.map