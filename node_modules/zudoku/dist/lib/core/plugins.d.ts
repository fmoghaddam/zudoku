import type { LucideIcon } from "lucide-react";
import type { ReactNode } from "react";
import type { Location, RouteObject } from "react-router";
import type { Navigation } from "../../config/validators/NavigationSchema.js";
import type { ProtectedRoutesInput } from "../../config/validators/ProtectedRoutesSchema.js";
import type { ZudokuConfig } from "../../config/validators/validate.js";
import type { AuthenticationPlugin } from "../authentication/authentication.js";
import type { MdxComponentsType } from "../util/MdxComponents.js";
import type { ApiIdentity, ZudokuContext, ZudokuEvents } from "./ZudokuContext.js";
export type ZudokuPlugin = CommonPlugin | ProfileMenuPlugin | NavigationPlugin | ApiIdentityPlugin | SearchProviderPlugin | EventConsumerPlugin | AuthenticationPlugin | TransformConfigPlugin;
export type { AuthenticationPlugin, RouteObject };
export interface NavigationPlugin {
    getRoutes: () => RouteObject[];
    getNavigation?: (path: string, context: ZudokuContext) => Promise<Navigation>;
    getProtectedRoutes?: () => ProtectedRoutesInput;
}
export declare const createApiIdentityPlugin: (plugin: ApiIdentityPlugin) => ApiIdentityPlugin;
export declare const createProfileMenuPlugin: (plugin: ProfileMenuPlugin) => ProfileMenuPlugin;
export interface ApiIdentityPlugin {
    getIdentities: (context: ZudokuContext) => Promise<ApiIdentity[]>;
}
export interface SearchProviderPlugin {
    renderSearch: (o: {
        isOpen: boolean;
        onClose: () => void;
    }) => React.JSX.Element | null;
}
export interface ProfileMenuPlugin {
    getProfileMenuItems: (context: ZudokuContext) => ProfileNavigationItem[];
}
export type ProfileNavigationItem = {
    label: string;
    path?: string;
    weight?: number;
    category?: "top" | "middle" | "bottom";
    children?: ProfileNavigationItem[];
    icon?: LucideIcon;
};
export interface ConfigHookContext {
    mode: typeof process.env.ZUDOKU_ENV;
    rootDir: string;
    configPath: string;
}
export interface TransformConfigContext {
    config: ZudokuConfig;
    merge: <T extends Partial<ZudokuConfig>>(partial: T) => ZudokuConfig & T;
}
export interface TransformConfigPlugin {
    transformConfig?: (context: TransformConfigContext) => ZudokuConfig | void | Promise<ZudokuConfig | void>;
}
export interface CommonPlugin {
    initialize?: (context: ZudokuContext) => Promise<void | boolean> | void | boolean;
    getHead?: (args: {
        location: Location;
    }) => ReactNode | undefined;
    getMdxComponents?: () => MdxComponentsType;
}
export type EventConsumerPlugin<Event extends ZudokuEvents = ZudokuEvents> = {
    events: {
        [K in keyof Event]?: Event[K];
    };
};
export declare const isEventConsumerPlugin: (obj: ZudokuPlugin) => obj is EventConsumerPlugin;
export declare const isProfileMenuPlugin: (obj: ZudokuPlugin) => obj is ProfileMenuPlugin;
export declare const isNavigationPlugin: (obj: ZudokuPlugin) => obj is NavigationPlugin;
export declare const isAuthenticationPlugin: (obj: ZudokuPlugin) => obj is AuthenticationPlugin;
export declare const isSearchPlugin: (obj: ZudokuPlugin) => obj is SearchProviderPlugin;
export declare const needsInitialization: (obj: ZudokuPlugin) => obj is CommonPlugin;
export declare const hasHead: (obj: ZudokuPlugin) => obj is CommonPlugin;
export declare const isMdxProviderPlugin: (obj: ZudokuPlugin) => obj is CommonPlugin;
export declare const isApiIdentityPlugin: (obj: ZudokuPlugin) => obj is ApiIdentityPlugin;
export declare const isTransformConfigPlugin: (obj: ZudokuPlugin) => obj is TransformConfigPlugin;
