{
  "version": 3,
  "sources": ["../../zudoku/src/lib/plugins/openapi/SchemaList.tsx"],
  "sourcesContent": ["import slugify from \"@sindresorhus/slugify\";\nimport { useSuspenseQuery } from \"@tanstack/react-query\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport {\n  ChevronRightIcon,\n  ChevronsDownUpIcon,\n  ChevronsUpDownIcon,\n} from \"lucide-react\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"zudoku/ui/Collapsible.js\";\nimport { CategoryHeading } from \"../../components/CategoryHeading.js\";\nimport { Heading } from \"../../components/Heading.js\";\nimport { Markdown } from \"../../components/Markdown.js\";\nimport { Toc } from \"../../components/navigation/Toc.js\";\nimport { useCreateQuery } from \"./client/useCreateQuery.js\";\nimport { useOasConfig } from \"./context.js\";\nimport { graphql } from \"./graphql/gql.js\";\nimport { SchemaView } from \"./schema/SchemaView.js\";\n\nconst GET_SCHEMAS = graphql(/* GraphQL */ `\n  query GetSchemas($input: JSON!, $type: SchemaType!) {\n    schema(input: $input, type: $type) {\n      title\n      description\n      summary\n      components {\n        schemas {\n          name\n          schema\n          extensions\n        }\n      }\n    }\n  }\n`);\n\nexport function SchemaList() {\n  const { input, type, versions, version, options } = useOasConfig();\n  const schemasQuery = useCreateQuery(GET_SCHEMAS, {\n    input,\n    type,\n  });\n  const { data } = useSuspenseQuery(schemasQuery);\n\n  const schemas = data.schema.components?.schemas ?? [];\n  const hasMultipleVersions = Object.entries(versions).length > 1;\n  const showVersions =\n    options?.showVersionSelect === \"always\" ||\n    (hasMultipleVersions && options?.showVersionSelect !== \"hide\");\n\n  if (!schemas.length) {\n    return (\n      <div>\n        <Helmet>\n          <title>Schemas {showVersions ? version : \"\"}</title>\n          <meta name=\"description\" content=\"List of schemas used by the API.\" />\n        </Helmet>\n        No schemas found\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"grid grid-cols-(--sidecar-grid-cols) gap-8 justify-between\"\n      data-pagefind-filter=\"section:openapi\"\n      data-pagefind-meta=\"section:openapi\"\n    >\n      <Helmet>\n        <title>Schemas {showVersions ? version : \"\"}</title>\n        <meta name=\"description\" content=\"List of schemas used by the API.\" />\n      </Helmet>\n      <div className=\"pt-(--padding-content-top) pb-(--padding-content-bottom)\">\n        <Collapsible className=\"w-full\">\n          <div className=\"flex flex-col gap-y-4 sm:flex-row justify-around items-start sm:items-end\">\n            <div className=\"flex-1\">\n              <CategoryHeading>{data.schema.title}</CategoryHeading>\n              <Heading\n                level={1}\n                id=\"schemas\"\n                registerNavigationAnchor\n                className=\"mb-0\"\n              >\n                Schemas\n                {showVersions && (\n                  <span className=\"text-xl text-muted-foreground ms-1.5\">\n                    ({version})\n                  </span>\n                )}\n              </Heading>\n            </div>\n            {data.schema.description && (\n              <CollapsibleTrigger className=\"flex items-center gap-1 text-sm font-medium text-muted-foreground group\">\n                <span>API information</span>\n                <ChevronsUpDownIcon\n                  className=\"group-data-[state=open]:hidden translate-y-px\"\n                  size={14}\n                />\n                <ChevronsDownUpIcon\n                  className=\"group-data-[state=closed]:hidden translate-y-px\"\n                  size={13}\n                />\n              </CollapsibleTrigger>\n            )}\n          </div>\n          {data.schema.description && (\n            <CollapsibleContent className=\"CollapsibleContent\">\n              <div className=\"mt-4 max-w-full border rounded-sm bg-muted/25\">\n                <Markdown\n                  className=\"max-w-full prose-img:max-w-prose border-border p-3 lg:p-5\"\n                  content={data.schema.description}\n                />\n              </div>\n            </CollapsibleContent>\n          )}\n        </Collapsible>\n        <hr className=\"my-8\" />\n        <div className=\"flex flex-col gap-y-5\">\n          {schemas.map((schema) => (\n            <Collapsible key={schema.name} className=\"group\" defaultOpen>\n              <Heading\n                registerNavigationAnchor\n                level={2}\n                className=\"flex items-center gap-1 justify-between w-fit\"\n                id={slugify(schema.name)}\n              >\n                {schema.name}{\" \"}\n                <CollapsibleTrigger asChild>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"size-6\">\n                    <ChevronRightIcon\n                      size={16}\n                      className=\"group-data-[state=open]:rotate-90 transition cursor-pointer\"\n                    />\n                  </Button>\n                </CollapsibleTrigger>\n              </Heading>\n              <CollapsibleContent className=\"mt-4 CollapsibleContent\">\n                <SchemaView schema={schema.schema} />\n              </CollapsibleContent>\n            </Collapsible>\n          ))}\n        </div>\n      </div>\n      <Toc\n        entries={schemas.map((schema) => ({\n          id: slugify(schema.name),\n          value: schema.name,\n          depth: 1,\n        }))}\n      />\n    </div>\n  );\n}\n"],
  "mappings": "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",
  "names": ["GET_SCHEMAS", "graphql", "SchemaList", "input", "type", "versions", "version", "options", "useOasConfig", "schemasQuery", "useCreateQuery", "data", "useSuspenseQuery", "schemas", "hasMultipleVersions", "showVersions", "jsxs", "Helmet", "jsx", "Collapsible", "CategoryHeading", "Heading", "CollapsibleTrigger", "ChevronsUpDownIcon", "ChevronsDownUpIcon", "CollapsibleContent", "Markdown", "schema", "slugify", "Button", "ChevronRightIcon", "SchemaView", "Toc"]
}
