import {
  Check,
  ChevronRight,
  CircleFadingArrowUp,
  CircleX,
  Copy,
  Dot,
  ExternalLink,
  Info,
  Lightbulb,
  Link,
  LoaderCircle,
  Menu,
  Moon,
  PanelLeft,
  Search,
  ShieldAlert,
  Sun,
  TriangleAlert,
  Unlink,
  X as X2,
  mo
} from "./chunk-R54EFXNU.js";
import {
  Arrow2,
  Content2 as Content22,
  Provider,
  Root3,
  Trigger as Trigger2
} from "./chunk-JNHOR6SI.js";
import {
  VisuallyHidden
} from "./chunk-72E3F2OW.js";
import {
  Anchor,
  Arrow,
  Content as Content2,
  Root2,
  createPopperScope
} from "./chunk-JHJKCYTU.js";
import {
  Item,
  Root as Root4,
  createRovingFocusGroupScope
} from "./chunk-YPKTU6G3.js";
import {
  createCollection,
  useDirection
} from "./chunk-YPKBKVIN.js";
import {
  Close,
  Content,
  Description,
  Overlay,
  Portal as Portal2,
  Root,
  Title,
  Trigger
} from "./chunk-QGJIGGMO.js";
import {
  Combination_default,
  FocusScope,
  hideOthers,
  useFocusGuards
} from "./chunk-FXNFNHXZ.js";
import {
  DismissableLayer,
  Portal
} from "./chunk-VCPSW7YA.js";
import {
  Presence
} from "./chunk-DW5YFC3V.js";
import {
  useCallbackRef,
  useId
} from "./chunk-IXRQDBTI.js";
import {
  composeEventHandlers,
  createContextScope,
  useControllableState,
  useLayoutEffect2
} from "./chunk-TCGE25WV.js";
import {
  Primitive,
  dispatchDiscreteCustomEvent
} from "./chunk-BL6D5YOI.js";
import {
  Slot,
  composeRefs,
  createSlot,
  useComposedRefs
} from "./chunk-3R46EL5G.js";
import {
  require_jsx_runtime
} from "./chunk-3JZST3TF.js";
import {
  require_react_dom
} from "./chunk-Z5AKTONR.js";
import {
  $,
  A,
  Ce,
  De,
  Ee,
  F,
  Fe,
  Ie,
  It,
  J,
  L,
  Ot,
  Pe,
  Q,
  Re,
  Se,
  St,
  Tt,
  Ut,
  V,
  X,
  Xt,
  Y,
  Yt,
  be,
  bt,
  ct,
  de,
  ht,
  ie,
  j,
  k,
  ke,
  ne as ne2,
  oe,
  vt,
  we as we2,
  xe,
  xt,
  y
} from "./chunk-KJLHI4KE.js";
import {
  ae
} from "./chunk-XTV2HAPF.js";
import {
  B,
  Bt,
  N,
  Ne,
  cr,
  dr,
  dt,
  et,
  hr,
  lr,
  mr,
  ne,
  sr,
  ur,
  we
} from "./chunk-YY6SLAPL.js";
import {
  require_react
} from "./chunk-S73QDKPN.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/zudoku/lib/ui/Button.js
var c = __toESM(require_react(), 1);
var f = j(
  "not-prose inline-flex shrink-0 items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90",
        outline: "border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        "ghost-destructive": "text-destructive hover:bg-destructive hover:text-destructive-foreground",
        link: "text-primary underline-offset-4 hover:underline",
        expand: "flex gap-1.5 border bg-transparent rounded-xl text-muted-foreground hover:text-foreground"
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        xl: "h-14 rounded-lg px-10 text-lg",
        icon: "size-9",
        "icon-xs": "size-7"
      }
    },
    defaultVariants: {
      variant: "default",
      size: "default"
    }
  }
);
var g = c.forwardRef(
  ({ className: e, variant: t3, size: r4, asChild: o2 = false, ...n4 }, s3) => {
    const d2 = o2 ? Slot : "button";
    return ae.jsx(
      d2,
      {
        className: mo(f({ variant: t3, size: r4, className: e })),
        ref: s3,
        ...n4
      }
    );
  }
);
g.displayName = "Button";

// node_modules/zudoku/lib/invariant-DAFpPywt.js
var i = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function f2(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
function a(e) {
  if (Object.prototype.hasOwnProperty.call(e, "__esModule")) return e;
  var t3 = e.default;
  if (typeof t3 == "function") {
    var r4 = function o2() {
      return this instanceof o2 ? Reflect.construct(t3, arguments, this.constructor) : t3.apply(this, arguments);
    };
    r4.prototype = t3.prototype;
  } else r4 = {};
  return Object.defineProperty(r4, "__esModule", { value: true }), Object.keys(e).forEach(function(o2) {
    var n4 = Object.getOwnPropertyDescriptor(e, o2);
    Object.defineProperty(r4, o2, n4.get ? n4 : {
      enumerable: true,
      get: function() {
        return e[o2];
      }
    });
  }), r4;
}
function l(e, t3) {
  if (e)
    return;
  const r4 = typeof t3 == "function" ? t3() : t3;
  throw new u(r4 ?? "Invariant failed");
}
var u = class extends Error {
  developerHint;
  title;
  constructor(t3, {
    developerHint: r4,
    title: o2,
    cause: n4
  } = {}) {
    super(t3, { cause: n4 }), this.name = "ZudokuError", this.title = o2, this.developerHint = r4;
  }
};

// node_modules/zudoku/lib/RouteGuard-CbKd7_9h.js
var import_react = __toESM(require_react(), 1);

// node_modules/zudoku/lib/Dialog-CiIdyz6a.js
var l2 = __toESM(require_react(), 1);
var j2 = Root;
var b = Trigger;
var m = Portal2;
var n = l2.forwardRef(({ className: e, ...t3 }, o2) => ae.jsx(
  Overlay,
  {
    ref: o2,
    className: mo(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      e
    ),
    ...t3
  }
));
n.displayName = Overlay.displayName;
var f3 = l2.forwardRef(({ className: e, children: t3, showCloseButton: o2 = true, ...d2 }, r4) => ae.jsxs(m, { children: [
  ae.jsx(n, {}),
  ae.jsxs(
    Content,
    {
      ref: r4,
      className: mo(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        e
      ),
      ...d2,
      children: [
        t3,
        o2 && ae.jsxs(Close, { className: "absolute left-1 top-1 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground", children: [
          ae.jsx(X2, { className: "h-3 w-3", strokeWidth: 2 }),
          ae.jsx("span", { className: "sr-only", children: "Close" })
        ] })
      ]
    }
  )
] }));
f3.displayName = Content.displayName;
var p = ({
  className: e,
  ...t3
}) => ae.jsx(
  "div",
  {
    className: mo(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      e
    ),
    ...t3
  }
);
p.displayName = "DialogHeader";
var g2 = ({
  className: e,
  ...t3
}) => ae.jsx(
  "div",
  {
    className: mo(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      e
    ),
    ...t3
  }
);
g2.displayName = "DialogFooter";
var x = l2.forwardRef(({ className: e, ...t3 }, o2) => ae.jsx(
  Title,
  {
    ref: o2,
    className: mo(
      "text-lg font-semibold leading-none tracking-tight",
      e
    ),
    ...t3
  }
));
x.displayName = Title.displayName;
var u2 = l2.forwardRef(({ className: e, ...t3 }, o2) => ae.jsx(
  Description,
  {
    ref: o2,
    className: mo("text-sm text-muted-foreground", e),
    ...t3
  }
));
u2.displayName = Description.displayName;

// node_modules/zudoku/lib/RouteGuard-CbKd7_9h.js
var x2;
var K;
function Ee2() {
  if (K) return x2;
  K = 1;
  var e = typeof Element < "u", t3 = typeof Map == "function", r4 = typeof Set == "function", n4 = typeof ArrayBuffer == "function" && !!ArrayBuffer.isView;
  function o2(s3, l3) {
    if (s3 === l3) return true;
    if (s3 && l3 && typeof s3 == "object" && typeof l3 == "object") {
      if (s3.constructor !== l3.constructor) return false;
      var i5, a3, c6;
      if (Array.isArray(s3)) {
        if (i5 = s3.length, i5 != l3.length) return false;
        for (a3 = i5; a3-- !== 0; )
          if (!o2(s3[a3], l3[a3])) return false;
        return true;
      }
      var u5;
      if (t3 && s3 instanceof Map && l3 instanceof Map) {
        if (s3.size !== l3.size) return false;
        for (u5 = s3.entries(); !(a3 = u5.next()).done; )
          if (!l3.has(a3.value[0])) return false;
        for (u5 = s3.entries(); !(a3 = u5.next()).done; )
          if (!o2(a3.value[1], l3.get(a3.value[0]))) return false;
        return true;
      }
      if (r4 && s3 instanceof Set && l3 instanceof Set) {
        if (s3.size !== l3.size) return false;
        for (u5 = s3.entries(); !(a3 = u5.next()).done; )
          if (!l3.has(a3.value[0])) return false;
        return true;
      }
      if (n4 && ArrayBuffer.isView(s3) && ArrayBuffer.isView(l3)) {
        if (i5 = s3.length, i5 != l3.length) return false;
        for (a3 = i5; a3-- !== 0; )
          if (s3[a3] !== l3[a3]) return false;
        return true;
      }
      if (s3.constructor === RegExp) return s3.source === l3.source && s3.flags === l3.flags;
      if (s3.valueOf !== Object.prototype.valueOf && typeof s3.valueOf == "function" && typeof l3.valueOf == "function") return s3.valueOf() === l3.valueOf();
      if (s3.toString !== Object.prototype.toString && typeof s3.toString == "function" && typeof l3.toString == "function") return s3.toString() === l3.toString();
      if (c6 = Object.keys(s3), i5 = c6.length, i5 !== Object.keys(l3).length) return false;
      for (a3 = i5; a3-- !== 0; )
        if (!Object.prototype.hasOwnProperty.call(l3, c6[a3])) return false;
      if (e && s3 instanceof Element) return false;
      for (a3 = i5; a3-- !== 0; )
        if (!((c6[a3] === "_owner" || c6[a3] === "__v" || c6[a3] === "__o") && s3.$$typeof) && !o2(s3[c6[a3]], l3[c6[a3]]))
          return false;
      return true;
    }
    return s3 !== s3 && l3 !== l3;
  }
  return x2 = function(l3, i5) {
    try {
      return o2(l3, i5);
    } catch (a3) {
      if ((a3.message || "").match(/stack|recursion/i))
        return console.warn("react-fast-compare cannot handle circular refs"), false;
      throw a3;
    }
  }, x2;
}
var be2 = Ee2();
var Ce2 = f2(be2);
var P;
var z;
function Oe() {
  if (z) return P;
  z = 1;
  var e = function(t3, r4, n4, o2, s3, l3, i5, a3) {
    if (r4 === void 0)
      throw new Error("invariant requires an error message argument");
    if (!t3) {
      var c6;
      if (r4 === void 0)
        c6 = new Error(
          "Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."
        );
      else {
        var u5 = [n4, o2, s3, l3, i5, a3], f8 = 0;
        c6 = new Error(
          r4.replace(/%s/g, function() {
            return u5[f8++];
          })
        ), c6.name = "Invariant Violation";
      }
      throw c6.framesToPop = 1, c6;
    }
  };
  return P = e, P;
}
var we3 = Oe();
var N2 = f2(we3);
var R;
var B2;
function Se2() {
  return B2 || (B2 = 1, R = function(t3, r4, n4, o2) {
    var s3 = n4 ? n4.call(o2, t3, r4) : void 0;
    if (s3 !== void 0)
      return !!s3;
    if (t3 === r4)
      return true;
    if (typeof t3 != "object" || !t3 || typeof r4 != "object" || !r4)
      return false;
    var l3 = Object.keys(t3), i5 = Object.keys(r4);
    if (l3.length !== i5.length)
      return false;
    for (var a3 = Object.prototype.hasOwnProperty.bind(r4), c6 = 0; c6 < l3.length; c6++) {
      var u5 = l3[c6];
      if (!a3(u5))
        return false;
      var f8 = t3[u5], m3 = r4[u5];
      if (s3 = n4 ? n4.call(o2, f8, m3, u5) : void 0, s3 === false || s3 === void 0 && f8 !== m3)
        return false;
    }
    return true;
  }), R;
}
var xe2 = Se2();
var Pe2 = f2(xe2);
var Q2 = ((e) => (e.BASE = "base", e.BODY = "body", e.HEAD = "head", e.HTML = "html", e.LINK = "link", e.META = "meta", e.NOSCRIPT = "noscript", e.SCRIPT = "script", e.STYLE = "style", e.TITLE = "title", e.FRAGMENT = "Symbol(react.fragment)", e))(Q2 || {});
var D = {
  link: { rel: ["amphtml", "canonical", "alternate"] },
  script: { type: ["application/ld+json"] },
  meta: {
    charset: "",
    name: ["generator", "robots", "description"],
    property: [
      "og:type",
      "og:title",
      "og:url",
      "og:image",
      "og:image:alt",
      "og:description",
      "twitter:url",
      "twitter:title",
      "twitter:description",
      "twitter:image",
      "twitter:image:alt",
      "twitter:card",
      "twitter:site"
    ]
  }
};
var V2 = Object.values(Q2);
var q = {
  accesskey: "accessKey",
  charset: "charSet",
  class: "className",
  contenteditable: "contentEditable",
  contextmenu: "contextMenu",
  "http-equiv": "httpEquiv",
  itemprop: "itemProp",
  tabindex: "tabIndex"
};
var Re2 = Object.entries(q).reduce(
  (e, [t3, r4]) => (e[r4] = t3, e),
  {}
);
var h = "data-rh";
var A2 = {
  DEFAULT_TITLE: "defaultTitle",
  DEFER: "defer",
  ENCODE_SPECIAL_CHARACTERS: "encodeSpecialCharacters",
  ON_CHANGE_CLIENT_STATE: "onChangeClientState",
  TITLE_TEMPLATE: "titleTemplate",
  PRIORITIZE_SEO_TAGS: "prioritizeSeoTags"
};
var E = (e, t3) => {
  for (let r4 = e.length - 1; r4 >= 0; r4 -= 1) {
    const n4 = e[r4];
    if (Object.prototype.hasOwnProperty.call(n4, t3))
      return n4[t3];
  }
  return null;
};
var De2 = (e) => {
  let t3 = E(
    e,
    "title"
    /* TITLE */
  );
  const r4 = E(e, A2.TITLE_TEMPLATE);
  if (Array.isArray(t3) && (t3 = t3.join("")), r4 && t3)
    return r4.replace(/%s/g, () => t3);
  const n4 = E(e, A2.DEFAULT_TITLE);
  return t3 || n4 || void 0;
};
var Ie2 = (e) => E(e, A2.ON_CHANGE_CLIENT_STATE) || (() => {
});
var I = (e, t3) => t3.filter((r4) => typeof r4[e] < "u").map((r4) => r4[e]).reduce((r4, n4) => ({ ...r4, ...n4 }), {});
var $e = (e, t3) => t3.filter((r4) => typeof r4.base < "u").map((r4) => r4.base).reverse().reduce((r4, n4) => {
  if (!r4.length) {
    const o2 = Object.keys(n4);
    for (let s3 = 0; s3 < o2.length; s3 += 1) {
      const i5 = o2[s3].toLowerCase();
      if (e.indexOf(i5) !== -1 && n4[i5])
        return r4.concat(n4);
    }
  }
  return r4;
}, []);
var He = (e) => console && typeof console.warn == "function" && console.warn(e);
var b2 = (e, t3, r4) => {
  const n4 = {};
  return r4.filter((o2) => Array.isArray(o2[e]) ? true : (typeof o2[e] < "u" && He(
    `Helmet: ${e} should be of type "Array". Instead found type "${typeof o2[e]}"`
  ), false)).map((o2) => o2[e]).reverse().reduce((o2, s3) => {
    const l3 = {};
    s3.filter((a3) => {
      let c6;
      const u5 = Object.keys(a3);
      for (let m3 = 0; m3 < u5.length; m3 += 1) {
        const p3 = u5[m3], g6 = p3.toLowerCase();
        t3.indexOf(g6) !== -1 && !(c6 === "rel" && a3[c6].toLowerCase() === "canonical") && !(g6 === "rel" && a3[g6].toLowerCase() === "stylesheet") && (c6 = g6), t3.indexOf(p3) !== -1 && (p3 === "innerHTML" || p3 === "cssText" || p3 === "itemprop") && (c6 = p3);
      }
      if (!c6 || !a3[c6])
        return false;
      const f8 = a3[c6].toLowerCase();
      return n4[c6] || (n4[c6] = {}), l3[c6] || (l3[c6] = {}), n4[c6][f8] ? false : (l3[c6][f8] = true, true);
    }).reverse().forEach((a3) => o2.push(a3));
    const i5 = Object.keys(l3);
    for (let a3 = 0; a3 < i5.length; a3 += 1) {
      const c6 = i5[a3], u5 = {
        ...n4[c6],
        ...l3[c6]
      };
      n4[c6] = u5;
    }
    return o2;
  }, []).reverse();
};
var _e = (e, t3) => {
  if (Array.isArray(e) && e.length) {
    for (let r4 = 0; r4 < e.length; r4 += 1)
      if (e[r4][t3])
        return true;
  }
  return false;
};
var je = (e) => ({
  baseTag: $e([
    "href"
    /* HREF */
  ], e),
  bodyAttributes: I("bodyAttributes", e),
  defer: E(e, A2.DEFER),
  encode: E(e, A2.ENCODE_SPECIAL_CHARACTERS),
  htmlAttributes: I("htmlAttributes", e),
  linkTags: b2(
    "link",
    [
      "rel",
      "href"
      /* HREF */
    ],
    e
  ),
  metaTags: b2(
    "meta",
    [
      "name",
      "charset",
      "http-equiv",
      "property",
      "itemprop"
      /* ITEM_PROP */
    ],
    e
  ),
  noscriptTags: b2("noscript", [
    "innerHTML"
    /* INNER_HTML */
  ], e),
  onChangeClientState: Ie2(e),
  scriptTags: b2(
    "script",
    [
      "src",
      "innerHTML"
      /* INNER_HTML */
    ],
    e
  ),
  styleTags: b2("style", [
    "cssText"
    /* CSS_TEXT */
  ], e),
  title: De2(e),
  titleAttributes: I("titleAttributes", e),
  prioritizeSeoTags: _e(e, A2.PRIORITIZE_SEO_TAGS)
});
var W = (e) => Array.isArray(e) ? e.join("") : e;
var ke2 = (e, t3) => {
  const r4 = Object.keys(e);
  for (let n4 = 0; n4 < r4.length; n4 += 1)
    if (t3[r4[n4]] && t3[r4[n4]].includes(e[r4[n4]]))
      return true;
  return false;
};
var $2 = (e, t3) => Array.isArray(e) ? e.reduce(
  (r4, n4) => (ke2(n4, t3) ? r4.priority.push(n4) : r4.default.push(n4), r4),
  { priority: [], default: [] }
) : { default: e, priority: [] };
var Z = (e, t3) => ({
  ...e,
  [t3]: void 0
});
var Me = [
  "noscript",
  "script",
  "style"
  /* STYLE */
];
var H = (e, t3 = true) => t3 === false ? String(e) : String(e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;");
var J2 = (e) => Object.keys(e).reduce((t3, r4) => {
  const n4 = typeof e[r4] < "u" ? `${r4}="${e[r4]}"` : `${r4}`;
  return t3 ? `${t3} ${n4}` : n4;
}, "");
var Le = (e, t3, r4, n4) => {
  const o2 = J2(r4), s3 = W(t3);
  return o2 ? `<${e} ${h}="true" ${o2}>${H(
    s3,
    n4
  )}</${e}>` : `<${e} ${h}="true">${H(
    s3,
    n4
  )}</${e}>`;
};
var qe = (e, t3, r4 = true) => t3.reduce((n4, o2) => {
  const s3 = o2, l3 = Object.keys(s3).filter(
    (c6) => !(c6 === "innerHTML" || c6 === "cssText")
  ).reduce((c6, u5) => {
    const f8 = typeof s3[u5] > "u" ? u5 : `${u5}="${H(s3[u5], r4)}"`;
    return c6 ? `${c6} ${f8}` : f8;
  }, ""), i5 = s3.innerHTML || s3.cssText || "", a3 = Me.indexOf(e) === -1;
  return `${n4}<${e} ${h}="true" ${l3}${a3 ? "/>" : `>${i5}</${e}>`}`;
}, "");
var X3 = (e, t3 = {}) => Object.keys(e).reduce((r4, n4) => {
  const o2 = q[n4];
  return r4[o2 || n4] = e[n4], r4;
}, t3);
var Fe2 = (e, t3, r4) => {
  const n4 = {
    key: t3,
    [h]: true
  }, o2 = X3(r4, n4);
  return [import_react.default.createElement("title", o2, t3)];
};
var S = (e, t3) => t3.map((r4, n4) => {
  const o2 = {
    key: n4,
    [h]: true
  };
  return Object.keys(r4).forEach((s3) => {
    const i5 = q[s3] || s3;
    if (i5 === "innerHTML" || i5 === "cssText") {
      const a3 = r4.innerHTML || r4.cssText;
      o2.dangerouslySetInnerHTML = { __html: a3 };
    } else
      o2[i5] = r4[s3];
  }), import_react.default.createElement(e, o2);
});
var d = (e, t3, r4 = true) => {
  switch (e) {
    case "title":
      return {
        toComponent: () => Fe2(e, t3.title, t3.titleAttributes),
        toString: () => Le(e, t3.title, t3.titleAttributes, r4)
      };
    case "bodyAttributes":
    case "htmlAttributes":
      return {
        toComponent: () => X3(t3),
        toString: () => J2(t3)
      };
    default:
      return {
        toComponent: () => S(e, t3),
        toString: () => qe(e, t3, r4)
      };
  }
};
var Ue = ({ metaTags: e, linkTags: t3, scriptTags: r4, encode: n4 }) => {
  const o2 = $2(e, D.meta), s3 = $2(t3, D.link), l3 = $2(r4, D.script);
  return {
    priorityMethods: {
      toComponent: () => [
        ...S("meta", o2.priority),
        ...S("link", s3.priority),
        ...S("script", l3.priority)
      ],
      toString: () => (
        // generate all the tags as strings and concatenate them
        `${d("meta", o2.priority, n4)} ${d(
          "link",
          s3.priority,
          n4
        )} ${d("script", l3.priority, n4)}`
      )
    },
    metaTags: o2.default,
    linkTags: s3.default,
    scriptTags: l3.default
  };
};
var Ke = (e) => {
  const {
    baseTag: t3,
    bodyAttributes: r4,
    encode: n4 = true,
    htmlAttributes: o2,
    noscriptTags: s3,
    styleTags: l3,
    title: i5 = "",
    titleAttributes: a3,
    prioritizeSeoTags: c6
  } = e;
  let { linkTags: u5, metaTags: f8, scriptTags: m3 } = e, p3 = {
    toComponent: () => {
    },
    toString: () => ""
  };
  return c6 && ({ priorityMethods: p3, linkTags: u5, metaTags: f8, scriptTags: m3 } = Ue(e)), {
    priority: p3,
    base: d("base", t3, n4),
    bodyAttributes: d("bodyAttributes", r4, n4),
    htmlAttributes: d("htmlAttributes", o2, n4),
    link: d("link", u5, n4),
    meta: d("meta", f8, n4),
    noscript: d("noscript", s3, n4),
    script: d("script", m3, n4),
    style: d("style", l3, n4),
    title: d("title", { title: i5, titleAttributes: a3 }, n4)
  };
};
var _ = Ke;
var w = [];
var ee = !!(typeof window < "u" && window.document && window.document.createElement);
var j3 = class {
  instances = [];
  canUseDOM = ee;
  context;
  value = {
    setHelmet: (e) => {
      this.context.helmet = e;
    },
    helmetInstances: {
      get: () => this.canUseDOM ? w : this.instances,
      add: (e) => {
        (this.canUseDOM ? w : this.instances).push(e);
      },
      remove: (e) => {
        const t3 = (this.canUseDOM ? w : this.instances).indexOf(e);
        (this.canUseDOM ? w : this.instances).splice(t3, 1);
      }
    }
  };
  constructor(e, t3) {
    this.context = e, this.canUseDOM = t3 || false, t3 || (e.helmet = _({
      baseTag: [],
      bodyAttributes: {},
      htmlAttributes: {},
      linkTags: [],
      metaTags: [],
      noscriptTags: [],
      scriptTags: [],
      styleTags: [],
      title: "",
      titleAttributes: {}
    }));
  }
};
var ze = {};
var te = import_react.default.createContext(ze);
var Ne2 = class re extends import_react.Component {
  static canUseDOM = ee;
  helmetData;
  constructor(t3) {
    super(t3), this.helmetData = new j3(this.props.context || {}, re.canUseDOM);
  }
  render() {
    return import_react.default.createElement(te.Provider, { value: this.helmetData.value }, this.props.children);
  }
};
var v = (e, t3) => {
  const r4 = document.head || document.querySelector(
    "head"
    /* HEAD */
  ), n4 = r4.querySelectorAll(`${e}[${h}]`), o2 = [].slice.call(n4), s3 = [];
  let l3;
  return t3 && t3.length && t3.forEach((i5) => {
    const a3 = document.createElement(e);
    for (const c6 in i5)
      if (Object.prototype.hasOwnProperty.call(i5, c6))
        if (c6 === "innerHTML")
          a3.innerHTML = i5.innerHTML;
        else if (c6 === "cssText")
          a3.styleSheet ? a3.styleSheet.cssText = i5.cssText : a3.appendChild(document.createTextNode(i5.cssText));
        else {
          const u5 = c6, f8 = typeof i5[u5] > "u" ? "" : i5[u5];
          a3.setAttribute(c6, f8);
        }
    a3.setAttribute(h, "true"), o2.some((c6, u5) => (l3 = u5, a3.isEqualNode(c6))) ? o2.splice(l3, 1) : s3.push(a3);
  }), o2.forEach((i5) => i5.parentNode?.removeChild(i5)), s3.forEach((i5) => r4.appendChild(i5)), {
    oldTags: o2,
    newTags: s3
  };
};
var k2 = (e, t3) => {
  const r4 = document.getElementsByTagName(e)[0];
  if (!r4)
    return;
  const n4 = r4.getAttribute(h), o2 = n4 ? n4.split(",") : [], s3 = [...o2], l3 = Object.keys(t3);
  for (const i5 of l3) {
    const a3 = t3[i5] || "";
    r4.getAttribute(i5) !== a3 && r4.setAttribute(i5, a3), o2.indexOf(i5) === -1 && o2.push(i5);
    const c6 = s3.indexOf(i5);
    c6 !== -1 && s3.splice(c6, 1);
  }
  for (let i5 = s3.length - 1; i5 >= 0; i5 -= 1)
    r4.removeAttribute(s3[i5]);
  o2.length === s3.length ? r4.removeAttribute(h) : r4.getAttribute(h) !== l3.join(",") && r4.setAttribute(h, l3.join(","));
};
var Be = (e, t3) => {
  typeof e < "u" && document.title !== e && (document.title = W(e)), k2("title", t3);
};
var Y2 = (e, t3) => {
  const {
    baseTag: r4,
    bodyAttributes: n4,
    htmlAttributes: o2,
    linkTags: s3,
    metaTags: l3,
    noscriptTags: i5,
    onChangeClientState: a3,
    scriptTags: c6,
    styleTags: u5,
    title: f8,
    titleAttributes: m3
  } = e;
  k2("body", n4), k2("html", o2), Be(f8, m3);
  const p3 = {
    baseTag: v("base", r4),
    linkTags: v("link", s3),
    metaTags: v("meta", l3),
    noscriptTags: v("noscript", i5),
    scriptTags: v("script", c6),
    styleTags: v("style", u5)
  }, g6 = {}, F4 = {};
  Object.keys(p3).forEach((O4) => {
    const { newTags: U4, oldTags: ne6 } = p3[O4];
    U4.length && (g6[O4] = U4), ne6.length && (F4[O4] = p3[O4].oldTags);
  }), t3 && t3(), a3(e, g6, F4);
};
var C = null;
var Ve = (e) => {
  C && cancelAnimationFrame(C), e.defer ? C = requestAnimationFrame(() => {
    Y2(e, () => {
      C = null;
    });
  }) : (Y2(e), C = null);
};
var Ze = Ve;
var G = class extends import_react.Component {
  rendered = false;
  shouldComponentUpdate(e) {
    return !Pe2(e, this.props);
  }
  componentDidUpdate() {
    this.emitChange();
  }
  componentWillUnmount() {
    const { helmetInstances: e } = this.props.context;
    e.remove(this), this.emitChange();
  }
  emitChange() {
    const { helmetInstances: e, setHelmet: t3 } = this.props.context;
    let r4 = null;
    const n4 = je(
      e.get().map((o2) => {
        const s3 = { ...o2.props };
        return delete s3.context, s3;
      })
    );
    Ne2.canUseDOM ? Ze(n4) : _ && (r4 = _(n4)), t3(r4);
  }
  // componentWillMount will be deprecated
  // for SSR, initialize on first render
  // constructor is also unsafe in StrictMode
  init() {
    if (this.rendered)
      return;
    this.rendered = true;
    const { helmetInstances: e } = this.props.context;
    e.add(this), this.emitChange();
  }
  render() {
    return this.init(), null;
  }
};
var Ye = class extends import_react.Component {
  static defaultProps = {
    defer: true,
    encodeSpecialCharacters: true,
    prioritizeSeoTags: false
  };
  shouldComponentUpdate(e) {
    return !Ce2(Z(this.props, "helmetData"), Z(e, "helmetData"));
  }
  mapNestedChildrenToProps(e, t3) {
    if (!t3)
      return null;
    switch (e.type) {
      case "script":
      case "noscript":
        return {
          innerHTML: t3
        };
      case "style":
        return {
          cssText: t3
        };
      default:
        throw new Error(
          `<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`
        );
    }
  }
  flattenArrayTypeChildren(e, t3, r4, n4) {
    return {
      ...t3,
      [e.type]: [
        ...t3[e.type] || [],
        {
          ...r4,
          ...this.mapNestedChildrenToProps(e, n4)
        }
      ]
    };
  }
  mapObjectTypeChildren(e, t3, r4, n4) {
    switch (e.type) {
      case "title":
        return {
          ...t3,
          [e.type]: n4,
          titleAttributes: { ...r4 }
        };
      case "body":
        return {
          ...t3,
          bodyAttributes: { ...r4 }
        };
      case "html":
        return {
          ...t3,
          htmlAttributes: { ...r4 }
        };
      default:
        return {
          ...t3,
          [e.type]: { ...r4 }
        };
    }
  }
  mapArrayTypeChildrenToProps(e, t3) {
    let r4 = { ...t3 };
    return Object.keys(e).forEach((n4) => {
      r4 = {
        ...r4,
        [n4]: e[n4]
      };
    }), r4;
  }
  warnOnInvalidChildren(e, t3) {
    return N2(
      V2.some((r4) => e.type === r4),
      typeof e.type == "function" ? "You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information." : `Only elements types ${V2.join(
        ", "
      )} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`
    ), N2(
      !t3 || typeof t3 == "string" || Array.isArray(t3) && !t3.some((r4) => typeof r4 != "string"),
      `Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`
    ), true;
  }
  mapChildrenToProps(e, t3) {
    let r4 = {};
    return import_react.default.Children.forEach(e, (n4) => {
      if (!n4 || !n4.props)
        return;
      const { children: o2, ...s3 } = n4.props, l3 = Object.keys(s3).reduce((a3, c6) => (a3[Re2[c6] || c6] = s3[c6], a3), {});
      let { type: i5 } = n4;
      switch (typeof i5 == "symbol" ? i5 = i5.toString() : this.warnOnInvalidChildren(n4, o2), i5) {
        case "Symbol(react.fragment)":
          t3 = this.mapChildrenToProps(o2, t3);
          break;
        case "link":
        case "meta":
        case "noscript":
        case "script":
        case "style":
          r4 = this.flattenArrayTypeChildren(
            n4,
            r4,
            l3,
            o2
          );
          break;
        default:
          t3 = this.mapObjectTypeChildren(n4, t3, l3, o2);
          break;
      }
    }), this.mapArrayTypeChildrenToProps(r4, t3);
  }
  render() {
    const { children: e, ...t3 } = this.props;
    let r4 = { ...t3 }, { helmetData: n4 } = t3;
    if (e && (r4 = this.mapChildrenToProps(e, r4)), n4 && !(n4 instanceof j3)) {
      const o2 = n4;
      n4 = new j3(o2.context, true), delete r4.helmetData;
    }
    return n4 ? import_react.default.createElement(G, { ...r4, context: n4.value }) : import_react.default.createElement(te.Consumer, null, (o2) => import_react.default.createElement(G, { ...r4, context: o2 }));
  }
};
var Ge = (0, import_react.createContext)(false);
var Qe = (e) => {
  const t3 = (0, import_react.useRef)(e);
  return t3.current = e, (0, import_react.useEffect)(() => {
    t3.current = e;
  }, [e]), t3;
};
var We = "protected";
var st = () => {
  const e = de(), t3 = X(), r4 = ne(), n4 = N(), o2 = Qe(n4.pathname), s3 = (0, import_react.use)(Ge), { protectedRoutes: l3 = [] } = t3.options, i5 = !s3 && l3.some(
    (a3) => B({ path: a3, end: true }, n4.pathname)
  );
  if (Yt({
    queryKey: ["login-redirect"],
    queryFn: async () => (await new Promise((a3) => setTimeout(a3, 1200)), await t3.authentication?.signIn({
      redirectTo: o2.current
    }), true),
    enabled: typeof window < "u" && i5 && !e.isPending && !e.isAuthenticated
  }), i5 && !e.isAuthenticated)
    return ae.jsx(
      j2,
      {
        open: true,
        onOpenChange: (a3) => {
          a3 || r4(-1);
        },
        children: ae.jsxs(f3, { children: [
          ae.jsx(p, { children: ae.jsx(x, { children: "Logging you in..." }) }),
          ae.jsx(u2, { children: "Please wait while we log you in." })
        ] })
      }
    );
  if (i5 && !e.isAuthEnabled)
    throw new u("Authentication is not enabled", {
      title: "Authentication is not enabled",
      developerHint: "To use protectedRoutes you need authentication to be enabled"
    });
  return ae.jsxs(ae.Fragment, { children: [
    s3 && ae.jsx(Ye, { children: ae.jsx(
      "meta",
      {
        name: "pagefind",
        "data-pagefind-filter": `section:${We}`,
        content: "true"
      }
    ) }),
    ae.jsx(dr, {})
  ] });
};

// node_modules/zudoku/lib/index-ClhS5TxS.js
var n2 = __toESM(require_react(), 1);
var import_react2 = __toESM(require_react(), 1);
var M2 = {};
var O = import_react2.default.createContext(M2);
function R2(e) {
  const t3 = import_react2.default.useContext(O);
  return import_react2.default.useMemo(
    function() {
      return typeof e == "function" ? e(t3) : { ...t3, ...e };
    },
    [t3, e]
  );
}
function Q3(e) {
  let t3;
  return e.disableParentContext ? t3 = typeof e.components == "function" ? e.components(M2) : e.components || M2 : t3 = R2(e.components), import_react2.default.createElement(
    O.Provider,
    { value: t3 },
    e.children
  );
}
var V3 = (e, t3, a3, d2, c6, m3, u5, h3) => {
  let l3 = document.documentElement, v5 = ["light", "dark"];
  function f8(s3) {
    (Array.isArray(e) ? e : [e]).forEach((y4) => {
      let w6 = y4 === "class", x8 = w6 && m3 ? c6.map((b7) => m3[b7] || b7) : c6;
      w6 ? (l3.classList.remove(...x8), l3.classList.add(s3)) : l3.setAttribute(y4, s3);
    }), k3(s3);
  }
  function k3(s3) {
    h3 && v5.includes(s3) && (l3.style.colorScheme = s3);
  }
  function i5() {
    return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
  }
  if (d2) f8(d2);
  else try {
    let s3 = localStorage.getItem(t3) || a3, y4 = u5 && s3 === "system" ? i5() : s3;
    f8(y4);
  } catch {
  }
};
var I2 = ["light", "dark"];
var H2 = "(prefers-color-scheme: dark)";
var W2 = typeof window > "u";
var L2 = n2.createContext(void 0);
var X4 = { setTheme: (e) => {
}, themes: [] };
var U = () => {
  var e;
  return (e = n2.useContext(L2)) != null ? e : X4;
};
var q2 = (e) => n2.useContext(L2) ? n2.createElement(n2.Fragment, null, e.children) : n2.createElement(J3, { ...e });
var z2 = ["light", "dark"];
var J3 = ({ forcedTheme: e, disableTransitionOnChange: t3 = false, enableSystem: a3 = true, enableColorScheme: d2 = true, storageKey: c6 = "theme", themes: m3 = z2, defaultTheme: u5 = a3 ? "system" : "light", attribute: h3 = "data-theme", value: l3, children: v5, nonce: f8, scriptProps: k3 }) => {
  let [i5, s3] = n2.useState(() => _2(c6, u5)), [y4, w6] = n2.useState(() => _2(c6)), x8 = l3 ? Object.values(l3) : m3, b7 = n2.useCallback((r4) => {
    let o2 = r4;
    if (!o2) return;
    r4 === "system" && a3 && (o2 = D2());
    let C5 = l3 ? l3[o2] : o2, A3 = t3 ? j4(f8) : null, g6 = document.documentElement, P3 = (p3) => {
      p3 === "class" ? (g6.classList.remove(...x8), C5 && g6.classList.add(C5)) : p3.startsWith("data-") && (C5 ? g6.setAttribute(p3, C5) : g6.removeAttribute(p3));
    };
    if (Array.isArray(h3) ? h3.forEach(P3) : P3(h3), d2) {
      let p3 = I2.includes(u5) ? u5 : null, N5 = I2.includes(o2) ? o2 : p3;
      g6.style.colorScheme = N5;
    }
    A3?.();
  }, [f8]), S4 = n2.useCallback((r4) => {
    let o2 = typeof r4 == "function" ? r4(i5) : r4;
    s3(o2);
    try {
      localStorage.setItem(c6, o2);
    } catch {
    }
  }, [i5]), E5 = n2.useCallback((r4) => {
    let o2 = D2(r4);
    w6(o2), i5 === "system" && a3 && !e && b7("system");
  }, [i5, e]);
  n2.useEffect(() => {
    let r4 = window.matchMedia(H2);
    return r4.addListener(E5), E5(r4), () => r4.removeListener(E5);
  }, [E5]), n2.useEffect(() => {
    let r4 = (o2) => {
      o2.key === c6 && (o2.newValue ? s3(o2.newValue) : S4(u5));
    };
    return window.addEventListener("storage", r4), () => window.removeEventListener("storage", r4);
  }, [S4]), n2.useEffect(() => {
    b7(e ?? i5);
  }, [e, i5]);
  let K4 = n2.useMemo(() => ({ theme: i5, setTheme: S4, forcedTheme: e, resolvedTheme: i5 === "system" ? y4 : i5, themes: a3 ? [...m3, "system"] : m3, systemTheme: a3 ? y4 : void 0 }), [i5, S4, e, y4, a3, m3]);
  return n2.createElement(L2.Provider, { value: K4 }, n2.createElement($3, { forcedTheme: e, storageKey: c6, attribute: h3, enableSystem: a3, enableColorScheme: d2, defaultTheme: u5, value: l3, themes: m3, nonce: f8, scriptProps: k3 }), v5);
};
var $3 = n2.memo(({ forcedTheme: e, storageKey: t3, attribute: a3, enableSystem: d2, enableColorScheme: c6, defaultTheme: m3, value: u5, themes: h3, nonce: l3, scriptProps: v5 }) => {
  let f8 = JSON.stringify([a3, t3, m3, e, h3, u5, d2, c6]).slice(1, -1);
  return n2.createElement("script", { ...v5, suppressHydrationWarning: true, nonce: typeof window > "u" ? l3 : "", dangerouslySetInnerHTML: { __html: `(${V3.toString()})(${f8})` } });
});
var _2 = (e, t3) => {
  if (W2) return;
  let a3;
  try {
    a3 = localStorage.getItem(e) || void 0;
  } catch {
  }
  return a3 || t3;
};
var j4 = (e) => {
  let t3 = document.createElement("style");
  return e && t3.setAttribute("nonce", e), t3.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")), document.head.appendChild(t3), () => {
    window.getComputedStyle(document.body), setTimeout(() => {
      document.head.removeChild(t3);
    }, 1);
  };
};
var D2 = (e) => (e || (e = window.matchMedia(H2)), e.matches ? "dark" : "light");

// node_modules/zudoku/lib/ui/Callout.js
var y2 = {
  note: {
    border: "border-gray-300 dark:border-zinc-800",
    bg: "bg-gray-100 dark:bg-zinc-800/50",
    iconColor: "text-gray-600 dark:text-zinc-300",
    titleColor: "text-gray-600 dark:text-zinc-300",
    textColor: "text-gray-600 dark:text-zinc-300",
    Icon: Info
  },
  tip: {
    border: "border-green-500 dark:border-green-800",
    bg: "bg-green-200/25 dark:bg-green-950/70",
    iconColor: "text-green-600 dark:text-green-200",
    titleColor: "text-green-700 dark:text-green-200",
    textColor: "text-green-600 dark:text-green-50",
    Icon: Lightbulb
  },
  info: {
    border: "border-blue-400 dark:border-blue-900/60",
    bg: "bg-blue-50 dark:bg-blue-950/40",
    iconColor: "text-blue-400 dark:text-blue-200",
    titleColor: "text-blue-700 dark:text-blue-200",
    textColor: "text-blue-600 dark:text-blue-100",
    Icon: Info
  },
  caution: {
    border: "border-yellow-400 dark:border-yellow-400/25",
    bg: "bg-yellow-100/60 dark:bg-yellow-400/10",
    iconColor: "text-yellow-500 dark:text-yellow-300",
    titleColor: "text-yellow-600 dark:text-yellow-300",
    textColor: "text-yellow-700 dark:text-yellow-200",
    Icon: TriangleAlert
  },
  danger: {
    border: "border-rose-400 dark:border-rose-800",
    bg: "bg-rose-50 dark:bg-rose-950/40",
    iconColor: "text-rose-400 dark:text-rose-300",
    titleColor: "text-rose-800 dark:text-rose-300",
    textColor: "text-rose-700 dark:text-rose-100",
    Icon: ShieldAlert
  }
};
var w2 = ({
  type: d2,
  children: a3,
  title: e,
  className: n4,
  icon: r4 = true
}) => {
  const { border: b7, bg: s3, iconColor: x8, titleColor: i5, textColor: c6, Icon: g6 } = y2[d2];
  return ae.jsxs(
    "div",
    {
      className: mo(
        "not-prose rounded-md border p-4 text-md my-2",
        r4 && "grid grid-cols-[min-content_1fr] items-baseline grid-rows-[fit-content_1fr] gap-x-4 gap-y-2",
        !r4 && e && "flex flex-col gap-2",
        "[&_a]:underline [&_a]:decoration-current [&_a]:decoration-from-font [&_a]:underline-offset-4 hover:[&_a]:decoration-1",
        "[&_.code-block-wrapper]:border",
        "[&_ul]:list-disc [&_ol]:list-decimal [&_ul]:ps-4 [&_ul>li]:ps-1 [&_ul>li]:my-1",
        r4 && e && "items-center",
        b7,
        s3,
        n4
      ),
      children: [
        r4 && ae.jsx(
          g6,
          {
            className: mo(e ? "align-middle" : "translate-y-1", x8),
            size: 20,
            "aria-hidden": "true"
          }
        ),
        e && ae.jsx("h3", { className: mo("font-medium", i5), children: e }),
        ae.jsx(
          "div",
          {
            className: mo(
              r4 && "col-start-2",
              !e && r4 && "row-start-1",
              c6,
              "overflow-x-auto"
            ),
            children: a3
          }
        )
      ]
    }
  );
};

// node_modules/zudoku/lib/SyntaxHighlight-CrjhGEwT.js
var import_react5 = __toESM(require_react(), 1);

// node_modules/zudoku/lib/CodeBlock-DAKxs_Tu.js
var import_react3 = __toESM(require_react(), 1);
var C2 = (o2 = 2e3) => {
  const [r4, s3] = (0, import_react3.useState)(false), t3 = (0, import_react3.useCallback)(
    (l3) => {
      navigator.clipboard.writeText(l3), s3(true), setTimeout(() => s3(false), o2);
    },
    [o2]
  );
  return [r4, t3];
};
var w3 = ({
  children: o2,
  title: r4 = "Code",
  language: s3,
  showCopy: t3 = "hover",
  showLanguageIndicator: l3 = false,
  showLineNumbers: c6,
  ...d2
}) => {
  const [i5, p3] = C2(), a3 = (0, import_react3.useRef)(null);
  return o2 ? ae.jsxs(
    "div",
    {
      className: mo(
        "border code-block-wrapper relative group bg-muted/50 rounded-md overflow-hidden",
        c6 && "line-numbers"
      ),
      children: [
        ae.jsxs("div", { className: "border-b flex items-center h-10 font-sans bg-black/2", children: [
          ae.jsxs("div", { className: "flex-1 text-sm w-full px-4", children: [
            r4,
            l3 && s3 && ae.jsxs("span", { className: "text-muted-foreground ml-2", children: [
              "(",
              s3,
              ")"
            ] })
          ] }),
          " ",
          t3 !== "never" && ae.jsx(
            "button",
            {
              type: "button",
              "aria-label": "Copy code",
              title: "Copy code",
              className: mo(
                "cursor:pointer h-full hover:border-l-border active:shadow-none active:inset-shadow-xs hover:inset-shadow-xs flex items-center gap-2 px-4 outline-border text-sm hover:bg-black/5 transition-all"
              ),
              disabled: i5,
              onClick: () => {
                a3.current?.textContent && p3(a3.current.textContent);
              },
              children: i5 ? ae.jsx(
                Check,
                {
                  className: "text-emerald-600",
                  size: 14,
                  strokeWidth: 2.5,
                  absoluteStrokeWidth: true
                }
              ) : ae.jsx(Copy, { size: 14 })
            }
          )
        ] }),
        ae.jsx(
          "div",
          {
            className: mo(
              "code-block text-sm not-prose scrollbar overflow-x-auto scrollbar p-4",
              d2.className
            ),
            ref: a3,
            children: o2
          }
        )
      ]
    }
  ) : null;
};

// node_modules/zudoku/lib/ui/EmbeddedCodeBlock.js
var import_react4 = __toESM(require_react(), 1);
var j5 = ({
  children: s3,
  language: d2,
  showCopy: o2 = "hover",
  showCopyText: n4,
  showLanguageIndicator: l3 = true,
  showLineNumbers: c6,
  ...u5
}) => {
  const [a3, i5] = (0, import_react4.useState)(false), r4 = (0, import_react4.useRef)(null);
  return s3 ? ae.jsxs(
    "div",
    {
      className: mo(
        "code-block-wrapper relative group bg-muted/50",
        c6 && "line-numbers"
      ),
      children: [
        ae.jsx(
          "div",
          {
            className: mo(
              "code-block text-sm not-prose scrollbar overflow-x-auto scrollbar p-4",
              u5.className
            ),
            ref: r4,
            children: s3
          }
        ),
        l3 && ae.jsx(
          "span",
          {
            className: mo(
              "absolute top-1.5 end-3 !text-[11px] font-mono text-muted-foreground transition group-hover:opacity-0",
              o2 === "always" && "hidden"
            ),
            children: d2
          }
        ),
        o2 !== "never" && ae.jsxs(
          "button",
          {
            type: "button",
            "aria-label": "Copy code",
            title: "Copy code",
            className: mo(
              "absolute top-2 end-2 p-2 transition hover:shadow-xs active:shadow-none active:inset-shadow-xs hover:outline outline-border rounded-md text-sm text-muted-foreground",
              o2 === "hover" && "opacity-0 group-hover:opacity-100",
              n4 && "flex gap-2 items-center font-medium"
            ),
            disabled: a3,
            onClick: () => {
              r4.current?.textContent && (i5(true), navigator.clipboard.writeText(r4.current.textContent), setTimeout(() => i5(false), 2e3));
            },
            children: [
              a3 ? ae.jsx(
                Check,
                {
                  className: "text-emerald-600",
                  size: 16,
                  strokeWidth: 2.5,
                  absoluteStrokeWidth: true
                }
              ) : ae.jsx(Copy, { size: 16 }),
              n4 && "Copy"
            ]
          }
        )
      ]
    }
  ) : null;
};

// node_modules/zudoku/lib/SyntaxHighlight-CrjhGEwT.js
function Qc() {
}
function eh() {
}
function th(t3) {
  const e = [], n4 = String(t3 || "");
  let r4 = n4.indexOf(","), o2 = 0, s3 = false;
  for (; !s3; ) {
    r4 === -1 && (r4 = n4.length, s3 = true);
    const a3 = n4.slice(o2, r4).trim();
    (a3 || !s3) && e.push(a3), o2 = r4 + 1, r4 = n4.indexOf(",", o2);
  }
  return e;
}
function Ir(t3, e) {
  const n4 = e || {};
  return (t3[t3.length - 1] === "" ? [...t3, ""] : t3).join(
    (n4.padRight ? " " : "") + "," + (n4.padLeft === false ? "" : " ")
  ).trim();
}
var hs = /^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u;
var ps = /^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u;
var fs = {};
function In(t3, e) {
  return (fs.jsx ? ps : hs).test(t3);
}
var ds = /[ \t\n\f\r]/g;
function Ct(t3) {
  return typeof t3 == "object" ? t3.type === "text" ? Nn(t3.value) : false : Nn(t3);
}
function Nn(t3) {
  return t3.replace(ds, "") === "";
}
var Ve2 = class {
  /**
   * @param {SchemaType['property']} property
   *   Property.
   * @param {SchemaType['normal']} normal
   *   Normal.
   * @param {Space | undefined} [space]
   *   Space.
   * @returns
   *   Schema.
   */
  constructor(e, n4, r4) {
    this.normal = n4, this.property = e, r4 && (this.space = r4);
  }
};
Ve2.prototype.normal = {};
Ve2.prototype.property = {};
Ve2.prototype.space = void 0;
function Nr(t3, e) {
  const n4 = {}, r4 = {};
  for (const o2 of t3)
    Object.assign(n4, o2.property), Object.assign(r4, o2.normal);
  return new Ve2(n4, r4, e);
}
function zt(t3) {
  return t3.toLowerCase();
}
var W3 = class {
  /**
   * @param {string} property
   *   Property.
   * @param {string} attribute
   *   Attribute.
   * @returns
   *   Info.
   */
  constructor(e, n4) {
    this.attribute = n4, this.property = e;
  }
};
W3.prototype.attribute = "";
W3.prototype.booleanish = false;
W3.prototype.boolean = false;
W3.prototype.commaOrSpaceSeparated = false;
W3.prototype.commaSeparated = false;
W3.prototype.defined = false;
W3.prototype.mustUseProperty = false;
W3.prototype.number = false;
W3.prototype.overloadedBoolean = false;
W3.prototype.property = "";
W3.prototype.spaceSeparated = false;
W3.prototype.space = void 0;
var gs = 0;
var x5 = ye();
var $4 = ye();
var Pr = ye();
var b5 = ye();
var I3 = ye();
var xe3 = ye();
var V4 = ye();
function ye() {
  return 2 ** ++gs;
}
var Ht = Object.freeze(Object.defineProperty({
  __proto__: null,
  boolean: x5,
  booleanish: $4,
  commaOrSpaceSeparated: V4,
  commaSeparated: xe3,
  number: b5,
  overloadedBoolean: Pr,
  spaceSeparated: I3
}, Symbol.toStringTag, { value: "Module" }));
var At = (
  /** @type {ReadonlyArray<keyof typeof types>} */
  Object.keys(Ht)
);
var hn = class extends W3 {
  /**
   * @constructor
   * @param {string} property
   *   Property.
   * @param {string} attribute
   *   Attribute.
   * @param {number | null | undefined} [mask]
   *   Mask.
   * @param {Space | undefined} [space]
   *   Space.
   * @returns
   *   Info.
   */
  constructor(e, n4, r4, o2) {
    let s3 = -1;
    if (super(e, n4), Pn(this, "space", o2), typeof r4 == "number")
      for (; ++s3 < At.length; ) {
        const a3 = At[s3];
        Pn(this, At[s3], (r4 & Ht[a3]) === Ht[a3]);
      }
  }
};
hn.prototype.defined = true;
function Pn(t3, e, n4) {
  n4 && (t3[e] = n4);
}
function Ie3(t3) {
  const e = {}, n4 = {};
  for (const [r4, o2] of Object.entries(t3.properties)) {
    const s3 = new hn(
      r4,
      t3.transform(t3.attributes || {}, r4),
      o2,
      t3.space
    );
    t3.mustUseProperty && t3.mustUseProperty.includes(r4) && (s3.mustUseProperty = true), e[r4] = s3, n4[zt(r4)] = r4, n4[zt(s3.attribute)] = r4;
  }
  return new Ve2(e, n4, t3.space);
}
var Lr = Ie3({
  properties: {
    ariaActiveDescendant: null,
    ariaAtomic: $4,
    ariaAutoComplete: null,
    ariaBusy: $4,
    ariaChecked: $4,
    ariaColCount: b5,
    ariaColIndex: b5,
    ariaColSpan: b5,
    ariaControls: I3,
    ariaCurrent: null,
    ariaDescribedBy: I3,
    ariaDetails: null,
    ariaDisabled: $4,
    ariaDropEffect: I3,
    ariaErrorMessage: null,
    ariaExpanded: $4,
    ariaFlowTo: I3,
    ariaGrabbed: $4,
    ariaHasPopup: null,
    ariaHidden: $4,
    ariaInvalid: null,
    ariaKeyShortcuts: null,
    ariaLabel: null,
    ariaLabelledBy: I3,
    ariaLevel: b5,
    ariaLive: null,
    ariaModal: $4,
    ariaMultiLine: $4,
    ariaMultiSelectable: $4,
    ariaOrientation: null,
    ariaOwns: I3,
    ariaPlaceholder: null,
    ariaPosInSet: b5,
    ariaPressed: $4,
    ariaReadOnly: $4,
    ariaRelevant: null,
    ariaRequired: $4,
    ariaRoleDescription: I3,
    ariaRowCount: b5,
    ariaRowIndex: b5,
    ariaRowSpan: b5,
    ariaSelected: $4,
    ariaSetSize: b5,
    ariaSort: null,
    ariaValueMax: b5,
    ariaValueMin: b5,
    ariaValueNow: b5,
    ariaValueText: null,
    role: null
  },
  transform(t3, e) {
    return e === "role" ? e : "aria-" + e.slice(4).toLowerCase();
  }
});
function $r(t3, e) {
  return e in t3 ? t3[e] : e;
}
function Tr(t3, e) {
  return $r(t3, e.toLowerCase());
}
var ms = Ie3({
  attributes: {
    acceptcharset: "accept-charset",
    classname: "class",
    htmlfor: "for",
    httpequiv: "http-equiv"
  },
  mustUseProperty: ["checked", "multiple", "muted", "selected"],
  properties: {
    // Standard Properties.
    abbr: null,
    accept: xe3,
    acceptCharset: I3,
    accessKey: I3,
    action: null,
    allow: null,
    allowFullScreen: x5,
    allowPaymentRequest: x5,
    allowUserMedia: x5,
    alt: null,
    as: null,
    async: x5,
    autoCapitalize: null,
    autoComplete: I3,
    autoFocus: x5,
    autoPlay: x5,
    blocking: I3,
    capture: null,
    charSet: null,
    checked: x5,
    cite: null,
    className: I3,
    cols: b5,
    colSpan: null,
    content: null,
    contentEditable: $4,
    controls: x5,
    controlsList: I3,
    coords: b5 | xe3,
    crossOrigin: null,
    data: null,
    dateTime: null,
    decoding: null,
    default: x5,
    defer: x5,
    dir: null,
    dirName: null,
    disabled: x5,
    download: Pr,
    draggable: $4,
    encType: null,
    enterKeyHint: null,
    fetchPriority: null,
    form: null,
    formAction: null,
    formEncType: null,
    formMethod: null,
    formNoValidate: x5,
    formTarget: null,
    headers: I3,
    height: b5,
    hidden: x5,
    high: b5,
    href: null,
    hrefLang: null,
    htmlFor: I3,
    httpEquiv: I3,
    id: null,
    imageSizes: null,
    imageSrcSet: null,
    inert: x5,
    inputMode: null,
    integrity: null,
    is: null,
    isMap: x5,
    itemId: null,
    itemProp: I3,
    itemRef: I3,
    itemScope: x5,
    itemType: I3,
    kind: null,
    label: null,
    lang: null,
    language: null,
    list: null,
    loading: null,
    loop: x5,
    low: b5,
    manifest: null,
    max: null,
    maxLength: b5,
    media: null,
    method: null,
    min: null,
    minLength: b5,
    multiple: x5,
    muted: x5,
    name: null,
    nonce: null,
    noModule: x5,
    noValidate: x5,
    onAbort: null,
    onAfterPrint: null,
    onAuxClick: null,
    onBeforeMatch: null,
    onBeforePrint: null,
    onBeforeToggle: null,
    onBeforeUnload: null,
    onBlur: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onContextLost: null,
    onContextMenu: null,
    onContextRestored: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFormData: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLanguageChange: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadEnd: null,
    onLoadStart: null,
    onMessage: null,
    onMessageError: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRejectionHandled: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onScrollEnd: null,
    onSecurityPolicyViolation: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onSlotChange: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnhandledRejection: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onWheel: null,
    open: x5,
    optimum: b5,
    pattern: null,
    ping: I3,
    placeholder: null,
    playsInline: x5,
    popover: null,
    popoverTarget: null,
    popoverTargetAction: null,
    poster: null,
    preload: null,
    readOnly: x5,
    referrerPolicy: null,
    rel: I3,
    required: x5,
    reversed: x5,
    rows: b5,
    rowSpan: b5,
    sandbox: I3,
    scope: null,
    scoped: x5,
    seamless: x5,
    selected: x5,
    shadowRootClonable: x5,
    shadowRootDelegatesFocus: x5,
    shadowRootMode: null,
    shape: null,
    size: b5,
    sizes: null,
    slot: null,
    span: b5,
    spellCheck: $4,
    src: null,
    srcDoc: null,
    srcLang: null,
    srcSet: null,
    start: b5,
    step: null,
    style: null,
    tabIndex: b5,
    target: null,
    title: null,
    translate: null,
    type: null,
    typeMustMatch: x5,
    useMap: null,
    value: $4,
    width: b5,
    wrap: null,
    writingSuggestions: null,
    // Legacy.
    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis
    align: null,
    // Several. Use CSS `text-align` instead,
    aLink: null,
    // `<body>`. Use CSS `a:active {color}` instead
    archive: I3,
    // `<object>`. List of URIs to archives
    axis: null,
    // `<td>` and `<th>`. Use `scope` on `<th>`
    background: null,
    // `<body>`. Use CSS `background-image` instead
    bgColor: null,
    // `<body>` and table elements. Use CSS `background-color` instead
    border: b5,
    // `<table>`. Use CSS `border-width` instead,
    borderColor: null,
    // `<table>`. Use CSS `border-color` instead,
    bottomMargin: b5,
    // `<body>`
    cellPadding: null,
    // `<table>`
    cellSpacing: null,
    // `<table>`
    char: null,
    // Several table elements. When `align=char`, sets the character to align on
    charOff: null,
    // Several table elements. When `char`, offsets the alignment
    classId: null,
    // `<object>`
    clear: null,
    // `<br>`. Use CSS `clear` instead
    code: null,
    // `<object>`
    codeBase: null,
    // `<object>`
    codeType: null,
    // `<object>`
    color: null,
    // `<font>` and `<hr>`. Use CSS instead
    compact: x5,
    // Lists. Use CSS to reduce space between items instead
    declare: x5,
    // `<object>`
    event: null,
    // `<script>`
    face: null,
    // `<font>`. Use CSS instead
    frame: null,
    // `<table>`
    frameBorder: null,
    // `<iframe>`. Use CSS `border` instead
    hSpace: b5,
    // `<img>` and `<object>`
    leftMargin: b5,
    // `<body>`
    link: null,
    // `<body>`. Use CSS `a:link {color: *}` instead
    longDesc: null,
    // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`
    lowSrc: null,
    // `<img>`. Use a `<picture>`
    marginHeight: b5,
    // `<body>`
    marginWidth: b5,
    // `<body>`
    noResize: x5,
    // `<frame>`
    noHref: x5,
    // `<area>`. Use no href instead of an explicit `nohref`
    noShade: x5,
    // `<hr>`. Use background-color and height instead of borders
    noWrap: x5,
    // `<td>` and `<th>`
    object: null,
    // `<applet>`
    profile: null,
    // `<head>`
    prompt: null,
    // `<isindex>`
    rev: null,
    // `<link>`
    rightMargin: b5,
    // `<body>`
    rules: null,
    // `<table>`
    scheme: null,
    // `<meta>`
    scrolling: $4,
    // `<frame>`. Use overflow in the child context
    standby: null,
    // `<object>`
    summary: null,
    // `<table>`
    text: null,
    // `<body>`. Use CSS `color` instead
    topMargin: b5,
    // `<body>`
    valueType: null,
    // `<param>`
    version: null,
    // `<html>`. Use a doctype.
    vAlign: null,
    // Several. Use CSS `vertical-align` instead
    vLink: null,
    // `<body>`. Use CSS `a:visited {color}` instead
    vSpace: b5,
    // `<img>` and `<object>`
    // Non-standard Properties.
    allowTransparency: null,
    autoCorrect: null,
    autoSave: null,
    disablePictureInPicture: x5,
    disableRemotePlayback: x5,
    prefix: null,
    property: null,
    results: b5,
    security: null,
    unselectable: null
  },
  space: "html",
  transform: Tr
});
var ys = Ie3({
  attributes: {
    accentHeight: "accent-height",
    alignmentBaseline: "alignment-baseline",
    arabicForm: "arabic-form",
    baselineShift: "baseline-shift",
    capHeight: "cap-height",
    className: "class",
    clipPath: "clip-path",
    clipRule: "clip-rule",
    colorInterpolation: "color-interpolation",
    colorInterpolationFilters: "color-interpolation-filters",
    colorProfile: "color-profile",
    colorRendering: "color-rendering",
    crossOrigin: "crossorigin",
    dataType: "datatype",
    dominantBaseline: "dominant-baseline",
    enableBackground: "enable-background",
    fillOpacity: "fill-opacity",
    fillRule: "fill-rule",
    floodColor: "flood-color",
    floodOpacity: "flood-opacity",
    fontFamily: "font-family",
    fontSize: "font-size",
    fontSizeAdjust: "font-size-adjust",
    fontStretch: "font-stretch",
    fontStyle: "font-style",
    fontVariant: "font-variant",
    fontWeight: "font-weight",
    glyphName: "glyph-name",
    glyphOrientationHorizontal: "glyph-orientation-horizontal",
    glyphOrientationVertical: "glyph-orientation-vertical",
    hrefLang: "hreflang",
    horizAdvX: "horiz-adv-x",
    horizOriginX: "horiz-origin-x",
    horizOriginY: "horiz-origin-y",
    imageRendering: "image-rendering",
    letterSpacing: "letter-spacing",
    lightingColor: "lighting-color",
    markerEnd: "marker-end",
    markerMid: "marker-mid",
    markerStart: "marker-start",
    navDown: "nav-down",
    navDownLeft: "nav-down-left",
    navDownRight: "nav-down-right",
    navLeft: "nav-left",
    navNext: "nav-next",
    navPrev: "nav-prev",
    navRight: "nav-right",
    navUp: "nav-up",
    navUpLeft: "nav-up-left",
    navUpRight: "nav-up-right",
    onAbort: "onabort",
    onActivate: "onactivate",
    onAfterPrint: "onafterprint",
    onBeforePrint: "onbeforeprint",
    onBegin: "onbegin",
    onCancel: "oncancel",
    onCanPlay: "oncanplay",
    onCanPlayThrough: "oncanplaythrough",
    onChange: "onchange",
    onClick: "onclick",
    onClose: "onclose",
    onCopy: "oncopy",
    onCueChange: "oncuechange",
    onCut: "oncut",
    onDblClick: "ondblclick",
    onDrag: "ondrag",
    onDragEnd: "ondragend",
    onDragEnter: "ondragenter",
    onDragExit: "ondragexit",
    onDragLeave: "ondragleave",
    onDragOver: "ondragover",
    onDragStart: "ondragstart",
    onDrop: "ondrop",
    onDurationChange: "ondurationchange",
    onEmptied: "onemptied",
    onEnd: "onend",
    onEnded: "onended",
    onError: "onerror",
    onFocus: "onfocus",
    onFocusIn: "onfocusin",
    onFocusOut: "onfocusout",
    onHashChange: "onhashchange",
    onInput: "oninput",
    onInvalid: "oninvalid",
    onKeyDown: "onkeydown",
    onKeyPress: "onkeypress",
    onKeyUp: "onkeyup",
    onLoad: "onload",
    onLoadedData: "onloadeddata",
    onLoadedMetadata: "onloadedmetadata",
    onLoadStart: "onloadstart",
    onMessage: "onmessage",
    onMouseDown: "onmousedown",
    onMouseEnter: "onmouseenter",
    onMouseLeave: "onmouseleave",
    onMouseMove: "onmousemove",
    onMouseOut: "onmouseout",
    onMouseOver: "onmouseover",
    onMouseUp: "onmouseup",
    onMouseWheel: "onmousewheel",
    onOffline: "onoffline",
    onOnline: "ononline",
    onPageHide: "onpagehide",
    onPageShow: "onpageshow",
    onPaste: "onpaste",
    onPause: "onpause",
    onPlay: "onplay",
    onPlaying: "onplaying",
    onPopState: "onpopstate",
    onProgress: "onprogress",
    onRateChange: "onratechange",
    onRepeat: "onrepeat",
    onReset: "onreset",
    onResize: "onresize",
    onScroll: "onscroll",
    onSeeked: "onseeked",
    onSeeking: "onseeking",
    onSelect: "onselect",
    onShow: "onshow",
    onStalled: "onstalled",
    onStorage: "onstorage",
    onSubmit: "onsubmit",
    onSuspend: "onsuspend",
    onTimeUpdate: "ontimeupdate",
    onToggle: "ontoggle",
    onUnload: "onunload",
    onVolumeChange: "onvolumechange",
    onWaiting: "onwaiting",
    onZoom: "onzoom",
    overlinePosition: "overline-position",
    overlineThickness: "overline-thickness",
    paintOrder: "paint-order",
    panose1: "panose-1",
    pointerEvents: "pointer-events",
    referrerPolicy: "referrerpolicy",
    renderingIntent: "rendering-intent",
    shapeRendering: "shape-rendering",
    stopColor: "stop-color",
    stopOpacity: "stop-opacity",
    strikethroughPosition: "strikethrough-position",
    strikethroughThickness: "strikethrough-thickness",
    strokeDashArray: "stroke-dasharray",
    strokeDashOffset: "stroke-dashoffset",
    strokeLineCap: "stroke-linecap",
    strokeLineJoin: "stroke-linejoin",
    strokeMiterLimit: "stroke-miterlimit",
    strokeOpacity: "stroke-opacity",
    strokeWidth: "stroke-width",
    tabIndex: "tabindex",
    textAnchor: "text-anchor",
    textDecoration: "text-decoration",
    textRendering: "text-rendering",
    transformOrigin: "transform-origin",
    typeOf: "typeof",
    underlinePosition: "underline-position",
    underlineThickness: "underline-thickness",
    unicodeBidi: "unicode-bidi",
    unicodeRange: "unicode-range",
    unitsPerEm: "units-per-em",
    vAlphabetic: "v-alphabetic",
    vHanging: "v-hanging",
    vIdeographic: "v-ideographic",
    vMathematical: "v-mathematical",
    vectorEffect: "vector-effect",
    vertAdvY: "vert-adv-y",
    vertOriginX: "vert-origin-x",
    vertOriginY: "vert-origin-y",
    wordSpacing: "word-spacing",
    writingMode: "writing-mode",
    xHeight: "x-height",
    // These were camelcased in Tiny. Now lowercased in SVG 2
    playbackOrder: "playbackorder",
    timelineBegin: "timelinebegin"
  },
  properties: {
    about: V4,
    accentHeight: b5,
    accumulate: null,
    additive: null,
    alignmentBaseline: null,
    alphabetic: b5,
    amplitude: b5,
    arabicForm: null,
    ascent: b5,
    attributeName: null,
    attributeType: null,
    azimuth: b5,
    bandwidth: null,
    baselineShift: null,
    baseFrequency: null,
    baseProfile: null,
    bbox: null,
    begin: null,
    bias: b5,
    by: null,
    calcMode: null,
    capHeight: b5,
    className: I3,
    clip: null,
    clipPath: null,
    clipPathUnits: null,
    clipRule: null,
    color: null,
    colorInterpolation: null,
    colorInterpolationFilters: null,
    colorProfile: null,
    colorRendering: null,
    content: null,
    contentScriptType: null,
    contentStyleType: null,
    crossOrigin: null,
    cursor: null,
    cx: null,
    cy: null,
    d: null,
    dataType: null,
    defaultAction: null,
    descent: b5,
    diffuseConstant: b5,
    direction: null,
    display: null,
    dur: null,
    divisor: b5,
    dominantBaseline: null,
    download: x5,
    dx: null,
    dy: null,
    edgeMode: null,
    editable: null,
    elevation: b5,
    enableBackground: null,
    end: null,
    event: null,
    exponent: b5,
    externalResourcesRequired: null,
    fill: null,
    fillOpacity: b5,
    fillRule: null,
    filter: null,
    filterRes: null,
    filterUnits: null,
    floodColor: null,
    floodOpacity: null,
    focusable: null,
    focusHighlight: null,
    fontFamily: null,
    fontSize: null,
    fontSizeAdjust: null,
    fontStretch: null,
    fontStyle: null,
    fontVariant: null,
    fontWeight: null,
    format: null,
    fr: null,
    from: null,
    fx: null,
    fy: null,
    g1: xe3,
    g2: xe3,
    glyphName: xe3,
    glyphOrientationHorizontal: null,
    glyphOrientationVertical: null,
    glyphRef: null,
    gradientTransform: null,
    gradientUnits: null,
    handler: null,
    hanging: b5,
    hatchContentUnits: null,
    hatchUnits: null,
    height: null,
    href: null,
    hrefLang: null,
    horizAdvX: b5,
    horizOriginX: b5,
    horizOriginY: b5,
    id: null,
    ideographic: b5,
    imageRendering: null,
    initialVisibility: null,
    in: null,
    in2: null,
    intercept: b5,
    k: b5,
    k1: b5,
    k2: b5,
    k3: b5,
    k4: b5,
    kernelMatrix: V4,
    kernelUnitLength: null,
    keyPoints: null,
    // SEMI_COLON_SEPARATED
    keySplines: null,
    // SEMI_COLON_SEPARATED
    keyTimes: null,
    // SEMI_COLON_SEPARATED
    kerning: null,
    lang: null,
    lengthAdjust: null,
    letterSpacing: null,
    lightingColor: null,
    limitingConeAngle: b5,
    local: null,
    markerEnd: null,
    markerMid: null,
    markerStart: null,
    markerHeight: null,
    markerUnits: null,
    markerWidth: null,
    mask: null,
    maskContentUnits: null,
    maskUnits: null,
    mathematical: null,
    max: null,
    media: null,
    mediaCharacterEncoding: null,
    mediaContentEncodings: null,
    mediaSize: b5,
    mediaTime: null,
    method: null,
    min: null,
    mode: null,
    name: null,
    navDown: null,
    navDownLeft: null,
    navDownRight: null,
    navLeft: null,
    navNext: null,
    navPrev: null,
    navRight: null,
    navUp: null,
    navUpLeft: null,
    navUpRight: null,
    numOctaves: null,
    observer: null,
    offset: null,
    onAbort: null,
    onActivate: null,
    onAfterPrint: null,
    onBeforePrint: null,
    onBegin: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnd: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFocusIn: null,
    onFocusOut: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadStart: null,
    onMessage: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onMouseWheel: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRepeat: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onShow: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onZoom: null,
    opacity: null,
    operator: null,
    order: null,
    orient: null,
    orientation: null,
    origin: null,
    overflow: null,
    overlay: null,
    overlinePosition: b5,
    overlineThickness: b5,
    paintOrder: null,
    panose1: null,
    path: null,
    pathLength: b5,
    patternContentUnits: null,
    patternTransform: null,
    patternUnits: null,
    phase: null,
    ping: I3,
    pitch: null,
    playbackOrder: null,
    pointerEvents: null,
    points: null,
    pointsAtX: b5,
    pointsAtY: b5,
    pointsAtZ: b5,
    preserveAlpha: null,
    preserveAspectRatio: null,
    primitiveUnits: null,
    propagate: null,
    property: V4,
    r: null,
    radius: null,
    referrerPolicy: null,
    refX: null,
    refY: null,
    rel: V4,
    rev: V4,
    renderingIntent: null,
    repeatCount: null,
    repeatDur: null,
    requiredExtensions: V4,
    requiredFeatures: V4,
    requiredFonts: V4,
    requiredFormats: V4,
    resource: null,
    restart: null,
    result: null,
    rotate: null,
    rx: null,
    ry: null,
    scale: null,
    seed: null,
    shapeRendering: null,
    side: null,
    slope: null,
    snapshotTime: null,
    specularConstant: b5,
    specularExponent: b5,
    spreadMethod: null,
    spacing: null,
    startOffset: null,
    stdDeviation: null,
    stemh: null,
    stemv: null,
    stitchTiles: null,
    stopColor: null,
    stopOpacity: null,
    strikethroughPosition: b5,
    strikethroughThickness: b5,
    string: null,
    stroke: null,
    strokeDashArray: V4,
    strokeDashOffset: null,
    strokeLineCap: null,
    strokeLineJoin: null,
    strokeMiterLimit: b5,
    strokeOpacity: b5,
    strokeWidth: null,
    style: null,
    surfaceScale: b5,
    syncBehavior: null,
    syncBehaviorDefault: null,
    syncMaster: null,
    syncTolerance: null,
    syncToleranceDefault: null,
    systemLanguage: V4,
    tabIndex: b5,
    tableValues: null,
    target: null,
    targetX: b5,
    targetY: b5,
    textAnchor: null,
    textDecoration: null,
    textRendering: null,
    textLength: null,
    timelineBegin: null,
    title: null,
    transformBehavior: null,
    type: null,
    typeOf: V4,
    to: null,
    transform: null,
    transformOrigin: null,
    u1: null,
    u2: null,
    underlinePosition: b5,
    underlineThickness: b5,
    unicode: null,
    unicodeBidi: null,
    unicodeRange: null,
    unitsPerEm: b5,
    values: null,
    vAlphabetic: b5,
    vMathematical: b5,
    vectorEffect: null,
    vHanging: b5,
    vIdeographic: b5,
    version: null,
    vertAdvY: b5,
    vertOriginX: b5,
    vertOriginY: b5,
    viewBox: null,
    viewTarget: null,
    visibility: null,
    width: null,
    widths: null,
    wordSpacing: null,
    writingMode: null,
    x: null,
    x1: null,
    x2: null,
    xChannelSelector: null,
    xHeight: b5,
    y: null,
    y1: null,
    y2: null,
    yChannelSelector: null,
    z: null,
    zoomAndPan: null
  },
  space: "svg",
  transform: $r
});
var Mr = Ie3({
  properties: {
    xLinkActuate: null,
    xLinkArcRole: null,
    xLinkHref: null,
    xLinkRole: null,
    xLinkShow: null,
    xLinkTitle: null,
    xLinkType: null
  },
  space: "xlink",
  transform(t3, e) {
    return "xlink:" + e.slice(5).toLowerCase();
  }
});
var Or = Ie3({
  attributes: { xmlnsxlink: "xmlns:xlink" },
  properties: { xmlnsXLink: null, xmlns: null },
  space: "xmlns",
  transform: Tr
});
var Dr = Ie3({
  properties: { xmlBase: null, xmlLang: null, xmlSpace: null },
  space: "xml",
  transform(t3, e) {
    return "xml:" + e.slice(3).toLowerCase();
  }
});
var bs = {
  classId: "classID",
  dataType: "datatype",
  itemId: "itemID",
  strokeDashArray: "strokeDasharray",
  strokeDashOffset: "strokeDashoffset",
  strokeLineCap: "strokeLinecap",
  strokeLineJoin: "strokeLinejoin",
  strokeMiterLimit: "strokeMiterlimit",
  typeOf: "typeof",
  xLinkActuate: "xlinkActuate",
  xLinkArcRole: "xlinkArcrole",
  xLinkHref: "xlinkHref",
  xLinkRole: "xlinkRole",
  xLinkShow: "xlinkShow",
  xLinkTitle: "xlinkTitle",
  xLinkType: "xlinkType",
  xmlnsXLink: "xmlnsXlink"
};
var ws = /[A-Z]/g;
var Ln = /-[a-z]/g;
var Cs = /^data[-\w.:]+$/i;
function _s(t3, e) {
  const n4 = zt(e);
  let r4 = e, o2 = W3;
  if (n4 in t3.normal)
    return t3.property[t3.normal[n4]];
  if (n4.length > 4 && n4.slice(0, 4) === "data" && Cs.test(e)) {
    if (e.charAt(4) === "-") {
      const s3 = e.slice(5).replace(Ln, ks);
      r4 = "data" + s3.charAt(0).toUpperCase() + s3.slice(1);
    } else {
      const s3 = e.slice(4);
      if (!Ln.test(s3)) {
        let a3 = s3.replace(ws, Ss);
        a3.charAt(0) !== "-" && (a3 = "-" + a3), e = "data" + a3;
      }
    }
    o2 = hn;
  }
  return new o2(r4, e);
}
function Ss(t3) {
  return "-" + t3.toLowerCase();
}
function ks(t3) {
  return t3.charAt(1).toUpperCase();
}
var vs = Nr([Lr, ms, Mr, Or, Dr], "html");
var pn = Nr([Lr, ys, Mr, Or, Dr], "svg");
function sh(t3) {
  const e = String(t3 || "").trim();
  return e ? e.split(/[ \t\n\r\f]+/g) : [];
}
function Gr(t3) {
  return t3.join(" ").trim();
}
var we4 = {};
var Rt;
var $n;
function xs() {
  if ($n) return Rt;
  $n = 1;
  var t3 = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g, e = /\n/g, n4 = /^\s*/, r4 = /^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/, o2 = /^:\s*/, s3 = /^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/, a3 = /^[;\s]*/, i5 = /^\s+|\s+$/g, l3 = `
`, u5 = "/", c6 = "*", h3 = "", d2 = "comment", f8 = "declaration";
  Rt = function(m3, g6) {
    if (typeof m3 != "string")
      throw new TypeError("First argument must be a string");
    if (!m3) return [];
    g6 = g6 || {};
    var C5 = 1, y4 = 1;
    function _5(R5) {
      var k3 = R5.match(e);
      k3 && (C5 += k3.length);
      var G3 = R5.lastIndexOf(l3);
      y4 = ~G3 ? R5.length - G3 : y4 + R5.length;
    }
    function S4() {
      var R5 = { line: C5, column: y4 };
      return function(k3) {
        return k3.position = new A3(R5), j7(), k3;
      };
    }
    function A3(R5) {
      this.start = R5, this.end = { line: C5, column: y4 }, this.source = g6.source;
    }
    A3.prototype.content = m3;
    function D3(R5) {
      var k3 = new Error(
        g6.source + ":" + C5 + ":" + y4 + ": " + R5
      );
      if (k3.reason = R5, k3.filename = g6.source, k3.line = C5, k3.column = y4, k3.source = m3, !g6.silent) throw k3;
    }
    function P3(R5) {
      var k3 = R5.exec(m3);
      if (k3) {
        var G3 = k3[0];
        return _5(G3), m3 = m3.slice(G3.length), k3;
      }
    }
    function j7() {
      P3(n4);
    }
    function Z4(R5) {
      var k3;
      for (R5 = R5 || []; k3 = ee3(); )
        k3 !== false && R5.push(k3);
      return R5;
    }
    function ee3() {
      var R5 = S4();
      if (!(u5 != m3.charAt(0) || c6 != m3.charAt(1))) {
        for (var k3 = 2; h3 != m3.charAt(k3) && (c6 != m3.charAt(k3) || u5 != m3.charAt(k3 + 1)); )
          ++k3;
        if (k3 += 2, h3 === m3.charAt(k3 - 1))
          return D3("End of comment missing");
        var G3 = m3.slice(2, k3 - 2);
        return y4 += 2, _5(G3), m3 = m3.slice(k3), y4 += 2, R5({
          type: d2,
          comment: G3
        });
      }
    }
    function ce2() {
      var R5 = S4(), k3 = P3(r4);
      if (k3) {
        if (ee3(), !P3(o2)) return D3("property missing ':'");
        var G3 = P3(s3), Te4 = R5({
          type: f8,
          property: p3(k3[0].replace(t3, h3)),
          value: G3 ? p3(G3[0].replace(t3, h3)) : h3
        });
        return P3(a3), Te4;
      }
    }
    function te4() {
      var R5 = [];
      Z4(R5);
      for (var k3; k3 = ce2(); )
        k3 !== false && (R5.push(k3), Z4(R5));
      return R5;
    }
    return j7(), te4();
  };
  function p3(m3) {
    return m3 ? m3.replace(i5, h3) : h3;
  }
  return Rt;
}
var Tn;
function Es() {
  if (Tn) return we4;
  Tn = 1;
  var t3 = we4 && we4.__importDefault || function(r4) {
    return r4 && r4.__esModule ? r4 : { default: r4 };
  };
  Object.defineProperty(we4, "__esModule", { value: true }), we4.default = n4;
  var e = t3(xs());
  function n4(r4, o2) {
    var s3 = null;
    if (!r4 || typeof r4 != "string")
      return s3;
    var a3 = (0, e.default)(r4), i5 = typeof o2 == "function";
    return a3.forEach(function(l3) {
      if (l3.type === "declaration") {
        var u5 = l3.property, c6 = l3.value;
        i5 ? o2(u5, c6, l3) : c6 && (s3 = s3 || {}, s3[u5] = c6);
      }
    }), s3;
  }
  return we4;
}
var Me2 = {};
var Mn;
function As() {
  if (Mn) return Me2;
  Mn = 1, Object.defineProperty(Me2, "__esModule", { value: true }), Me2.camelCase = void 0;
  var t3 = /^--[a-zA-Z0-9_-]+$/, e = /-([a-z])/g, n4 = /^[^-]+$/, r4 = /^-(webkit|moz|ms|o|khtml)-/, o2 = /^-(ms)-/, s3 = function(u5) {
    return !u5 || n4.test(u5) || t3.test(u5);
  }, a3 = function(u5, c6) {
    return c6.toUpperCase();
  }, i5 = function(u5, c6) {
    return "".concat(c6, "-");
  }, l3 = function(u5, c6) {
    return c6 === void 0 && (c6 = {}), s3(u5) ? u5 : (u5 = u5.toLowerCase(), c6.reactCompat ? u5 = u5.replace(o2, i5) : u5 = u5.replace(r4, i5), u5.replace(e, a3));
  };
  return Me2.camelCase = l3, Me2;
}
var Oe2;
var On;
function Rs() {
  if (On) return Oe2;
  On = 1;
  var t3 = Oe2 && Oe2.__importDefault || function(o2) {
    return o2 && o2.__esModule ? o2 : { default: o2 };
  }, e = t3(Es()), n4 = As();
  function r4(o2, s3) {
    var a3 = {};
    return !o2 || typeof o2 != "string" || (0, e.default)(o2, function(i5, l3) {
      i5 && l3 && (a3[(0, n4.camelCase)(i5, s3)] = l3);
    }), a3;
  }
  return r4.default = r4, Oe2 = r4, Oe2;
}
var Is = Rs();
var Ns = f2(Is);
var Ps = Br("end");
var Fr = Br("start");
function Br(t3) {
  return e;
  function e(n4) {
    const r4 = n4 && n4.position && n4.position[t3] || {};
    if (typeof r4.line == "number" && r4.line > 0 && typeof r4.column == "number" && r4.column > 0)
      return {
        line: r4.line,
        column: r4.column,
        offset: typeof r4.offset == "number" && r4.offset > -1 ? r4.offset : void 0
      };
  }
}
function ah(t3) {
  const e = Fr(t3), n4 = Ps(t3);
  if (e && n4)
    return { start: e, end: n4 };
}
function Ls(t3) {
  return !t3 || typeof t3 != "object" ? "" : "position" in t3 || "type" in t3 ? Dn(t3.position) : "start" in t3 || "end" in t3 ? Dn(t3) : "line" in t3 || "column" in t3 ? Wt(t3) : "";
}
function Wt(t3) {
  return Gn(t3 && t3.line) + ":" + Gn(t3 && t3.column);
}
function Dn(t3) {
  return Wt(t3 && t3.start) + "-" + Wt(t3 && t3.end);
}
function Gn(t3) {
  return t3 && typeof t3 == "number" ? t3 : 1;
}
var H3 = class extends Error {
  /**
   * Create a message for `reason`.
   *
   * >  **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {Options | null | undefined} [options]
   * @returns
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns
   *   Instance of `VFileMessage`.
   */
  // eslint-disable-next-line complexity
  constructor(e, n4, r4) {
    super(), typeof n4 == "string" && (r4 = n4, n4 = void 0);
    let o2 = "", s3 = {}, a3 = false;
    if (n4 && ("line" in n4 && "column" in n4 ? s3 = { place: n4 } : "start" in n4 && "end" in n4 ? s3 = { place: n4 } : "type" in n4 ? s3 = {
      ancestors: [n4],
      place: n4.position
    } : s3 = { ...n4 }), typeof e == "string" ? o2 = e : !s3.cause && e && (a3 = true, o2 = e.message, s3.cause = e), !s3.ruleId && !s3.source && typeof r4 == "string") {
      const l3 = r4.indexOf(":");
      l3 === -1 ? s3.ruleId = r4 : (s3.source = r4.slice(0, l3), s3.ruleId = r4.slice(l3 + 1));
    }
    if (!s3.place && s3.ancestors && s3.ancestors) {
      const l3 = s3.ancestors[s3.ancestors.length - 1];
      l3 && (s3.place = l3.position);
    }
    const i5 = s3.place && "start" in s3.place ? s3.place.start : s3.place;
    this.ancestors = s3.ancestors || void 0, this.cause = s3.cause || void 0, this.column = i5 ? i5.column : void 0, this.fatal = void 0, this.file, this.message = o2, this.line = i5 ? i5.line : void 0, this.name = Ls(s3.place) || "1:1", this.place = s3.place || void 0, this.reason = this.message, this.ruleId = s3.ruleId || void 0, this.source = s3.source || void 0, this.stack = a3 && s3.cause && typeof s3.cause.stack == "string" ? s3.cause.stack : "", this.actual, this.expected, this.note, this.url;
  }
};
H3.prototype.file = "";
H3.prototype.name = "";
H3.prototype.reason = "";
H3.prototype.message = "";
H3.prototype.stack = "";
H3.prototype.column = void 0;
H3.prototype.line = void 0;
H3.prototype.ancestors = void 0;
H3.prototype.cause = void 0;
H3.prototype.fatal = void 0;
H3.prototype.place = void 0;
H3.prototype.ruleId = void 0;
H3.prototype.source = void 0;
var fn = {}.hasOwnProperty;
var $s = /* @__PURE__ */ new Map();
var Ts = /[A-Z]/g;
var Ms = /* @__PURE__ */ new Set(["table", "tbody", "thead", "tfoot", "tr"]);
var Os = /* @__PURE__ */ new Set(["td", "th"]);
var jr = "https://github.com/syntax-tree/hast-util-to-jsx-runtime";
function Ds(t3, e) {
  if (!e || e.Fragment === void 0)
    throw new TypeError("Expected `Fragment` in options");
  const n4 = e.filePath || void 0;
  let r4;
  if (e.development) {
    if (typeof e.jsxDEV != "function")
      throw new TypeError(
        "Expected `jsxDEV` in options when `development: true`"
      );
    r4 = Ws(n4, e.jsxDEV);
  } else {
    if (typeof e.jsx != "function")
      throw new TypeError("Expected `jsx` in production options");
    if (typeof e.jsxs != "function")
      throw new TypeError("Expected `jsxs` in production options");
    r4 = Hs(n4, e.jsx, e.jsxs);
  }
  const o2 = {
    Fragment: e.Fragment,
    ancestors: [],
    components: e.components || {},
    create: r4,
    elementAttributeNameCase: e.elementAttributeNameCase || "react",
    evaluater: e.createEvaluater ? e.createEvaluater() : void 0,
    filePath: n4,
    ignoreInvalidStyle: e.ignoreInvalidStyle || false,
    passKeys: e.passKeys !== false,
    passNode: e.passNode || false,
    schema: e.space === "svg" ? pn : vs,
    stylePropertyNameCase: e.stylePropertyNameCase || "dom",
    tableCellAlignToStyle: e.tableCellAlignToStyle !== false
  }, s3 = Ur(o2, t3, void 0);
  return s3 && typeof s3 != "string" ? s3 : o2.create(
    t3,
    o2.Fragment,
    { children: s3 || void 0 },
    void 0
  );
}
function Ur(t3, e, n4) {
  if (e.type === "element")
    return Gs(t3, e, n4);
  if (e.type === "mdxFlowExpression" || e.type === "mdxTextExpression")
    return Fs(t3, e);
  if (e.type === "mdxJsxFlowElement" || e.type === "mdxJsxTextElement")
    return js(t3, e, n4);
  if (e.type === "mdxjsEsm")
    return Bs(t3, e);
  if (e.type === "root")
    return Us(t3, e, n4);
  if (e.type === "text")
    return zs(t3, e);
}
function Gs(t3, e, n4) {
  const r4 = t3.schema;
  let o2 = r4;
  e.tagName.toLowerCase() === "svg" && r4.space === "html" && (o2 = pn, t3.schema = o2), t3.ancestors.push(e);
  const s3 = Hr(t3, e.tagName, false), a3 = qs(t3, e);
  let i5 = gn(t3, e);
  return Ms.has(e.tagName) && (i5 = i5.filter(function(l3) {
    return typeof l3 == "string" ? !Ct(l3) : true;
  })), zr(t3, a3, s3, e), dn(a3, i5), t3.ancestors.pop(), t3.schema = r4, t3.create(e, s3, a3, n4);
}
function Fs(t3, e) {
  if (e.data && e.data.estree && t3.evaluater) {
    const r4 = e.data.estree.body[0];
    return r4.type, /** @type {Child | undefined} */
    t3.evaluater.evaluateExpression(r4.expression);
  }
  je2(t3, e.position);
}
function Bs(t3, e) {
  if (e.data && e.data.estree && t3.evaluater)
    return (
      /** @type {Child | undefined} */
      t3.evaluater.evaluateProgram(e.data.estree)
    );
  je2(t3, e.position);
}
function js(t3, e, n4) {
  const r4 = t3.schema;
  let o2 = r4;
  e.name === "svg" && r4.space === "html" && (o2 = pn, t3.schema = o2), t3.ancestors.push(e);
  const s3 = e.name === null ? t3.Fragment : Hr(t3, e.name, true), a3 = Vs(t3, e), i5 = gn(t3, e);
  return zr(t3, a3, s3, e), dn(a3, i5), t3.ancestors.pop(), t3.schema = r4, t3.create(e, s3, a3, n4);
}
function Us(t3, e, n4) {
  const r4 = {};
  return dn(r4, gn(t3, e)), t3.create(e, t3.Fragment, r4, n4);
}
function zs(t3, e) {
  return e.value;
}
function zr(t3, e, n4, r4) {
  typeof n4 != "string" && n4 !== t3.Fragment && t3.passNode && (e.node = r4);
}
function dn(t3, e) {
  if (e.length > 0) {
    const n4 = e.length > 1 ? e : e[0];
    n4 && (t3.children = n4);
  }
}
function Hs(t3, e, n4) {
  return r4;
  function r4(o2, s3, a3, i5) {
    const u5 = Array.isArray(a3.children) ? n4 : e;
    return i5 ? u5(s3, a3, i5) : u5(s3, a3);
  }
}
function Ws(t3, e) {
  return n4;
  function n4(r4, o2, s3, a3) {
    const i5 = Array.isArray(s3.children), l3 = Fr(r4);
    return e(
      o2,
      s3,
      a3,
      i5,
      {
        columnNumber: l3 ? l3.column - 1 : void 0,
        fileName: t3,
        lineNumber: l3 ? l3.line : void 0
      },
      void 0
    );
  }
}
function qs(t3, e) {
  const n4 = {};
  let r4, o2;
  for (o2 in e.properties)
    if (o2 !== "children" && fn.call(e.properties, o2)) {
      const s3 = Xs(t3, o2, e.properties[o2]);
      if (s3) {
        const [a3, i5] = s3;
        t3.tableCellAlignToStyle && a3 === "align" && typeof i5 == "string" && Os.has(e.tagName) ? r4 = i5 : n4[a3] = i5;
      }
    }
  if (r4) {
    const s3 = (
      /** @type {Style} */
      n4.style || (n4.style = {})
    );
    s3[t3.stylePropertyNameCase === "css" ? "text-align" : "textAlign"] = r4;
  }
  return n4;
}
function Vs(t3, e) {
  const n4 = {};
  for (const r4 of e.attributes)
    if (r4.type === "mdxJsxExpressionAttribute")
      if (r4.data && r4.data.estree && t3.evaluater) {
        const s3 = r4.data.estree.body[0];
        s3.type;
        const a3 = s3.expression;
        a3.type;
        const i5 = a3.properties[0];
        i5.type, Object.assign(
          n4,
          t3.evaluater.evaluateExpression(i5.argument)
        );
      } else
        je2(t3, e.position);
    else {
      const o2 = r4.name;
      let s3;
      if (r4.value && typeof r4.value == "object")
        if (r4.value.data && r4.value.data.estree && t3.evaluater) {
          const i5 = r4.value.data.estree.body[0];
          i5.type, s3 = t3.evaluater.evaluateExpression(i5.expression);
        } else
          je2(t3, e.position);
      else
        s3 = r4.value === null ? true : r4.value;
      n4[o2] = /** @type {Props[keyof Props]} */
      s3;
    }
  return n4;
}
function gn(t3, e) {
  const n4 = [];
  let r4 = -1;
  const o2 = t3.passKeys ? /* @__PURE__ */ new Map() : $s;
  for (; ++r4 < e.children.length; ) {
    const s3 = e.children[r4];
    let a3;
    if (t3.passKeys) {
      const l3 = s3.type === "element" ? s3.tagName : s3.type === "mdxJsxFlowElement" || s3.type === "mdxJsxTextElement" ? s3.name : void 0;
      if (l3) {
        const u5 = o2.get(l3) || 0;
        a3 = l3 + "-" + u5, o2.set(l3, u5 + 1);
      }
    }
    const i5 = Ur(t3, s3, a3);
    i5 !== void 0 && n4.push(i5);
  }
  return n4;
}
function Xs(t3, e, n4) {
  const r4 = _s(t3.schema, e);
  if (!(n4 == null || typeof n4 == "number" && Number.isNaN(n4))) {
    if (Array.isArray(n4) && (n4 = r4.commaSeparated ? Ir(n4) : Gr(n4)), r4.property === "style") {
      let o2 = typeof n4 == "object" ? n4 : Ks(t3, String(n4));
      return t3.stylePropertyNameCase === "css" && (o2 = Ys(o2)), ["style", o2];
    }
    return [
      t3.elementAttributeNameCase === "react" && r4.space ? bs[r4.property] || r4.property : r4.attribute,
      n4
    ];
  }
}
function Ks(t3, e) {
  try {
    return Ns(e, { reactCompat: true });
  } catch (n4) {
    if (t3.ignoreInvalidStyle)
      return {};
    const r4 = (
      /** @type {Error} */
      n4
    ), o2 = new H3("Cannot parse `style` attribute", {
      ancestors: t3.ancestors,
      cause: r4,
      ruleId: "style",
      source: "hast-util-to-jsx-runtime"
    });
    throw o2.file = t3.filePath || void 0, o2.url = jr + "#cannot-parse-style-attribute", o2;
  }
}
function Hr(t3, e, n4) {
  let r4;
  if (!n4)
    r4 = { type: "Literal", value: e };
  else if (e.includes(".")) {
    const o2 = e.split(".");
    let s3 = -1, a3;
    for (; ++s3 < o2.length; ) {
      const i5 = In(o2[s3]) ? { type: "Identifier", name: o2[s3] } : { type: "Literal", value: o2[s3] };
      a3 = a3 ? {
        type: "MemberExpression",
        object: a3,
        property: i5,
        computed: !!(s3 && i5.type === "Literal"),
        optional: false
      } : i5;
    }
    r4 = a3;
  } else
    r4 = In(e) && !/^[a-z]/.test(e) ? { type: "Identifier", name: e } : { type: "Literal", value: e };
  if (r4.type === "Literal") {
    const o2 = (
      /** @type {string | number} */
      r4.value
    );
    return fn.call(t3.components, o2) ? t3.components[o2] : o2;
  }
  if (t3.evaluater)
    return t3.evaluater.evaluateExpression(r4);
  je2(t3);
}
function je2(t3, e) {
  const n4 = new H3(
    "Cannot handle MDX estrees without `createEvaluater`",
    {
      ancestors: t3.ancestors,
      place: e,
      ruleId: "mdx-estree",
      source: "hast-util-to-jsx-runtime"
    }
  );
  throw n4.file = t3.filePath || void 0, n4.url = jr + "#cannot-handle-mdx-estrees-without-createevaluater", n4;
}
function Ys(t3) {
  const e = {};
  let n4;
  for (n4 in t3)
    fn.call(t3, n4) && (e[Js(n4)] = t3[n4]);
  return e;
}
function Js(t3) {
  let e = t3.replace(Ts, Zs);
  return e.slice(0, 3) === "ms-" && (e = "-" + e), e;
}
function Zs(t3) {
  return "-" + t3.toLowerCase();
}
var Wr = (
  // Note: overloads in JSDoc cant yet use different `@template`s.
  /**
   * @type {(
   *   (<Condition extends string>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &
   *   (<Condition extends Props>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &
   *   (<Condition extends TestFunction>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &
   *   ((test?: null | undefined) => (node?: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &
   *   ((test?: Test) => Check)
   * )}
   */
  /**
   * @param {Test} [test]
   * @returns {Check}
   */
  (function(t3) {
    if (t3 == null)
      return na;
    if (typeof t3 == "function")
      return _t(t3);
    if (typeof t3 == "object")
      return Array.isArray(t3) ? Qs(t3) : ea(t3);
    if (typeof t3 == "string")
      return ta(t3);
    throw new Error("Expected function, string, or object as test");
  })
);
function Qs(t3) {
  const e = [];
  let n4 = -1;
  for (; ++n4 < t3.length; )
    e[n4] = Wr(t3[n4]);
  return _t(r4);
  function r4(...o2) {
    let s3 = -1;
    for (; ++s3 < e.length; )
      if (e[s3].apply(this, o2)) return true;
    return false;
  }
}
function ea(t3) {
  const e = (
    /** @type {Record<string, unknown>} */
    t3
  );
  return _t(n4);
  function n4(r4) {
    const o2 = (
      /** @type {Record<string, unknown>} */
      /** @type {unknown} */
      r4
    );
    let s3;
    for (s3 in t3)
      if (o2[s3] !== e[s3]) return false;
    return true;
  }
}
function ta(t3) {
  return _t(e);
  function e(n4) {
    return n4 && n4.type === t3;
  }
}
function _t(t3) {
  return e;
  function e(n4, r4, o2) {
    return !!(ra(n4) && t3.call(
      this,
      n4,
      typeof r4 == "number" ? r4 : void 0,
      o2 || void 0
    ));
  }
}
function na() {
  return true;
}
function ra(t3) {
  return t3 !== null && typeof t3 == "object" && "type" in t3;
}
var qr = [];
var oa = true;
var Fn = false;
var sa = "skip";
function aa(t3, e, n4, r4) {
  let o2;
  typeof e == "function" && typeof n4 != "function" ? (r4 = n4, n4 = e) : o2 = e;
  const s3 = Wr(o2), a3 = r4 ? -1 : 1;
  i5(t3, void 0, [])();
  function i5(l3, u5, c6) {
    const h3 = (
      /** @type {Record<string, unknown>} */
      l3 && typeof l3 == "object" ? l3 : {}
    );
    if (typeof h3.type == "string") {
      const f8 = (
        // `hast`
        typeof h3.tagName == "string" ? h3.tagName : (
          // `xast`
          typeof h3.name == "string" ? h3.name : void 0
        )
      );
      Object.defineProperty(d2, "name", {
        value: "node (" + (l3.type + (f8 ? "<" + f8 + ">" : "")) + ")"
      });
    }
    return d2;
    function d2() {
      let f8 = qr, p3, m3, g6;
      if ((!e || s3(l3, u5, c6[c6.length - 1] || void 0)) && (f8 = ia(n4(l3, c6)), f8[0] === Fn))
        return f8;
      if ("children" in l3 && l3.children) {
        const C5 = (
          /** @type {UnistParent} */
          l3
        );
        if (C5.children && f8[0] !== sa)
          for (m3 = (r4 ? C5.children.length : -1) + a3, g6 = c6.concat(C5); m3 > -1 && m3 < C5.children.length; ) {
            const y4 = C5.children[m3];
            if (p3 = i5(y4, m3, g6)(), p3[0] === Fn)
              return p3;
            m3 = typeof p3[1] == "number" ? p3[1] : m3 + a3;
          }
      }
      return f8;
    }
  }
}
function ia(t3) {
  return Array.isArray(t3) ? t3 : typeof t3 == "number" ? [oa, t3] : t3 == null ? qr : [t3];
}
function Vr(t3, e, n4, r4) {
  let o2, s3, a3;
  typeof e == "function" && typeof n4 != "function" ? (s3 = void 0, a3 = e, o2 = n4) : (s3 = e, a3 = n4, o2 = r4), aa(t3, s3, i5, o2);
  function i5(l3, u5) {
    const c6 = u5[u5.length - 1], h3 = c6 ? c6.children.indexOf(l3) : void 0;
    return a3(l3, h3, c6);
  }
}
var Bn = {}.hasOwnProperty;
function la(t3, e) {
  const n4 = e || {};
  function r4(o2, ...s3) {
    let a3 = r4.invalid;
    const i5 = r4.handlers;
    if (o2 && Bn.call(o2, t3)) {
      const l3 = String(o2[t3]);
      a3 = Bn.call(i5, l3) ? i5[l3] : r4.unknown;
    }
    if (a3)
      return a3.call(this, o2, ...s3);
  }
  return r4.handlers = n4.handlers || {}, r4.invalid = n4.invalid, r4.unknown = n4.unknown, r4;
}
var ua = [
  "area",
  "base",
  "basefont",
  "bgsound",
  "br",
  "col",
  "command",
  "embed",
  "frame",
  "hr",
  "image",
  "img",
  "input",
  "keygen",
  "link",
  "meta",
  "param",
  "source",
  "track",
  "wbr"
];
function jn(t3, e) {
  const n4 = String(t3);
  if (typeof e != "string")
    throw new TypeError("Expected character");
  let r4 = 0, o2 = n4.indexOf(e);
  for (; o2 !== -1; )
    r4++, o2 = n4.indexOf(e, o2 + e.length);
  return r4;
}
var F2 = class extends Error {
  constructor(e) {
    super(e), this.name = "ShikiError";
  }
};
function ca(t3) {
  return mn(t3);
}
function mn(t3) {
  return Array.isArray(t3) ? ha(t3) : t3 instanceof RegExp ? t3 : typeof t3 == "object" ? pa(t3) : t3;
}
function ha(t3) {
  let e = [];
  for (let n4 = 0, r4 = t3.length; n4 < r4; n4++)
    e[n4] = mn(t3[n4]);
  return e;
}
function pa(t3) {
  let e = {};
  for (let n4 in t3)
    e[n4] = mn(t3[n4]);
  return e;
}
function Xr(t3, ...e) {
  return e.forEach((n4) => {
    for (let r4 in n4)
      t3[r4] = n4[r4];
  }), t3;
}
function Kr(t3) {
  const e = ~t3.lastIndexOf("/") || ~t3.lastIndexOf("\\");
  return e === 0 ? t3 : ~e === t3.length - 1 ? Kr(t3.substring(0, t3.length - 1)) : t3.substr(~e + 1);
}
var It2 = /\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;
var Je = class {
  static hasCaptures(t3) {
    return t3 === null ? false : (It2.lastIndex = 0, It2.test(t3));
  }
  static replaceCaptures(t3, e, n4) {
    return t3.replace(It2, (r4, o2, s3, a3) => {
      let i5 = n4[parseInt(o2 || s3, 10)];
      if (i5) {
        let l3 = e.substring(i5.start, i5.end);
        for (; l3[0] === "."; )
          l3 = l3.substring(1);
        switch (a3) {
          case "downcase":
            return l3.toLowerCase();
          case "upcase":
            return l3.toUpperCase();
          default:
            return l3;
        }
      } else
        return r4;
    });
  }
};
function Yr(t3, e) {
  return t3 < e ? -1 : t3 > e ? 1 : 0;
}
function Jr(t3, e) {
  if (t3 === null && e === null)
    return 0;
  if (!t3)
    return -1;
  if (!e)
    return 1;
  let n4 = t3.length, r4 = e.length;
  if (n4 === r4) {
    for (let o2 = 0; o2 < n4; o2++) {
      let s3 = Yr(t3[o2], e[o2]);
      if (s3 !== 0)
        return s3;
    }
    return 0;
  }
  return n4 - r4;
}
function Un(t3) {
  return !!(/^#[0-9a-f]{6}$/i.test(t3) || /^#[0-9a-f]{8}$/i.test(t3) || /^#[0-9a-f]{3}$/i.test(t3) || /^#[0-9a-f]{4}$/i.test(t3));
}
function Zr(t3) {
  return t3.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g, "\\$&");
}
var Qr = class {
  constructor(t3) {
    this.fn = t3;
  }
  cache = /* @__PURE__ */ new Map();
  get(t3) {
    if (this.cache.has(t3))
      return this.cache.get(t3);
    const e = this.fn(t3);
    return this.cache.set(t3, e), e;
  }
};
var it = class {
  constructor(t3, e, n4) {
    this._colorMap = t3, this._defaults = e, this._root = n4;
  }
  static createFromRawTheme(t3, e) {
    return this.createFromParsedTheme(ga(t3), e);
  }
  static createFromParsedTheme(t3, e) {
    return ya(t3, e);
  }
  _cachedMatchRoot = new Qr(
    (t3) => this._root.match(t3)
  );
  getColorMap() {
    return this._colorMap.getColorMap();
  }
  getDefaults() {
    return this._defaults;
  }
  match(t3) {
    if (t3 === null)
      return this._defaults;
    const e = t3.scopeName, r4 = this._cachedMatchRoot.get(e).find(
      (o2) => fa(t3.parent, o2.parentScopes)
    );
    return r4 ? new eo(
      r4.fontStyle,
      r4.foreground,
      r4.background
    ) : null;
  }
};
var Nt = class rt {
  constructor(e, n4) {
    this.parent = e, this.scopeName = n4;
  }
  static push(e, n4) {
    for (const r4 of n4)
      e = new rt(e, r4);
    return e;
  }
  static from(...e) {
    let n4 = null;
    for (let r4 = 0; r4 < e.length; r4++)
      n4 = new rt(n4, e[r4]);
    return n4;
  }
  push(e) {
    return new rt(this, e);
  }
  getSegments() {
    let e = this;
    const n4 = [];
    for (; e; )
      n4.push(e.scopeName), e = e.parent;
    return n4.reverse(), n4;
  }
  toString() {
    return this.getSegments().join(" ");
  }
  extends(e) {
    return this === e ? true : this.parent === null ? false : this.parent.extends(e);
  }
  getExtensionIfDefined(e) {
    const n4 = [];
    let r4 = this;
    for (; r4 && r4 !== e; )
      n4.push(r4.scopeName), r4 = r4.parent;
    return r4 === e ? n4.reverse() : void 0;
  }
};
function fa(t3, e) {
  if (e.length === 0)
    return true;
  for (let n4 = 0; n4 < e.length; n4++) {
    let r4 = e[n4], o2 = false;
    if (r4 === ">") {
      if (n4 === e.length - 1)
        return false;
      r4 = e[++n4], o2 = true;
    }
    for (; t3 && !da(t3.scopeName, r4); ) {
      if (o2)
        return false;
      t3 = t3.parent;
    }
    if (!t3)
      return false;
    t3 = t3.parent;
  }
  return true;
}
function da(t3, e) {
  return e === t3 || t3.startsWith(e) && t3[e.length] === ".";
}
var eo = class {
  constructor(t3, e, n4) {
    this.fontStyle = t3, this.foregroundId = e, this.backgroundId = n4;
  }
};
function ga(t3) {
  if (!t3)
    return [];
  if (!t3.settings || !Array.isArray(t3.settings))
    return [];
  let e = t3.settings, n4 = [], r4 = 0;
  for (let o2 = 0, s3 = e.length; o2 < s3; o2++) {
    let a3 = e[o2];
    if (!a3.settings)
      continue;
    let i5;
    if (typeof a3.scope == "string") {
      let h3 = a3.scope;
      h3 = h3.replace(/^[,]+/, ""), h3 = h3.replace(/[,]+$/, ""), i5 = h3.split(",");
    } else Array.isArray(a3.scope) ? i5 = a3.scope : i5 = [""];
    let l3 = -1;
    if (typeof a3.settings.fontStyle == "string") {
      l3 = 0;
      let h3 = a3.settings.fontStyle.split(" ");
      for (let d2 = 0, f8 = h3.length; d2 < f8; d2++)
        switch (h3[d2]) {
          case "italic":
            l3 = l3 | 1;
            break;
          case "bold":
            l3 = l3 | 2;
            break;
          case "underline":
            l3 = l3 | 4;
            break;
          case "strikethrough":
            l3 = l3 | 8;
            break;
        }
    }
    let u5 = null;
    typeof a3.settings.foreground == "string" && Un(a3.settings.foreground) && (u5 = a3.settings.foreground);
    let c6 = null;
    typeof a3.settings.background == "string" && Un(a3.settings.background) && (c6 = a3.settings.background);
    for (let h3 = 0, d2 = i5.length; h3 < d2; h3++) {
      let p3 = i5[h3].trim().split(" "), m3 = p3[p3.length - 1], g6 = null;
      p3.length > 1 && (g6 = p3.slice(0, p3.length - 1), g6.reverse()), n4[r4++] = new ma(
        m3,
        g6,
        o2,
        l3,
        u5,
        c6
      );
    }
  }
  return n4;
}
var ma = class {
  constructor(t3, e, n4, r4, o2, s3) {
    this.scope = t3, this.parentScopes = e, this.index = n4, this.fontStyle = r4, this.foreground = o2, this.background = s3;
  }
};
var z3 = ((t3) => (t3[t3.NotSet = -1] = "NotSet", t3[t3.None = 0] = "None", t3[t3.Italic = 1] = "Italic", t3[t3.Bold = 2] = "Bold", t3[t3.Underline = 4] = "Underline", t3[t3.Strikethrough = 8] = "Strikethrough", t3))(z3 || {});
function ya(t3, e) {
  t3.sort((l3, u5) => {
    let c6 = Yr(l3.scope, u5.scope);
    return c6 !== 0 || (c6 = Jr(l3.parentScopes, u5.parentScopes), c6 !== 0) ? c6 : l3.index - u5.index;
  });
  let n4 = 0, r4 = "#000000", o2 = "#ffffff";
  for (; t3.length >= 1 && t3[0].scope === ""; ) {
    let l3 = t3.shift();
    l3.fontStyle !== -1 && (n4 = l3.fontStyle), l3.foreground !== null && (r4 = l3.foreground), l3.background !== null && (o2 = l3.background);
  }
  let s3 = new ba(e), a3 = new eo(n4, s3.getId(r4), s3.getId(o2)), i5 = new Ca(new qt(0, null, -1, 0, 0), []);
  for (let l3 = 0, u5 = t3.length; l3 < u5; l3++) {
    let c6 = t3[l3];
    i5.insert(0, c6.scope, c6.parentScopes, c6.fontStyle, s3.getId(c6.foreground), s3.getId(c6.background));
  }
  return new it(s3, a3, i5);
}
var ba = class {
  _isFrozen;
  _lastColorId;
  _id2color;
  _color2id;
  constructor(t3) {
    if (this._lastColorId = 0, this._id2color = [], this._color2id = /* @__PURE__ */ Object.create(null), Array.isArray(t3)) {
      this._isFrozen = true;
      for (let e = 0, n4 = t3.length; e < n4; e++)
        this._color2id[t3[e]] = e, this._id2color[e] = t3[e];
    } else
      this._isFrozen = false;
  }
  getId(t3) {
    if (t3 === null)
      return 0;
    t3 = t3.toUpperCase();
    let e = this._color2id[t3];
    if (e)
      return e;
    if (this._isFrozen)
      throw new Error(`Missing color in color map - ${t3}`);
    return e = ++this._lastColorId, this._color2id[t3] = e, this._id2color[e] = t3, e;
  }
  getColorMap() {
    return this._id2color.slice(0);
  }
};
var wa = Object.freeze([]);
var qt = class to {
  scopeDepth;
  parentScopes;
  fontStyle;
  foreground;
  background;
  constructor(e, n4, r4, o2, s3) {
    this.scopeDepth = e, this.parentScopes = n4 || wa, this.fontStyle = r4, this.foreground = o2, this.background = s3;
  }
  clone() {
    return new to(this.scopeDepth, this.parentScopes, this.fontStyle, this.foreground, this.background);
  }
  static cloneArr(e) {
    let n4 = [];
    for (let r4 = 0, o2 = e.length; r4 < o2; r4++)
      n4[r4] = e[r4].clone();
    return n4;
  }
  acceptOverwrite(e, n4, r4, o2) {
    this.scopeDepth > e ? console.log("how did this happen?") : this.scopeDepth = e, n4 !== -1 && (this.fontStyle = n4), r4 !== 0 && (this.foreground = r4), o2 !== 0 && (this.background = o2);
  }
};
var Ca = class Vt {
  constructor(e, n4 = [], r4 = {}) {
    this._mainRule = e, this._children = r4, this._rulesWithParentScopes = n4;
  }
  _rulesWithParentScopes;
  static _cmpBySpecificity(e, n4) {
    if (e.scopeDepth !== n4.scopeDepth)
      return n4.scopeDepth - e.scopeDepth;
    let r4 = 0, o2 = 0;
    for (; e.parentScopes[r4] === ">" && r4++, n4.parentScopes[o2] === ">" && o2++, !(r4 >= e.parentScopes.length || o2 >= n4.parentScopes.length); ) {
      const s3 = n4.parentScopes[o2].length - e.parentScopes[r4].length;
      if (s3 !== 0)
        return s3;
      r4++, o2++;
    }
    return n4.parentScopes.length - e.parentScopes.length;
  }
  match(e) {
    if (e !== "") {
      let r4 = e.indexOf("."), o2, s3;
      if (r4 === -1 ? (o2 = e, s3 = "") : (o2 = e.substring(0, r4), s3 = e.substring(r4 + 1)), this._children.hasOwnProperty(o2))
        return this._children[o2].match(s3);
    }
    const n4 = this._rulesWithParentScopes.concat(this._mainRule);
    return n4.sort(Vt._cmpBySpecificity), n4;
  }
  insert(e, n4, r4, o2, s3, a3) {
    if (n4 === "") {
      this._doInsertHere(e, r4, o2, s3, a3);
      return;
    }
    let i5 = n4.indexOf("."), l3, u5;
    i5 === -1 ? (l3 = n4, u5 = "") : (l3 = n4.substring(0, i5), u5 = n4.substring(i5 + 1));
    let c6;
    this._children.hasOwnProperty(l3) ? c6 = this._children[l3] : (c6 = new Vt(this._mainRule.clone(), qt.cloneArr(this._rulesWithParentScopes)), this._children[l3] = c6), c6.insert(e + 1, u5, r4, o2, s3, a3);
  }
  _doInsertHere(e, n4, r4, o2, s3) {
    if (n4 === null) {
      this._mainRule.acceptOverwrite(e, r4, o2, s3);
      return;
    }
    for (let a3 = 0, i5 = this._rulesWithParentScopes.length; a3 < i5; a3++) {
      let l3 = this._rulesWithParentScopes[a3];
      if (Jr(l3.parentScopes, n4) === 0) {
        l3.acceptOverwrite(e, r4, o2, s3);
        return;
      }
    }
    r4 === -1 && (r4 = this._mainRule.fontStyle), o2 === 0 && (o2 = this._mainRule.foreground), s3 === 0 && (s3 = this._mainRule.background), this._rulesWithParentScopes.push(new qt(e, n4, r4, o2, s3));
  }
};
var Re3 = class K2 {
  static toBinaryStr(e) {
    return e.toString(2).padStart(32, "0");
  }
  static print(e) {
    const n4 = K2.getLanguageId(e), r4 = K2.getTokenType(e), o2 = K2.getFontStyle(e), s3 = K2.getForeground(e), a3 = K2.getBackground(e);
    console.log({
      languageId: n4,
      tokenType: r4,
      fontStyle: o2,
      foreground: s3,
      background: a3
    });
  }
  static getLanguageId(e) {
    return (e & 255) >>> 0;
  }
  static getTokenType(e) {
    return (e & 768) >>> 8;
  }
  static containsBalancedBrackets(e) {
    return (e & 1024) !== 0;
  }
  static getFontStyle(e) {
    return (e & 30720) >>> 11;
  }
  static getForeground(e) {
    return (e & 16744448) >>> 15;
  }
  static getBackground(e) {
    return (e & 4278190080) >>> 24;
  }
  /**
   * Updates the fields in `metadata`.
   * A value of `0`, `NotSet` or `null` indicates that the corresponding field should be left as is.
   */
  static set(e, n4, r4, o2, s3, a3, i5) {
    let l3 = K2.getLanguageId(e), u5 = K2.getTokenType(e), c6 = K2.containsBalancedBrackets(e) ? 1 : 0, h3 = K2.getFontStyle(e), d2 = K2.getForeground(e), f8 = K2.getBackground(e);
    return n4 !== 0 && (l3 = n4), r4 !== 8 && (u5 = r4), o2 !== null && (c6 = o2 ? 1 : 0), s3 !== -1 && (h3 = s3), a3 !== 0 && (d2 = a3), i5 !== 0 && (f8 = i5), (l3 << 0 | u5 << 8 | c6 << 10 | h3 << 11 | d2 << 15 | f8 << 24) >>> 0;
  }
};
function lt(t3, e) {
  const n4 = [], r4 = _a(t3);
  let o2 = r4.next();
  for (; o2 !== null; ) {
    let l3 = 0;
    if (o2.length === 2 && o2.charAt(1) === ":") {
      switch (o2.charAt(0)) {
        case "R":
          l3 = 1;
          break;
        case "L":
          l3 = -1;
          break;
        default:
          console.log(`Unknown priority ${o2} in scope selector`);
      }
      o2 = r4.next();
    }
    let u5 = a3();
    if (n4.push({ matcher: u5, priority: l3 }), o2 !== ",")
      break;
    o2 = r4.next();
  }
  return n4;
  function s3() {
    if (o2 === "-") {
      o2 = r4.next();
      const l3 = s3();
      return (u5) => !!l3 && !l3(u5);
    }
    if (o2 === "(") {
      o2 = r4.next();
      const l3 = i5();
      return o2 === ")" && (o2 = r4.next()), l3;
    }
    if (zn(o2)) {
      const l3 = [];
      do
        l3.push(o2), o2 = r4.next();
      while (zn(o2));
      return (u5) => e(l3, u5);
    }
    return null;
  }
  function a3() {
    const l3 = [];
    let u5 = s3();
    for (; u5; )
      l3.push(u5), u5 = s3();
    return (c6) => l3.every((h3) => h3(c6));
  }
  function i5() {
    const l3 = [];
    let u5 = a3();
    for (; u5 && (l3.push(u5), o2 === "|" || o2 === ","); ) {
      do
        o2 = r4.next();
      while (o2 === "|" || o2 === ",");
      u5 = a3();
    }
    return (c6) => l3.some((h3) => h3(c6));
  }
}
function zn(t3) {
  return !!t3 && !!t3.match(/[\w\.:]+/);
}
function _a(t3) {
  let e = /([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g, n4 = e.exec(t3);
  return {
    next: () => {
      if (!n4)
        return null;
      const r4 = n4[0];
      return n4 = e.exec(t3), r4;
    }
  };
}
function no(t3) {
  typeof t3.dispose == "function" && t3.dispose();
}
var Ue2 = class {
  constructor(t3) {
    this.scopeName = t3;
  }
  toKey() {
    return this.scopeName;
  }
};
var Sa = class {
  constructor(t3, e) {
    this.scopeName = t3, this.ruleName = e;
  }
  toKey() {
    return `${this.scopeName}#${this.ruleName}`;
  }
};
var ka = class {
  _references = [];
  _seenReferenceKeys = /* @__PURE__ */ new Set();
  get references() {
    return this._references;
  }
  visitedRule = /* @__PURE__ */ new Set();
  add(t3) {
    const e = t3.toKey();
    this._seenReferenceKeys.has(e) || (this._seenReferenceKeys.add(e), this._references.push(t3));
  }
};
var va = class {
  constructor(t3, e) {
    this.repo = t3, this.initialScopeName = e, this.seenFullScopeRequests.add(this.initialScopeName), this.Q = [new Ue2(this.initialScopeName)];
  }
  seenFullScopeRequests = /* @__PURE__ */ new Set();
  seenPartialScopeRequests = /* @__PURE__ */ new Set();
  Q;
  processQueue() {
    const t3 = this.Q;
    this.Q = [];
    const e = new ka();
    for (const n4 of t3)
      xa(n4, this.initialScopeName, this.repo, e);
    for (const n4 of e.references)
      if (n4 instanceof Ue2) {
        if (this.seenFullScopeRequests.has(n4.scopeName))
          continue;
        this.seenFullScopeRequests.add(n4.scopeName), this.Q.push(n4);
      } else {
        if (this.seenFullScopeRequests.has(n4.scopeName) || this.seenPartialScopeRequests.has(n4.toKey()))
          continue;
        this.seenPartialScopeRequests.add(n4.toKey()), this.Q.push(n4);
      }
  }
};
function xa(t3, e, n4, r4) {
  const o2 = n4.lookup(t3.scopeName);
  if (!o2) {
    if (t3.scopeName === e)
      throw new Error(`No grammar provided for <${e}>`);
    return;
  }
  const s3 = n4.lookup(e);
  t3 instanceof Ue2 ? ot({ baseGrammar: s3, selfGrammar: o2 }, r4) : Xt2(
    t3.ruleName,
    { baseGrammar: s3, selfGrammar: o2, repository: o2.repository },
    r4
  );
  const a3 = n4.injections(t3.scopeName);
  if (a3)
    for (const i5 of a3)
      r4.add(new Ue2(i5));
}
function Xt2(t3, e, n4) {
  if (e.repository && e.repository[t3]) {
    const r4 = e.repository[t3];
    ut([r4], e, n4);
  }
}
function ot(t3, e) {
  t3.selfGrammar.patterns && Array.isArray(t3.selfGrammar.patterns) && ut(
    t3.selfGrammar.patterns,
    { ...t3, repository: t3.selfGrammar.repository },
    e
  ), t3.selfGrammar.injections && ut(
    Object.values(t3.selfGrammar.injections),
    { ...t3, repository: t3.selfGrammar.repository },
    e
  );
}
function ut(t3, e, n4) {
  for (const r4 of t3) {
    if (n4.visitedRule.has(r4))
      continue;
    n4.visitedRule.add(r4);
    const o2 = r4.repository ? Xr({}, e.repository, r4.repository) : e.repository;
    Array.isArray(r4.patterns) && ut(r4.patterns, { ...e, repository: o2 }, n4);
    const s3 = r4.include;
    if (!s3)
      continue;
    const a3 = ro(s3);
    switch (a3.kind) {
      case 0:
        ot({ ...e, selfGrammar: e.baseGrammar }, n4);
        break;
      case 1:
        ot(e, n4);
        break;
      case 2:
        Xt2(a3.ruleName, { ...e, repository: o2 }, n4);
        break;
      case 3:
      case 4:
        const i5 = a3.scopeName === e.selfGrammar.scopeName ? e.selfGrammar : a3.scopeName === e.baseGrammar.scopeName ? e.baseGrammar : void 0;
        if (i5) {
          const l3 = { baseGrammar: e.baseGrammar, selfGrammar: i5, repository: o2 };
          a3.kind === 4 ? Xt2(a3.ruleName, l3, n4) : ot(l3, n4);
        } else
          a3.kind === 4 ? n4.add(new Sa(a3.scopeName, a3.ruleName)) : n4.add(new Ue2(a3.scopeName));
        break;
    }
  }
}
var Ea = class {
  kind = 0;
};
var Aa = class {
  kind = 1;
};
var Ra = class {
  constructor(t3) {
    this.ruleName = t3;
  }
  kind = 2;
};
var Ia = class {
  constructor(t3) {
    this.scopeName = t3;
  }
  kind = 3;
};
var Na = class {
  constructor(t3, e) {
    this.scopeName = t3, this.ruleName = e;
  }
  kind = 4;
};
function ro(t3) {
  if (t3 === "$base")
    return new Ea();
  if (t3 === "$self")
    return new Aa();
  const e = t3.indexOf("#");
  if (e === -1)
    return new Ia(t3);
  if (e === 0)
    return new Ra(t3.substring(1));
  {
    const n4 = t3.substring(0, e), r4 = t3.substring(e + 1);
    return new Na(n4, r4);
  }
}
var Pa = /\\(\d+)/;
var Hn = /\\(\d+)/g;
var La = -1;
var oo = -2;
var Xe = class {
  $location;
  id;
  _nameIsCapturing;
  _name;
  _contentNameIsCapturing;
  _contentName;
  constructor(t3, e, n4, r4) {
    this.$location = t3, this.id = e, this._name = n4 || null, this._nameIsCapturing = Je.hasCaptures(this._name), this._contentName = r4 || null, this._contentNameIsCapturing = Je.hasCaptures(this._contentName);
  }
  get debugName() {
    const t3 = this.$location ? `${Kr(this.$location.filename)}:${this.$location.line}` : "unknown";
    return `${this.constructor.name}#${this.id} @ ${t3}`;
  }
  getName(t3, e) {
    return !this._nameIsCapturing || this._name === null || t3 === null || e === null ? this._name : Je.replaceCaptures(this._name, t3, e);
  }
  getContentName(t3, e) {
    return !this._contentNameIsCapturing || this._contentName === null ? this._contentName : Je.replaceCaptures(this._contentName, t3, e);
  }
};
var $a = class extends Xe {
  retokenizeCapturedWithRuleId;
  constructor(t3, e, n4, r4, o2) {
    super(t3, e, n4, r4), this.retokenizeCapturedWithRuleId = o2;
  }
  dispose() {
  }
  collectPatterns(t3, e) {
    throw new Error("Not supported!");
  }
  compile(t3, e) {
    throw new Error("Not supported!");
  }
  compileAG(t3, e, n4, r4) {
    throw new Error("Not supported!");
  }
};
var Ta = class extends Xe {
  _match;
  captures;
  _cachedCompiledPatterns;
  constructor(t3, e, n4, r4, o2) {
    super(t3, e, n4, null), this._match = new ze2(r4, this.id), this.captures = o2, this._cachedCompiledPatterns = null;
  }
  dispose() {
    this._cachedCompiledPatterns && (this._cachedCompiledPatterns.dispose(), this._cachedCompiledPatterns = null);
  }
  get debugMatchRegExp() {
    return `${this._match.source}`;
  }
  collectPatterns(t3, e) {
    e.push(this._match);
  }
  compile(t3, e) {
    return this._getCachedCompiledPatterns(t3).compile(t3);
  }
  compileAG(t3, e, n4, r4) {
    return this._getCachedCompiledPatterns(t3).compileAG(t3, n4, r4);
  }
  _getCachedCompiledPatterns(t3) {
    return this._cachedCompiledPatterns || (this._cachedCompiledPatterns = new He2(), this.collectPatterns(t3, this._cachedCompiledPatterns)), this._cachedCompiledPatterns;
  }
};
var Wn = class extends Xe {
  hasMissingPatterns;
  patterns;
  _cachedCompiledPatterns;
  constructor(t3, e, n4, r4, o2) {
    super(t3, e, n4, r4), this.patterns = o2.patterns, this.hasMissingPatterns = o2.hasMissingPatterns, this._cachedCompiledPatterns = null;
  }
  dispose() {
    this._cachedCompiledPatterns && (this._cachedCompiledPatterns.dispose(), this._cachedCompiledPatterns = null);
  }
  collectPatterns(t3, e) {
    for (const n4 of this.patterns)
      t3.getRule(n4).collectPatterns(t3, e);
  }
  compile(t3, e) {
    return this._getCachedCompiledPatterns(t3).compile(t3);
  }
  compileAG(t3, e, n4, r4) {
    return this._getCachedCompiledPatterns(t3).compileAG(t3, n4, r4);
  }
  _getCachedCompiledPatterns(t3) {
    return this._cachedCompiledPatterns || (this._cachedCompiledPatterns = new He2(), this.collectPatterns(t3, this._cachedCompiledPatterns)), this._cachedCompiledPatterns;
  }
};
var Kt = class extends Xe {
  _begin;
  beginCaptures;
  _end;
  endHasBackReferences;
  endCaptures;
  applyEndPatternLast;
  hasMissingPatterns;
  patterns;
  _cachedCompiledPatterns;
  constructor(t3, e, n4, r4, o2, s3, a3, i5, l3, u5) {
    super(t3, e, n4, r4), this._begin = new ze2(o2, this.id), this.beginCaptures = s3, this._end = new ze2(a3 || "", -1), this.endHasBackReferences = this._end.hasBackReferences, this.endCaptures = i5, this.applyEndPatternLast = l3 || false, this.patterns = u5.patterns, this.hasMissingPatterns = u5.hasMissingPatterns, this._cachedCompiledPatterns = null;
  }
  dispose() {
    this._cachedCompiledPatterns && (this._cachedCompiledPatterns.dispose(), this._cachedCompiledPatterns = null);
  }
  get debugBeginRegExp() {
    return `${this._begin.source}`;
  }
  get debugEndRegExp() {
    return `${this._end.source}`;
  }
  getEndWithResolvedBackReferences(t3, e) {
    return this._end.resolveBackReferences(t3, e);
  }
  collectPatterns(t3, e) {
    e.push(this._begin);
  }
  compile(t3, e) {
    return this._getCachedCompiledPatterns(t3, e).compile(t3);
  }
  compileAG(t3, e, n4, r4) {
    return this._getCachedCompiledPatterns(t3, e).compileAG(t3, n4, r4);
  }
  _getCachedCompiledPatterns(t3, e) {
    if (!this._cachedCompiledPatterns) {
      this._cachedCompiledPatterns = new He2();
      for (const n4 of this.patterns)
        t3.getRule(n4).collectPatterns(t3, this._cachedCompiledPatterns);
      this.applyEndPatternLast ? this._cachedCompiledPatterns.push(this._end.hasBackReferences ? this._end.clone() : this._end) : this._cachedCompiledPatterns.unshift(this._end.hasBackReferences ? this._end.clone() : this._end);
    }
    return this._end.hasBackReferences && (this.applyEndPatternLast ? this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length() - 1, e) : this._cachedCompiledPatterns.setSource(0, e)), this._cachedCompiledPatterns;
  }
};
var ct2 = class extends Xe {
  _begin;
  beginCaptures;
  whileCaptures;
  _while;
  whileHasBackReferences;
  hasMissingPatterns;
  patterns;
  _cachedCompiledPatterns;
  _cachedCompiledWhilePatterns;
  constructor(t3, e, n4, r4, o2, s3, a3, i5, l3) {
    super(t3, e, n4, r4), this._begin = new ze2(o2, this.id), this.beginCaptures = s3, this.whileCaptures = i5, this._while = new ze2(a3, oo), this.whileHasBackReferences = this._while.hasBackReferences, this.patterns = l3.patterns, this.hasMissingPatterns = l3.hasMissingPatterns, this._cachedCompiledPatterns = null, this._cachedCompiledWhilePatterns = null;
  }
  dispose() {
    this._cachedCompiledPatterns && (this._cachedCompiledPatterns.dispose(), this._cachedCompiledPatterns = null), this._cachedCompiledWhilePatterns && (this._cachedCompiledWhilePatterns.dispose(), this._cachedCompiledWhilePatterns = null);
  }
  get debugBeginRegExp() {
    return `${this._begin.source}`;
  }
  get debugWhileRegExp() {
    return `${this._while.source}`;
  }
  getWhileWithResolvedBackReferences(t3, e) {
    return this._while.resolveBackReferences(t3, e);
  }
  collectPatterns(t3, e) {
    e.push(this._begin);
  }
  compile(t3, e) {
    return this._getCachedCompiledPatterns(t3).compile(t3);
  }
  compileAG(t3, e, n4, r4) {
    return this._getCachedCompiledPatterns(t3).compileAG(t3, n4, r4);
  }
  _getCachedCompiledPatterns(t3) {
    if (!this._cachedCompiledPatterns) {
      this._cachedCompiledPatterns = new He2();
      for (const e of this.patterns)
        t3.getRule(e).collectPatterns(t3, this._cachedCompiledPatterns);
    }
    return this._cachedCompiledPatterns;
  }
  compileWhile(t3, e) {
    return this._getCachedCompiledWhilePatterns(t3, e).compile(t3);
  }
  compileWhileAG(t3, e, n4, r4) {
    return this._getCachedCompiledWhilePatterns(t3, e).compileAG(t3, n4, r4);
  }
  _getCachedCompiledWhilePatterns(t3, e) {
    return this._cachedCompiledWhilePatterns || (this._cachedCompiledWhilePatterns = new He2(), this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences ? this._while.clone() : this._while)), this._while.hasBackReferences && this._cachedCompiledWhilePatterns.setSource(0, e || ""), this._cachedCompiledWhilePatterns;
  }
};
var so = class U2 {
  static createCaptureRule(e, n4, r4, o2, s3) {
    return e.registerRule((a3) => new $a(n4, a3, r4, o2, s3));
  }
  static getCompiledRuleId(e, n4, r4) {
    return e.id || n4.registerRule((o2) => {
      if (e.id = o2, e.match)
        return new Ta(
          e.$vscodeTextmateLocation,
          e.id,
          e.name,
          e.match,
          U2._compileCaptures(e.captures, n4, r4)
        );
      if (typeof e.begin > "u") {
        e.repository && (r4 = Xr({}, r4, e.repository));
        let s3 = e.patterns;
        return typeof s3 > "u" && e.include && (s3 = [{ include: e.include }]), new Wn(
          e.$vscodeTextmateLocation,
          e.id,
          e.name,
          e.contentName,
          U2._compilePatterns(s3, n4, r4)
        );
      }
      return e.while ? new ct2(
        e.$vscodeTextmateLocation,
        e.id,
        e.name,
        e.contentName,
        e.begin,
        U2._compileCaptures(e.beginCaptures || e.captures, n4, r4),
        e.while,
        U2._compileCaptures(e.whileCaptures || e.captures, n4, r4),
        U2._compilePatterns(e.patterns, n4, r4)
      ) : new Kt(
        e.$vscodeTextmateLocation,
        e.id,
        e.name,
        e.contentName,
        e.begin,
        U2._compileCaptures(e.beginCaptures || e.captures, n4, r4),
        e.end,
        U2._compileCaptures(e.endCaptures || e.captures, n4, r4),
        e.applyEndPatternLast,
        U2._compilePatterns(e.patterns, n4, r4)
      );
    }), e.id;
  }
  static _compileCaptures(e, n4, r4) {
    let o2 = [];
    if (e) {
      let s3 = 0;
      for (const a3 in e) {
        if (a3 === "$vscodeTextmateLocation")
          continue;
        const i5 = parseInt(a3, 10);
        i5 > s3 && (s3 = i5);
      }
      for (let a3 = 0; a3 <= s3; a3++)
        o2[a3] = null;
      for (const a3 in e) {
        if (a3 === "$vscodeTextmateLocation")
          continue;
        const i5 = parseInt(a3, 10);
        let l3 = 0;
        e[a3].patterns && (l3 = U2.getCompiledRuleId(e[a3], n4, r4)), o2[i5] = U2.createCaptureRule(n4, e[a3].$vscodeTextmateLocation, e[a3].name, e[a3].contentName, l3);
      }
    }
    return o2;
  }
  static _compilePatterns(e, n4, r4) {
    let o2 = [];
    if (e)
      for (let s3 = 0, a3 = e.length; s3 < a3; s3++) {
        const i5 = e[s3];
        let l3 = -1;
        if (i5.include) {
          const u5 = ro(i5.include);
          switch (u5.kind) {
            case 0:
            case 1:
              l3 = U2.getCompiledRuleId(r4[i5.include], n4, r4);
              break;
            case 2:
              let c6 = r4[u5.ruleName];
              c6 && (l3 = U2.getCompiledRuleId(c6, n4, r4));
              break;
            case 3:
            case 4:
              const h3 = u5.scopeName, d2 = u5.kind === 4 ? u5.ruleName : null, f8 = n4.getExternalGrammar(h3, r4);
              if (f8)
                if (d2) {
                  let p3 = f8.repository[d2];
                  p3 && (l3 = U2.getCompiledRuleId(p3, n4, f8.repository));
                } else
                  l3 = U2.getCompiledRuleId(f8.repository.$self, n4, f8.repository);
              break;
          }
        } else
          l3 = U2.getCompiledRuleId(i5, n4, r4);
        if (l3 !== -1) {
          const u5 = n4.getRule(l3);
          let c6 = false;
          if ((u5 instanceof Wn || u5 instanceof Kt || u5 instanceof ct2) && u5.hasMissingPatterns && u5.patterns.length === 0 && (c6 = true), c6)
            continue;
          o2.push(l3);
        }
      }
    return {
      patterns: o2,
      hasMissingPatterns: (e ? e.length : 0) !== o2.length
    };
  }
};
var ze2 = class ao {
  source;
  ruleId;
  hasAnchor;
  hasBackReferences;
  _anchorCache;
  constructor(e, n4) {
    if (e && typeof e == "string") {
      const r4 = e.length;
      let o2 = 0, s3 = [], a3 = false;
      for (let i5 = 0; i5 < r4; i5++)
        if (e.charAt(i5) === "\\" && i5 + 1 < r4) {
          const u5 = e.charAt(i5 + 1);
          u5 === "z" ? (s3.push(e.substring(o2, i5)), s3.push("$(?!\\n)(?<!\\n)"), o2 = i5 + 2) : (u5 === "A" || u5 === "G") && (a3 = true), i5++;
        }
      this.hasAnchor = a3, o2 === 0 ? this.source = e : (s3.push(e.substring(o2, r4)), this.source = s3.join(""));
    } else
      this.hasAnchor = false, this.source = e;
    this.hasAnchor ? this._anchorCache = this._buildAnchorCache() : this._anchorCache = null, this.ruleId = n4, typeof this.source == "string" ? this.hasBackReferences = Pa.test(this.source) : this.hasBackReferences = false;
  }
  clone() {
    return new ao(this.source, this.ruleId);
  }
  setSource(e) {
    this.source !== e && (this.source = e, this.hasAnchor && (this._anchorCache = this._buildAnchorCache()));
  }
  resolveBackReferences(e, n4) {
    if (typeof this.source != "string")
      throw new Error("This method should only be called if the source is a string");
    let r4 = n4.map((o2) => e.substring(o2.start, o2.end));
    return Hn.lastIndex = 0, this.source.replace(Hn, (o2, s3) => Zr(r4[parseInt(s3, 10)] || ""));
  }
  _buildAnchorCache() {
    if (typeof this.source != "string")
      throw new Error("This method should only be called if the source is a string");
    let e = [], n4 = [], r4 = [], o2 = [], s3, a3, i5, l3;
    for (s3 = 0, a3 = this.source.length; s3 < a3; s3++)
      i5 = this.source.charAt(s3), e[s3] = i5, n4[s3] = i5, r4[s3] = i5, o2[s3] = i5, i5 === "\\" && s3 + 1 < a3 && (l3 = this.source.charAt(s3 + 1), l3 === "A" ? (e[s3 + 1] = "", n4[s3 + 1] = "", r4[s3 + 1] = "A", o2[s3 + 1] = "A") : l3 === "G" ? (e[s3 + 1] = "", n4[s3 + 1] = "G", r4[s3 + 1] = "", o2[s3 + 1] = "G") : (e[s3 + 1] = l3, n4[s3 + 1] = l3, r4[s3 + 1] = l3, o2[s3 + 1] = l3), s3++);
    return {
      A0_G0: e.join(""),
      A0_G1: n4.join(""),
      A1_G0: r4.join(""),
      A1_G1: o2.join("")
    };
  }
  resolveAnchors(e, n4) {
    return !this.hasAnchor || !this._anchorCache || typeof this.source != "string" ? this.source : e ? n4 ? this._anchorCache.A1_G1 : this._anchorCache.A1_G0 : n4 ? this._anchorCache.A0_G1 : this._anchorCache.A0_G0;
  }
};
var He2 = class {
  _items;
  _hasAnchors;
  _cached;
  _anchorCache;
  constructor() {
    this._items = [], this._hasAnchors = false, this._cached = null, this._anchorCache = {
      A0_G0: null,
      A0_G1: null,
      A1_G0: null,
      A1_G1: null
    };
  }
  dispose() {
    this._disposeCaches();
  }
  _disposeCaches() {
    this._cached && (this._cached.dispose(), this._cached = null), this._anchorCache.A0_G0 && (this._anchorCache.A0_G0.dispose(), this._anchorCache.A0_G0 = null), this._anchorCache.A0_G1 && (this._anchorCache.A0_G1.dispose(), this._anchorCache.A0_G1 = null), this._anchorCache.A1_G0 && (this._anchorCache.A1_G0.dispose(), this._anchorCache.A1_G0 = null), this._anchorCache.A1_G1 && (this._anchorCache.A1_G1.dispose(), this._anchorCache.A1_G1 = null);
  }
  push(t3) {
    this._items.push(t3), this._hasAnchors = this._hasAnchors || t3.hasAnchor;
  }
  unshift(t3) {
    this._items.unshift(t3), this._hasAnchors = this._hasAnchors || t3.hasAnchor;
  }
  length() {
    return this._items.length;
  }
  setSource(t3, e) {
    this._items[t3].source !== e && (this._disposeCaches(), this._items[t3].setSource(e));
  }
  compile(t3) {
    if (!this._cached) {
      let e = this._items.map((n4) => n4.source);
      this._cached = new qn(t3, e, this._items.map((n4) => n4.ruleId));
    }
    return this._cached;
  }
  compileAG(t3, e, n4) {
    return this._hasAnchors ? e ? n4 ? (this._anchorCache.A1_G1 || (this._anchorCache.A1_G1 = this._resolveAnchors(t3, e, n4)), this._anchorCache.A1_G1) : (this._anchorCache.A1_G0 || (this._anchorCache.A1_G0 = this._resolveAnchors(t3, e, n4)), this._anchorCache.A1_G0) : n4 ? (this._anchorCache.A0_G1 || (this._anchorCache.A0_G1 = this._resolveAnchors(t3, e, n4)), this._anchorCache.A0_G1) : (this._anchorCache.A0_G0 || (this._anchorCache.A0_G0 = this._resolveAnchors(t3, e, n4)), this._anchorCache.A0_G0) : this.compile(t3);
  }
  _resolveAnchors(t3, e, n4) {
    let r4 = this._items.map((o2) => o2.resolveAnchors(e, n4));
    return new qn(t3, r4, this._items.map((o2) => o2.ruleId));
  }
};
var qn = class {
  constructor(t3, e, n4) {
    this.regExps = e, this.rules = n4, this.scanner = t3.createOnigScanner(e);
  }
  scanner;
  dispose() {
    typeof this.scanner.dispose == "function" && this.scanner.dispose();
  }
  toString() {
    const t3 = [];
    for (let e = 0, n4 = this.rules.length; e < n4; e++)
      t3.push("   - " + this.rules[e] + ": " + this.regExps[e]);
    return t3.join(`
`);
  }
  findNextMatchSync(t3, e, n4) {
    const r4 = this.scanner.findNextMatchSync(t3, e, n4);
    return r4 ? {
      ruleId: this.rules[r4.index],
      captureIndices: r4.captureIndices
    } : null;
  }
};
var Pt = class {
  constructor(t3, e) {
    this.languageId = t3, this.tokenType = e;
  }
};
var Ma = class Yt2 {
  _defaultAttributes;
  _embeddedLanguagesMatcher;
  constructor(e, n4) {
    this._defaultAttributes = new Pt(
      e,
      8
      /* NotSet */
    ), this._embeddedLanguagesMatcher = new Oa(Object.entries(n4 || {}));
  }
  getDefaultAttributes() {
    return this._defaultAttributes;
  }
  getBasicScopeAttributes(e) {
    return e === null ? Yt2._NULL_SCOPE_METADATA : this._getBasicScopeAttributes.get(e);
  }
  static _NULL_SCOPE_METADATA = new Pt(0, 0);
  _getBasicScopeAttributes = new Qr((e) => {
    const n4 = this._scopeToLanguage(e), r4 = this._toStandardTokenType(e);
    return new Pt(n4, r4);
  });
  /**
   * Given a produced TM scope, return the language that token describes or null if unknown.
   * e.g. source.html => html, source.css.embedded.html => css, punctuation.definition.tag.html => null
   */
  _scopeToLanguage(e) {
    return this._embeddedLanguagesMatcher.match(e) || 0;
  }
  _toStandardTokenType(e) {
    const n4 = e.match(Yt2.STANDARD_TOKEN_TYPE_REGEXP);
    if (!n4)
      return 8;
    switch (n4[1]) {
      case "comment":
        return 1;
      case "string":
        return 2;
      case "regex":
        return 3;
      case "meta.embedded":
        return 0;
    }
    throw new Error("Unexpected match for standard token type!");
  }
  static STANDARD_TOKEN_TYPE_REGEXP = /\b(comment|string|regex|meta\.embedded)\b/;
};
var Oa = class {
  values;
  scopesRegExp;
  constructor(t3) {
    if (t3.length === 0)
      this.values = null, this.scopesRegExp = null;
    else {
      this.values = new Map(t3);
      const e = t3.map(
        ([n4, r4]) => Zr(n4)
      );
      e.sort(), e.reverse(), this.scopesRegExp = new RegExp(
        `^((${e.join(")|(")}))($|\\.)`,
        ""
      );
    }
  }
  match(t3) {
    if (!this.scopesRegExp)
      return;
    const e = t3.match(this.scopesRegExp);
    if (e)
      return this.values.get(e[1]);
  }
};
typeof process < "u" && process.env.VSCODE_TEXTMATE_DEBUG;
var Vn = class {
  constructor(t3, e) {
    this.stack = t3, this.stoppedEarly = e;
  }
};
function io(t3, e, n4, r4, o2, s3, a3, i5) {
  const l3 = e.content.length;
  let u5 = false, c6 = -1;
  if (a3) {
    const f8 = Da(
      t3,
      e,
      n4,
      r4,
      o2,
      s3
    );
    o2 = f8.stack, r4 = f8.linePos, n4 = f8.isFirstLine, c6 = f8.anchorPosition;
  }
  const h3 = Date.now();
  for (; !u5; ) {
    if (i5 !== 0 && Date.now() - h3 > i5)
      return new Vn(o2, true);
    d2();
  }
  return new Vn(o2, false);
  function d2() {
    const f8 = Ga(
      t3,
      e,
      n4,
      r4,
      o2,
      c6
    );
    if (!f8) {
      s3.produce(o2, l3), u5 = true;
      return;
    }
    const p3 = f8.captureIndices, m3 = f8.matchedRuleId, g6 = p3 && p3.length > 0 ? p3[0].end > r4 : false;
    if (m3 === La) {
      const C5 = o2.getRule(t3);
      s3.produce(o2, p3[0].start), o2 = o2.withContentNameScopesList(o2.nameScopesList), Ge2(
        t3,
        e,
        n4,
        o2,
        s3,
        C5.endCaptures,
        p3
      ), s3.produce(o2, p3[0].end);
      const y4 = o2;
      if (o2 = o2.parent, c6 = y4.getAnchorPos(), !g6 && y4.getEnterPos() === r4) {
        o2 = y4, s3.produce(o2, l3), u5 = true;
        return;
      }
    } else {
      const C5 = t3.getRule(m3);
      s3.produce(o2, p3[0].start);
      const y4 = o2, _5 = C5.getName(e.content, p3), S4 = o2.contentNameScopesList.pushAttributed(
        _5,
        t3
      );
      if (o2 = o2.push(
        m3,
        r4,
        c6,
        p3[0].end === l3,
        null,
        S4,
        S4
      ), C5 instanceof Kt) {
        const A3 = C5;
        Ge2(
          t3,
          e,
          n4,
          o2,
          s3,
          A3.beginCaptures,
          p3
        ), s3.produce(o2, p3[0].end), c6 = p3[0].end;
        const D3 = A3.getContentName(
          e.content,
          p3
        ), P3 = S4.pushAttributed(
          D3,
          t3
        );
        if (o2 = o2.withContentNameScopesList(P3), A3.endHasBackReferences && (o2 = o2.withEndRule(
          A3.getEndWithResolvedBackReferences(
            e.content,
            p3
          )
        )), !g6 && y4.hasSameRuleAs(o2)) {
          o2 = o2.pop(), s3.produce(o2, l3), u5 = true;
          return;
        }
      } else if (C5 instanceof ct2) {
        const A3 = C5;
        Ge2(
          t3,
          e,
          n4,
          o2,
          s3,
          A3.beginCaptures,
          p3
        ), s3.produce(o2, p3[0].end), c6 = p3[0].end;
        const D3 = A3.getContentName(
          e.content,
          p3
        ), P3 = S4.pushAttributed(
          D3,
          t3
        );
        if (o2 = o2.withContentNameScopesList(P3), A3.whileHasBackReferences && (o2 = o2.withEndRule(
          A3.getWhileWithResolvedBackReferences(
            e.content,
            p3
          )
        )), !g6 && y4.hasSameRuleAs(o2)) {
          o2 = o2.pop(), s3.produce(o2, l3), u5 = true;
          return;
        }
      } else if (Ge2(
        t3,
        e,
        n4,
        o2,
        s3,
        C5.captures,
        p3
      ), s3.produce(o2, p3[0].end), o2 = o2.pop(), !g6) {
        o2 = o2.safePop(), s3.produce(o2, l3), u5 = true;
        return;
      }
    }
    p3[0].end > r4 && (r4 = p3[0].end, n4 = false);
  }
}
function Da(t3, e, n4, r4, o2, s3) {
  let a3 = o2.beginRuleCapturedEOL ? 0 : -1;
  const i5 = [];
  for (let l3 = o2; l3; l3 = l3.pop()) {
    const u5 = l3.getRule(t3);
    u5 instanceof ct2 && i5.push({
      rule: u5,
      stack: l3
    });
  }
  for (let l3 = i5.pop(); l3; l3 = i5.pop()) {
    const { ruleScanner: u5, findOptions: c6 } = ja(l3.rule, t3, l3.stack.endRule, n4, r4 === a3), h3 = u5.findNextMatchSync(e, r4, c6);
    if (h3) {
      if (h3.ruleId !== oo) {
        o2 = l3.stack.pop();
        break;
      }
      h3.captureIndices && h3.captureIndices.length && (s3.produce(l3.stack, h3.captureIndices[0].start), Ge2(t3, e, n4, l3.stack, s3, l3.rule.whileCaptures, h3.captureIndices), s3.produce(l3.stack, h3.captureIndices[0].end), a3 = h3.captureIndices[0].end, h3.captureIndices[0].end > r4 && (r4 = h3.captureIndices[0].end, n4 = false));
    } else {
      o2 = l3.stack.pop();
      break;
    }
  }
  return { stack: o2, linePos: r4, anchorPosition: a3, isFirstLine: n4 };
}
function Ga(t3, e, n4, r4, o2, s3) {
  const a3 = Fa(t3, e, n4, r4, o2, s3), i5 = t3.getInjections();
  if (i5.length === 0)
    return a3;
  const l3 = Ba(i5, t3, e, n4, r4, o2, s3);
  if (!l3)
    return a3;
  if (!a3)
    return l3;
  const u5 = a3.captureIndices[0].start, c6 = l3.captureIndices[0].start;
  return c6 < u5 || l3.priorityMatch && c6 === u5 ? l3 : a3;
}
function Fa(t3, e, n4, r4, o2, s3) {
  const a3 = o2.getRule(t3), { ruleScanner: i5, findOptions: l3 } = lo(a3, t3, o2.endRule, n4, r4 === s3), u5 = i5.findNextMatchSync(e, r4, l3);
  return u5 ? {
    captureIndices: u5.captureIndices,
    matchedRuleId: u5.ruleId
  } : null;
}
function Ba(t3, e, n4, r4, o2, s3, a3) {
  let i5 = Number.MAX_VALUE, l3 = null, u5, c6 = 0;
  const h3 = s3.contentNameScopesList.getScopeNames();
  for (let d2 = 0, f8 = t3.length; d2 < f8; d2++) {
    const p3 = t3[d2];
    if (!p3.matcher(h3))
      continue;
    const m3 = e.getRule(p3.ruleId), { ruleScanner: g6, findOptions: C5 } = lo(m3, e, null, r4, o2 === a3), y4 = g6.findNextMatchSync(n4, o2, C5);
    if (!y4)
      continue;
    const _5 = y4.captureIndices[0].start;
    if (!(_5 >= i5) && (i5 = _5, l3 = y4.captureIndices, u5 = y4.ruleId, c6 = p3.priority, i5 === o2))
      break;
  }
  return l3 ? {
    priorityMatch: c6 === -1,
    captureIndices: l3,
    matchedRuleId: u5
  } : null;
}
function lo(t3, e, n4, r4, o2) {
  return {
    ruleScanner: t3.compileAG(e, n4, r4, o2),
    findOptions: 0
    /* None */
  };
}
function ja(t3, e, n4, r4, o2) {
  return {
    ruleScanner: t3.compileWhileAG(e, n4, r4, o2),
    findOptions: 0
    /* None */
  };
}
function Ge2(t3, e, n4, r4, o2, s3, a3) {
  if (s3.length === 0)
    return;
  const i5 = e.content, l3 = Math.min(s3.length, a3.length), u5 = [], c6 = a3[0].end;
  for (let h3 = 0; h3 < l3; h3++) {
    const d2 = s3[h3];
    if (d2 === null)
      continue;
    const f8 = a3[h3];
    if (f8.length === 0)
      continue;
    if (f8.start > c6)
      break;
    for (; u5.length > 0 && u5[u5.length - 1].endPos <= f8.start; )
      o2.produceFromScopes(u5[u5.length - 1].scopes, u5[u5.length - 1].endPos), u5.pop();
    if (u5.length > 0 ? o2.produceFromScopes(u5[u5.length - 1].scopes, f8.start) : o2.produce(r4, f8.start), d2.retokenizeCapturedWithRuleId) {
      const m3 = d2.getName(i5, a3), g6 = r4.contentNameScopesList.pushAttributed(m3, t3), C5 = d2.getContentName(i5, a3), y4 = g6.pushAttributed(C5, t3), _5 = r4.push(d2.retokenizeCapturedWithRuleId, f8.start, -1, false, null, g6, y4), S4 = t3.createOnigString(i5.substring(0, f8.end));
      io(
        t3,
        S4,
        n4 && f8.start === 0,
        f8.start,
        _5,
        o2,
        false,
        /* no time limit */
        0
      ), no(S4);
      continue;
    }
    const p3 = d2.getName(i5, a3);
    if (p3 !== null) {
      const g6 = (u5.length > 0 ? u5[u5.length - 1].scopes : r4.contentNameScopesList).pushAttributed(p3, t3);
      u5.push(new Ua(g6, f8.end));
    }
  }
  for (; u5.length > 0; )
    o2.produceFromScopes(u5[u5.length - 1].scopes, u5[u5.length - 1].endPos), u5.pop();
}
var Ua = class {
  scopes;
  endPos;
  constructor(t3, e) {
    this.scopes = t3, this.endPos = e;
  }
};
function za(t3, e, n4, r4, o2, s3, a3, i5) {
  return new Wa(
    t3,
    e,
    n4,
    r4,
    o2,
    s3,
    a3,
    i5
  );
}
function Xn(t3, e, n4, r4, o2) {
  const s3 = lt(e, ht2), a3 = so.getCompiledRuleId(n4, r4, o2.repository);
  for (const i5 of s3)
    t3.push({
      debugSelector: e,
      matcher: i5.matcher,
      ruleId: a3,
      grammar: o2,
      priority: i5.priority
    });
}
function ht2(t3, e) {
  if (e.length < t3.length)
    return false;
  let n4 = 0;
  return t3.every((r4) => {
    for (let o2 = n4; o2 < e.length; o2++)
      if (Ha(e[o2], r4))
        return n4 = o2 + 1, true;
    return false;
  });
}
function Ha(t3, e) {
  if (!t3)
    return false;
  if (t3 === e)
    return true;
  const n4 = e.length;
  return t3.length > n4 && t3.substr(0, n4) === e && t3[n4] === ".";
}
var Wa = class {
  constructor(t3, e, n4, r4, o2, s3, a3, i5) {
    if (this._rootScopeName = t3, this.balancedBracketSelectors = s3, this._onigLib = i5, this._basicScopeAttributesProvider = new Ma(
      n4,
      r4
    ), this._rootId = -1, this._lastRuleId = 0, this._ruleId2desc = [null], this._includedGrammars = {}, this._grammarRepository = a3, this._grammar = Kn(e, null), this._injections = null, this._tokenTypeMatchers = [], o2)
      for (const l3 of Object.keys(o2)) {
        const u5 = lt(l3, ht2);
        for (const c6 of u5)
          this._tokenTypeMatchers.push({
            matcher: c6.matcher,
            type: o2[l3]
          });
      }
  }
  _rootId;
  _lastRuleId;
  _ruleId2desc;
  _includedGrammars;
  _grammarRepository;
  _grammar;
  _injections;
  _basicScopeAttributesProvider;
  _tokenTypeMatchers;
  get themeProvider() {
    return this._grammarRepository;
  }
  dispose() {
    for (const t3 of this._ruleId2desc)
      t3 && t3.dispose();
  }
  createOnigScanner(t3) {
    return this._onigLib.createOnigScanner(t3);
  }
  createOnigString(t3) {
    return this._onigLib.createOnigString(t3);
  }
  getMetadataForScope(t3) {
    return this._basicScopeAttributesProvider.getBasicScopeAttributes(t3);
  }
  _collectInjections() {
    const t3 = {
      lookup: (o2) => o2 === this._rootScopeName ? this._grammar : this.getExternalGrammar(o2),
      injections: (o2) => this._grammarRepository.injections(o2)
    }, e = [], n4 = this._rootScopeName, r4 = t3.lookup(n4);
    if (r4) {
      const o2 = r4.injections;
      if (o2)
        for (let a3 in o2)
          Xn(
            e,
            a3,
            o2[a3],
            this,
            r4
          );
      const s3 = this._grammarRepository.injections(n4);
      s3 && s3.forEach((a3) => {
        const i5 = this.getExternalGrammar(a3);
        if (i5) {
          const l3 = i5.injectionSelector;
          l3 && Xn(
            e,
            l3,
            i5,
            this,
            i5
          );
        }
      });
    }
    return e.sort((o2, s3) => o2.priority - s3.priority), e;
  }
  getInjections() {
    return this._injections === null && (this._injections = this._collectInjections()), this._injections;
  }
  registerRule(t3) {
    const e = ++this._lastRuleId, n4 = t3(e);
    return this._ruleId2desc[e] = n4, n4;
  }
  getRule(t3) {
    return this._ruleId2desc[t3];
  }
  getExternalGrammar(t3, e) {
    if (this._includedGrammars[t3])
      return this._includedGrammars[t3];
    if (this._grammarRepository) {
      const n4 = this._grammarRepository.lookup(t3);
      if (n4)
        return this._includedGrammars[t3] = Kn(
          n4,
          e && e.$base
        ), this._includedGrammars[t3];
    }
  }
  tokenizeLine(t3, e, n4 = 0) {
    const r4 = this._tokenize(t3, e, false, n4);
    return {
      tokens: r4.lineTokens.getResult(r4.ruleStack, r4.lineLength),
      ruleStack: r4.ruleStack,
      stoppedEarly: r4.stoppedEarly
    };
  }
  tokenizeLine2(t3, e, n4 = 0) {
    const r4 = this._tokenize(t3, e, true, n4);
    return {
      tokens: r4.lineTokens.getBinaryResult(r4.ruleStack, r4.lineLength),
      ruleStack: r4.ruleStack,
      stoppedEarly: r4.stoppedEarly
    };
  }
  _tokenize(t3, e, n4, r4) {
    this._rootId === -1 && (this._rootId = so.getCompiledRuleId(
      this._grammar.repository.$self,
      this,
      this._grammar.repository
    ), this.getInjections());
    let o2;
    if (!e || e === Jt.NULL) {
      o2 = true;
      const u5 = this._basicScopeAttributesProvider.getDefaultAttributes(), c6 = this.themeProvider.getDefaults(), h3 = Re3.set(
        0,
        u5.languageId,
        u5.tokenType,
        null,
        c6.fontStyle,
        c6.foregroundId,
        c6.backgroundId
      ), d2 = this.getRule(this._rootId).getName(
        null,
        null
      );
      let f8;
      d2 ? f8 = Fe3.createRootAndLookUpScopeName(
        d2,
        h3,
        this
      ) : f8 = Fe3.createRoot(
        "unknown",
        h3
      ), e = new Jt(
        null,
        this._rootId,
        -1,
        -1,
        false,
        null,
        f8,
        f8
      );
    } else
      o2 = false, e.reset();
    t3 = t3 + `
`;
    const s3 = this.createOnigString(t3), a3 = s3.content.length, i5 = new Va(
      n4,
      t3,
      this._tokenTypeMatchers,
      this.balancedBracketSelectors
    ), l3 = io(
      this,
      s3,
      o2,
      0,
      e,
      i5,
      true,
      r4
    );
    return no(s3), {
      lineLength: a3,
      lineTokens: i5,
      ruleStack: l3.stack,
      stoppedEarly: l3.stoppedEarly
    };
  }
};
function Kn(t3, e) {
  return t3 = ca(t3), t3.repository = t3.repository || {}, t3.repository.$self = {
    $vscodeTextmateLocation: t3.$vscodeTextmateLocation,
    patterns: t3.patterns,
    name: t3.scopeName
  }, t3.repository.$base = e || t3.repository.$self, t3;
}
var Fe3 = class ne3 {
  /**
   * Invariant:
   * ```
   * if (parent && !scopePath.extends(parent.scopePath)) {
   * 	throw new Error();
   * }
   * ```
   */
  constructor(e, n4, r4) {
    this.parent = e, this.scopePath = n4, this.tokenAttributes = r4;
  }
  static fromExtension(e, n4) {
    let r4 = e, o2 = e?.scopePath ?? null;
    for (const s3 of n4)
      o2 = Nt.push(o2, s3.scopeNames), r4 = new ne3(r4, o2, s3.encodedTokenAttributes);
    return r4;
  }
  static createRoot(e, n4) {
    return new ne3(null, new Nt(null, e), n4);
  }
  static createRootAndLookUpScopeName(e, n4, r4) {
    const o2 = r4.getMetadataForScope(e), s3 = new Nt(null, e), a3 = r4.themeProvider.themeMatch(s3), i5 = ne3.mergeAttributes(
      n4,
      o2,
      a3
    );
    return new ne3(null, s3, i5);
  }
  get scopeName() {
    return this.scopePath.scopeName;
  }
  toString() {
    return this.getScopeNames().join(" ");
  }
  equals(e) {
    return ne3.equals(this, e);
  }
  static equals(e, n4) {
    do {
      if (e === n4 || !e && !n4)
        return true;
      if (!e || !n4 || e.scopeName !== n4.scopeName || e.tokenAttributes !== n4.tokenAttributes)
        return false;
      e = e.parent, n4 = n4.parent;
    } while (true);
  }
  static mergeAttributes(e, n4, r4) {
    let o2 = -1, s3 = 0, a3 = 0;
    return r4 !== null && (o2 = r4.fontStyle, s3 = r4.foregroundId, a3 = r4.backgroundId), Re3.set(
      e,
      n4.languageId,
      n4.tokenType,
      null,
      o2,
      s3,
      a3
    );
  }
  pushAttributed(e, n4) {
    if (e === null)
      return this;
    if (e.indexOf(" ") === -1)
      return ne3._pushAttributed(this, e, n4);
    const r4 = e.split(/ /g);
    let o2 = this;
    for (const s3 of r4)
      o2 = ne3._pushAttributed(o2, s3, n4);
    return o2;
  }
  static _pushAttributed(e, n4, r4) {
    const o2 = r4.getMetadataForScope(n4), s3 = e.scopePath.push(n4), a3 = r4.themeProvider.themeMatch(s3), i5 = ne3.mergeAttributes(
      e.tokenAttributes,
      o2,
      a3
    );
    return new ne3(e, s3, i5);
  }
  getScopeNames() {
    return this.scopePath.getSegments();
  }
  getExtensionIfDefined(e) {
    const n4 = [];
    let r4 = this;
    for (; r4 && r4 !== e; )
      n4.push({
        encodedTokenAttributes: r4.tokenAttributes,
        scopeNames: r4.scopePath.getExtensionIfDefined(r4.parent?.scopePath ?? null)
      }), r4 = r4.parent;
    return r4 === e ? n4.reverse() : void 0;
  }
};
var Jt = class pe {
  /**
   * Invariant:
   * ```
   * if (contentNameScopesList !== nameScopesList && contentNameScopesList?.parent !== nameScopesList) {
   * 	throw new Error();
   * }
   * if (this.parent && !nameScopesList.extends(this.parent.contentNameScopesList)) {
   * 	throw new Error();
   * }
   * ```
   */
  constructor(e, n4, r4, o2, s3, a3, i5, l3) {
    this.parent = e, this.ruleId = n4, this.beginRuleCapturedEOL = s3, this.endRule = a3, this.nameScopesList = i5, this.contentNameScopesList = l3, this.depth = this.parent ? this.parent.depth + 1 : 1, this._enterPos = r4, this._anchorPos = o2;
  }
  _stackElementBrand = void 0;
  // TODO remove me
  static NULL = new pe(
    null,
    0,
    0,
    0,
    false,
    null,
    null,
    null
  );
  /**
   * The position on the current line where this state was pushed.
   * This is relevant only while tokenizing a line, to detect endless loops.
   * Its value is meaningless across lines.
   */
  _enterPos;
  /**
   * The captured anchor position when this stack element was pushed.
   * This is relevant only while tokenizing a line, to restore the anchor position when popping.
   * Its value is meaningless across lines.
   */
  _anchorPos;
  /**
   * The depth of the stack.
   */
  depth;
  equals(e) {
    return e === null ? false : pe._equals(this, e);
  }
  static _equals(e, n4) {
    return e === n4 ? true : this._structuralEquals(e, n4) ? Fe3.equals(e.contentNameScopesList, n4.contentNameScopesList) : false;
  }
  /**
   * A structural equals check. Does not take into account `scopes`.
   */
  static _structuralEquals(e, n4) {
    do {
      if (e === n4 || !e && !n4)
        return true;
      if (!e || !n4 || e.depth !== n4.depth || e.ruleId !== n4.ruleId || e.endRule !== n4.endRule)
        return false;
      e = e.parent, n4 = n4.parent;
    } while (true);
  }
  clone() {
    return this;
  }
  static _reset(e) {
    for (; e; )
      e._enterPos = -1, e._anchorPos = -1, e = e.parent;
  }
  reset() {
    pe._reset(this);
  }
  pop() {
    return this.parent;
  }
  safePop() {
    return this.parent ? this.parent : this;
  }
  push(e, n4, r4, o2, s3, a3, i5) {
    return new pe(
      this,
      e,
      n4,
      r4,
      o2,
      s3,
      a3,
      i5
    );
  }
  getEnterPos() {
    return this._enterPos;
  }
  getAnchorPos() {
    return this._anchorPos;
  }
  getRule(e) {
    return e.getRule(this.ruleId);
  }
  toString() {
    const e = [];
    return this._writeString(e, 0), "[" + e.join(",") + "]";
  }
  _writeString(e, n4) {
    return this.parent && (n4 = this.parent._writeString(e, n4)), e[n4++] = `(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`, n4;
  }
  withContentNameScopesList(e) {
    return this.contentNameScopesList === e ? this : this.parent.push(
      this.ruleId,
      this._enterPos,
      this._anchorPos,
      this.beginRuleCapturedEOL,
      this.endRule,
      this.nameScopesList,
      e
    );
  }
  withEndRule(e) {
    return this.endRule === e ? this : new pe(
      this.parent,
      this.ruleId,
      this._enterPos,
      this._anchorPos,
      this.beginRuleCapturedEOL,
      e,
      this.nameScopesList,
      this.contentNameScopesList
    );
  }
  // Used to warn of endless loops
  hasSameRuleAs(e) {
    let n4 = this;
    for (; n4 && n4._enterPos === e._enterPos; ) {
      if (n4.ruleId === e.ruleId)
        return true;
      n4 = n4.parent;
    }
    return false;
  }
  toStateStackFrame() {
    return {
      ruleId: this.ruleId,
      beginRuleCapturedEOL: this.beginRuleCapturedEOL,
      endRule: this.endRule,
      nameScopesList: this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList ?? null) ?? [],
      contentNameScopesList: this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList) ?? []
    };
  }
  static pushFrame(e, n4) {
    const r4 = Fe3.fromExtension(e?.nameScopesList ?? null, n4.nameScopesList);
    return new pe(
      e,
      n4.ruleId,
      n4.enterPos ?? -1,
      n4.anchorPos ?? -1,
      n4.beginRuleCapturedEOL,
      n4.endRule,
      r4,
      Fe3.fromExtension(r4, n4.contentNameScopesList)
    );
  }
};
var qa = class {
  balancedBracketScopes;
  unbalancedBracketScopes;
  allowAny = false;
  constructor(t3, e) {
    this.balancedBracketScopes = t3.flatMap(
      (n4) => n4 === "*" ? (this.allowAny = true, []) : lt(n4, ht2).map((r4) => r4.matcher)
    ), this.unbalancedBracketScopes = e.flatMap(
      (n4) => lt(n4, ht2).map((r4) => r4.matcher)
    );
  }
  get matchesAlways() {
    return this.allowAny && this.unbalancedBracketScopes.length === 0;
  }
  get matchesNever() {
    return this.balancedBracketScopes.length === 0 && !this.allowAny;
  }
  match(t3) {
    for (const e of this.unbalancedBracketScopes)
      if (e(t3))
        return false;
    for (const e of this.balancedBracketScopes)
      if (e(t3))
        return true;
    return this.allowAny;
  }
};
var Va = class {
  constructor(t3, e, n4, r4) {
    this.balancedBracketSelectors = r4, this._emitBinaryTokens = t3, this._tokenTypeOverrides = n4, this._lineText = null, this._tokens = [], this._binaryTokens = [], this._lastTokenEndIndex = 0;
  }
  _emitBinaryTokens;
  /**
   * defined only if `false`.
   */
  _lineText;
  /**
   * used only if `_emitBinaryTokens` is false.
   */
  _tokens;
  /**
   * used only if `_emitBinaryTokens` is true.
   */
  _binaryTokens;
  _lastTokenEndIndex;
  _tokenTypeOverrides;
  produce(t3, e) {
    this.produceFromScopes(t3.contentNameScopesList, e);
  }
  produceFromScopes(t3, e) {
    if (this._lastTokenEndIndex >= e)
      return;
    if (this._emitBinaryTokens) {
      let r4 = t3?.tokenAttributes ?? 0, o2 = false;
      if (this.balancedBracketSelectors?.matchesAlways && (o2 = true), this._tokenTypeOverrides.length > 0 || this.balancedBracketSelectors && !this.balancedBracketSelectors.matchesAlways && !this.balancedBracketSelectors.matchesNever) {
        const s3 = t3?.getScopeNames() ?? [];
        for (const a3 of this._tokenTypeOverrides)
          a3.matcher(s3) && (r4 = Re3.set(
            r4,
            0,
            a3.type,
            null,
            -1,
            0,
            0
          ));
        this.balancedBracketSelectors && (o2 = this.balancedBracketSelectors.match(s3));
      }
      if (o2 && (r4 = Re3.set(
        r4,
        0,
        8,
        o2,
        -1,
        0,
        0
      )), this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 1] === r4) {
        this._lastTokenEndIndex = e;
        return;
      }
      this._binaryTokens.push(this._lastTokenEndIndex), this._binaryTokens.push(r4), this._lastTokenEndIndex = e;
      return;
    }
    const n4 = t3?.getScopeNames() ?? [];
    this._tokens.push({
      startIndex: this._lastTokenEndIndex,
      endIndex: e,
      // value: lineText.substring(lastTokenEndIndex, endIndex),
      scopes: n4
    }), this._lastTokenEndIndex = e;
  }
  getResult(t3, e) {
    return this._tokens.length > 0 && this._tokens[this._tokens.length - 1].startIndex === e - 1 && this._tokens.pop(), this._tokens.length === 0 && (this._lastTokenEndIndex = -1, this.produce(t3, e), this._tokens[this._tokens.length - 1].startIndex = 0), this._tokens;
  }
  getBinaryResult(t3, e) {
    this._binaryTokens.length > 0 && this._binaryTokens[this._binaryTokens.length - 2] === e - 1 && (this._binaryTokens.pop(), this._binaryTokens.pop()), this._binaryTokens.length === 0 && (this._lastTokenEndIndex = -1, this.produce(t3, e), this._binaryTokens[this._binaryTokens.length - 2] = 0);
    const n4 = new Uint32Array(this._binaryTokens.length);
    for (let r4 = 0, o2 = this._binaryTokens.length; r4 < o2; r4++)
      n4[r4] = this._binaryTokens[r4];
    return n4;
  }
};
var Xa = class {
  constructor(t3, e) {
    this._onigLib = e, this._theme = t3;
  }
  _grammars = /* @__PURE__ */ new Map();
  _rawGrammars = /* @__PURE__ */ new Map();
  _injectionGrammars = /* @__PURE__ */ new Map();
  _theme;
  dispose() {
    for (const t3 of this._grammars.values())
      t3.dispose();
  }
  setTheme(t3) {
    this._theme = t3;
  }
  getColorMap() {
    return this._theme.getColorMap();
  }
  /**
   * Add `grammar` to registry and return a list of referenced scope names
   */
  addGrammar(t3, e) {
    this._rawGrammars.set(t3.scopeName, t3), e && this._injectionGrammars.set(t3.scopeName, e);
  }
  /**
   * Lookup a raw grammar.
   */
  lookup(t3) {
    return this._rawGrammars.get(t3);
  }
  /**
   * Returns the injections for the given grammar
   */
  injections(t3) {
    return this._injectionGrammars.get(t3);
  }
  /**
   * Get the default theme settings
   */
  getDefaults() {
    return this._theme.getDefaults();
  }
  /**
   * Match a scope in the theme.
   */
  themeMatch(t3) {
    return this._theme.match(t3);
  }
  /**
   * Lookup a grammar.
   */
  grammarForScopeName(t3, e, n4, r4, o2) {
    if (!this._grammars.has(t3)) {
      let s3 = this._rawGrammars.get(t3);
      if (!s3)
        return null;
      this._grammars.set(t3, za(
        t3,
        s3,
        e,
        n4,
        r4,
        o2,
        this,
        this._onigLib
      ));
    }
    return this._grammars.get(t3);
  }
};
var Ka = class {
  _options;
  _syncRegistry;
  _ensureGrammarCache;
  constructor(e) {
    this._options = e, this._syncRegistry = new Xa(
      it.createFromRawTheme(e.theme, e.colorMap),
      e.onigLib
    ), this._ensureGrammarCache = /* @__PURE__ */ new Map();
  }
  dispose() {
    this._syncRegistry.dispose();
  }
  /**
   * Change the theme. Once called, no previous `ruleStack` should be used anymore.
   */
  setTheme(e, n4) {
    this._syncRegistry.setTheme(it.createFromRawTheme(e, n4));
  }
  /**
   * Returns a lookup array for color ids.
   */
  getColorMap() {
    return this._syncRegistry.getColorMap();
  }
  /**
   * Load the grammar for `scopeName` and all referenced included grammars asynchronously.
   * Please do not use language id 0.
   */
  loadGrammarWithEmbeddedLanguages(e, n4, r4) {
    return this.loadGrammarWithConfiguration(e, n4, { embeddedLanguages: r4 });
  }
  /**
   * Load the grammar for `scopeName` and all referenced included grammars asynchronously.
   * Please do not use language id 0.
   */
  loadGrammarWithConfiguration(e, n4, r4) {
    return this._loadGrammar(
      e,
      n4,
      r4.embeddedLanguages,
      r4.tokenTypes,
      new qa(
        r4.balancedBracketSelectors || [],
        r4.unbalancedBracketSelectors || []
      )
    );
  }
  /**
   * Load the grammar for `scopeName` and all referenced included grammars asynchronously.
   */
  loadGrammar(e) {
    return this._loadGrammar(e, 0, null, null, null);
  }
  _loadGrammar(e, n4, r4, o2, s3) {
    const a3 = new va(this._syncRegistry, e);
    for (; a3.Q.length > 0; )
      a3.Q.map((i5) => this._loadSingleGrammar(i5.scopeName)), a3.processQueue();
    return this._grammarForScopeName(
      e,
      n4,
      r4,
      o2,
      s3
    );
  }
  _loadSingleGrammar(e) {
    this._ensureGrammarCache.has(e) || (this._doLoadSingleGrammar(e), this._ensureGrammarCache.set(e, true));
  }
  _doLoadSingleGrammar(e) {
    const n4 = this._options.loadGrammar(e);
    if (n4) {
      const r4 = typeof this._options.getInjections == "function" ? this._options.getInjections(e) : void 0;
      this._syncRegistry.addGrammar(n4, r4);
    }
  }
  /**
   * Adds a rawGrammar.
   */
  addGrammar(e, n4 = [], r4 = 0, o2 = null) {
    return this._syncRegistry.addGrammar(e, n4), this._grammarForScopeName(e.scopeName, r4, o2);
  }
  /**
   * Get the grammar for `scopeName`. The grammar must first be created via `loadGrammar` or `addGrammar`.
   */
  _grammarForScopeName(e, n4 = 0, r4 = null, o2 = null, s3 = null) {
    return this._syncRegistry.grammarForScopeName(
      e,
      n4,
      r4,
      o2,
      s3
    );
  }
};
var Zt = Jt.NULL;
var Ke2 = class {
  /**
   * @param {SchemaType['property']} property
   *   Property.
   * @param {SchemaType['normal']} normal
   *   Normal.
   * @param {Space | undefined} [space]
   *   Space.
   * @returns
   *   Schema.
   */
  constructor(e, n4, r4) {
    this.normal = n4, this.property = e, r4 && (this.space = r4);
  }
};
Ke2.prototype.normal = {};
Ke2.prototype.property = {};
Ke2.prototype.space = void 0;
function uo(t3, e) {
  const n4 = {}, r4 = {};
  for (const o2 of t3)
    Object.assign(n4, o2.property), Object.assign(r4, o2.normal);
  return new Ke2(n4, r4, e);
}
function Qt(t3) {
  return t3.toLowerCase();
}
var q3 = class {
  /**
   * @param {string} property
   *   Property.
   * @param {string} attribute
   *   Attribute.
   * @returns
   *   Info.
   */
  constructor(e, n4) {
    this.attribute = n4, this.property = e;
  }
};
q3.prototype.attribute = "";
q3.prototype.booleanish = false;
q3.prototype.boolean = false;
q3.prototype.commaOrSpaceSeparated = false;
q3.prototype.commaSeparated = false;
q3.prototype.defined = false;
q3.prototype.mustUseProperty = false;
q3.prototype.number = false;
q3.prototype.overloadedBoolean = false;
q3.prototype.property = "";
q3.prototype.spaceSeparated = false;
q3.prototype.space = void 0;
var Ya = 0;
var E2 = be3();
var T3 = be3();
var en = be3();
var w4 = be3();
var N3 = be3();
var Ee3 = be3();
var X5 = be3();
function be3() {
  return 2 ** ++Ya;
}
var tn = Object.freeze(Object.defineProperty({
  __proto__: null,
  boolean: E2,
  booleanish: T3,
  commaOrSpaceSeparated: X5,
  commaSeparated: Ee3,
  number: w4,
  overloadedBoolean: en,
  spaceSeparated: N3
}, Symbol.toStringTag, { value: "Module" }));
var Lt = (
  /** @type {ReadonlyArray<keyof typeof types>} */
  Object.keys(tn)
);
var yn = class extends q3 {
  /**
   * @constructor
   * @param {string} property
   *   Property.
   * @param {string} attribute
   *   Attribute.
   * @param {number | null | undefined} [mask]
   *   Mask.
   * @param {Space | undefined} [space]
   *   Space.
   * @returns
   *   Info.
   */
  constructor(e, n4, r4, o2) {
    let s3 = -1;
    if (super(e, n4), Yn(this, "space", o2), typeof r4 == "number")
      for (; ++s3 < Lt.length; ) {
        const a3 = Lt[s3];
        Yn(this, Lt[s3], (r4 & tn[a3]) === tn[a3]);
      }
  }
};
yn.prototype.defined = true;
function Yn(t3, e, n4) {
  n4 && (t3[e] = n4);
}
function Ne3(t3) {
  const e = {}, n4 = {};
  for (const [r4, o2] of Object.entries(t3.properties)) {
    const s3 = new yn(
      r4,
      t3.transform(t3.attributes || {}, r4),
      o2,
      t3.space
    );
    t3.mustUseProperty && t3.mustUseProperty.includes(r4) && (s3.mustUseProperty = true), e[r4] = s3, n4[Qt(r4)] = r4, n4[Qt(s3.attribute)] = r4;
  }
  return new Ke2(e, n4, t3.space);
}
var co = Ne3({
  properties: {
    ariaActiveDescendant: null,
    ariaAtomic: T3,
    ariaAutoComplete: null,
    ariaBusy: T3,
    ariaChecked: T3,
    ariaColCount: w4,
    ariaColIndex: w4,
    ariaColSpan: w4,
    ariaControls: N3,
    ariaCurrent: null,
    ariaDescribedBy: N3,
    ariaDetails: null,
    ariaDisabled: T3,
    ariaDropEffect: N3,
    ariaErrorMessage: null,
    ariaExpanded: T3,
    ariaFlowTo: N3,
    ariaGrabbed: T3,
    ariaHasPopup: null,
    ariaHidden: T3,
    ariaInvalid: null,
    ariaKeyShortcuts: null,
    ariaLabel: null,
    ariaLabelledBy: N3,
    ariaLevel: w4,
    ariaLive: null,
    ariaModal: T3,
    ariaMultiLine: T3,
    ariaMultiSelectable: T3,
    ariaOrientation: null,
    ariaOwns: N3,
    ariaPlaceholder: null,
    ariaPosInSet: w4,
    ariaPressed: T3,
    ariaReadOnly: T3,
    ariaRelevant: null,
    ariaRequired: T3,
    ariaRoleDescription: N3,
    ariaRowCount: w4,
    ariaRowIndex: w4,
    ariaRowSpan: w4,
    ariaSelected: T3,
    ariaSetSize: w4,
    ariaSort: null,
    ariaValueMax: w4,
    ariaValueMin: w4,
    ariaValueNow: w4,
    ariaValueText: null,
    role: null
  },
  transform(t3, e) {
    return e === "role" ? e : "aria-" + e.slice(4).toLowerCase();
  }
});
function ho(t3, e) {
  return e in t3 ? t3[e] : e;
}
function po(t3, e) {
  return ho(t3, e.toLowerCase());
}
var Ja = Ne3({
  attributes: {
    acceptcharset: "accept-charset",
    classname: "class",
    htmlfor: "for",
    httpequiv: "http-equiv"
  },
  mustUseProperty: ["checked", "multiple", "muted", "selected"],
  properties: {
    // Standard Properties.
    abbr: null,
    accept: Ee3,
    acceptCharset: N3,
    accessKey: N3,
    action: null,
    allow: null,
    allowFullScreen: E2,
    allowPaymentRequest: E2,
    allowUserMedia: E2,
    alt: null,
    as: null,
    async: E2,
    autoCapitalize: null,
    autoComplete: N3,
    autoFocus: E2,
    autoPlay: E2,
    blocking: N3,
    capture: null,
    charSet: null,
    checked: E2,
    cite: null,
    className: N3,
    cols: w4,
    colSpan: null,
    content: null,
    contentEditable: T3,
    controls: E2,
    controlsList: N3,
    coords: w4 | Ee3,
    crossOrigin: null,
    data: null,
    dateTime: null,
    decoding: null,
    default: E2,
    defer: E2,
    dir: null,
    dirName: null,
    disabled: E2,
    download: en,
    draggable: T3,
    encType: null,
    enterKeyHint: null,
    fetchPriority: null,
    form: null,
    formAction: null,
    formEncType: null,
    formMethod: null,
    formNoValidate: E2,
    formTarget: null,
    headers: N3,
    height: w4,
    hidden: en,
    high: w4,
    href: null,
    hrefLang: null,
    htmlFor: N3,
    httpEquiv: N3,
    id: null,
    imageSizes: null,
    imageSrcSet: null,
    inert: E2,
    inputMode: null,
    integrity: null,
    is: null,
    isMap: E2,
    itemId: null,
    itemProp: N3,
    itemRef: N3,
    itemScope: E2,
    itemType: N3,
    kind: null,
    label: null,
    lang: null,
    language: null,
    list: null,
    loading: null,
    loop: E2,
    low: w4,
    manifest: null,
    max: null,
    maxLength: w4,
    media: null,
    method: null,
    min: null,
    minLength: w4,
    multiple: E2,
    muted: E2,
    name: null,
    nonce: null,
    noModule: E2,
    noValidate: E2,
    onAbort: null,
    onAfterPrint: null,
    onAuxClick: null,
    onBeforeMatch: null,
    onBeforePrint: null,
    onBeforeToggle: null,
    onBeforeUnload: null,
    onBlur: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onContextLost: null,
    onContextMenu: null,
    onContextRestored: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFormData: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLanguageChange: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadEnd: null,
    onLoadStart: null,
    onMessage: null,
    onMessageError: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRejectionHandled: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onScrollEnd: null,
    onSecurityPolicyViolation: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onSlotChange: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnhandledRejection: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onWheel: null,
    open: E2,
    optimum: w4,
    pattern: null,
    ping: N3,
    placeholder: null,
    playsInline: E2,
    popover: null,
    popoverTarget: null,
    popoverTargetAction: null,
    poster: null,
    preload: null,
    readOnly: E2,
    referrerPolicy: null,
    rel: N3,
    required: E2,
    reversed: E2,
    rows: w4,
    rowSpan: w4,
    sandbox: N3,
    scope: null,
    scoped: E2,
    seamless: E2,
    selected: E2,
    shadowRootClonable: E2,
    shadowRootDelegatesFocus: E2,
    shadowRootMode: null,
    shape: null,
    size: w4,
    sizes: null,
    slot: null,
    span: w4,
    spellCheck: T3,
    src: null,
    srcDoc: null,
    srcLang: null,
    srcSet: null,
    start: w4,
    step: null,
    style: null,
    tabIndex: w4,
    target: null,
    title: null,
    translate: null,
    type: null,
    typeMustMatch: E2,
    useMap: null,
    value: T3,
    width: w4,
    wrap: null,
    writingSuggestions: null,
    // Legacy.
    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis
    align: null,
    // Several. Use CSS `text-align` instead,
    aLink: null,
    // `<body>`. Use CSS `a:active {color}` instead
    archive: N3,
    // `<object>`. List of URIs to archives
    axis: null,
    // `<td>` and `<th>`. Use `scope` on `<th>`
    background: null,
    // `<body>`. Use CSS `background-image` instead
    bgColor: null,
    // `<body>` and table elements. Use CSS `background-color` instead
    border: w4,
    // `<table>`. Use CSS `border-width` instead,
    borderColor: null,
    // `<table>`. Use CSS `border-color` instead,
    bottomMargin: w4,
    // `<body>`
    cellPadding: null,
    // `<table>`
    cellSpacing: null,
    // `<table>`
    char: null,
    // Several table elements. When `align=char`, sets the character to align on
    charOff: null,
    // Several table elements. When `char`, offsets the alignment
    classId: null,
    // `<object>`
    clear: null,
    // `<br>`. Use CSS `clear` instead
    code: null,
    // `<object>`
    codeBase: null,
    // `<object>`
    codeType: null,
    // `<object>`
    color: null,
    // `<font>` and `<hr>`. Use CSS instead
    compact: E2,
    // Lists. Use CSS to reduce space between items instead
    declare: E2,
    // `<object>`
    event: null,
    // `<script>`
    face: null,
    // `<font>`. Use CSS instead
    frame: null,
    // `<table>`
    frameBorder: null,
    // `<iframe>`. Use CSS `border` instead
    hSpace: w4,
    // `<img>` and `<object>`
    leftMargin: w4,
    // `<body>`
    link: null,
    // `<body>`. Use CSS `a:link {color: *}` instead
    longDesc: null,
    // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`
    lowSrc: null,
    // `<img>`. Use a `<picture>`
    marginHeight: w4,
    // `<body>`
    marginWidth: w4,
    // `<body>`
    noResize: E2,
    // `<frame>`
    noHref: E2,
    // `<area>`. Use no href instead of an explicit `nohref`
    noShade: E2,
    // `<hr>`. Use background-color and height instead of borders
    noWrap: E2,
    // `<td>` and `<th>`
    object: null,
    // `<applet>`
    profile: null,
    // `<head>`
    prompt: null,
    // `<isindex>`
    rev: null,
    // `<link>`
    rightMargin: w4,
    // `<body>`
    rules: null,
    // `<table>`
    scheme: null,
    // `<meta>`
    scrolling: T3,
    // `<frame>`. Use overflow in the child context
    standby: null,
    // `<object>`
    summary: null,
    // `<table>`
    text: null,
    // `<body>`. Use CSS `color` instead
    topMargin: w4,
    // `<body>`
    valueType: null,
    // `<param>`
    version: null,
    // `<html>`. Use a doctype.
    vAlign: null,
    // Several. Use CSS `vertical-align` instead
    vLink: null,
    // `<body>`. Use CSS `a:visited {color}` instead
    vSpace: w4,
    // `<img>` and `<object>`
    // Non-standard Properties.
    allowTransparency: null,
    autoCorrect: null,
    autoSave: null,
    disablePictureInPicture: E2,
    disableRemotePlayback: E2,
    prefix: null,
    property: null,
    results: w4,
    security: null,
    unselectable: null
  },
  space: "html",
  transform: po
});
var Za = Ne3({
  attributes: {
    accentHeight: "accent-height",
    alignmentBaseline: "alignment-baseline",
    arabicForm: "arabic-form",
    baselineShift: "baseline-shift",
    capHeight: "cap-height",
    className: "class",
    clipPath: "clip-path",
    clipRule: "clip-rule",
    colorInterpolation: "color-interpolation",
    colorInterpolationFilters: "color-interpolation-filters",
    colorProfile: "color-profile",
    colorRendering: "color-rendering",
    crossOrigin: "crossorigin",
    dataType: "datatype",
    dominantBaseline: "dominant-baseline",
    enableBackground: "enable-background",
    fillOpacity: "fill-opacity",
    fillRule: "fill-rule",
    floodColor: "flood-color",
    floodOpacity: "flood-opacity",
    fontFamily: "font-family",
    fontSize: "font-size",
    fontSizeAdjust: "font-size-adjust",
    fontStretch: "font-stretch",
    fontStyle: "font-style",
    fontVariant: "font-variant",
    fontWeight: "font-weight",
    glyphName: "glyph-name",
    glyphOrientationHorizontal: "glyph-orientation-horizontal",
    glyphOrientationVertical: "glyph-orientation-vertical",
    hrefLang: "hreflang",
    horizAdvX: "horiz-adv-x",
    horizOriginX: "horiz-origin-x",
    horizOriginY: "horiz-origin-y",
    imageRendering: "image-rendering",
    letterSpacing: "letter-spacing",
    lightingColor: "lighting-color",
    markerEnd: "marker-end",
    markerMid: "marker-mid",
    markerStart: "marker-start",
    navDown: "nav-down",
    navDownLeft: "nav-down-left",
    navDownRight: "nav-down-right",
    navLeft: "nav-left",
    navNext: "nav-next",
    navPrev: "nav-prev",
    navRight: "nav-right",
    navUp: "nav-up",
    navUpLeft: "nav-up-left",
    navUpRight: "nav-up-right",
    onAbort: "onabort",
    onActivate: "onactivate",
    onAfterPrint: "onafterprint",
    onBeforePrint: "onbeforeprint",
    onBegin: "onbegin",
    onCancel: "oncancel",
    onCanPlay: "oncanplay",
    onCanPlayThrough: "oncanplaythrough",
    onChange: "onchange",
    onClick: "onclick",
    onClose: "onclose",
    onCopy: "oncopy",
    onCueChange: "oncuechange",
    onCut: "oncut",
    onDblClick: "ondblclick",
    onDrag: "ondrag",
    onDragEnd: "ondragend",
    onDragEnter: "ondragenter",
    onDragExit: "ondragexit",
    onDragLeave: "ondragleave",
    onDragOver: "ondragover",
    onDragStart: "ondragstart",
    onDrop: "ondrop",
    onDurationChange: "ondurationchange",
    onEmptied: "onemptied",
    onEnd: "onend",
    onEnded: "onended",
    onError: "onerror",
    onFocus: "onfocus",
    onFocusIn: "onfocusin",
    onFocusOut: "onfocusout",
    onHashChange: "onhashchange",
    onInput: "oninput",
    onInvalid: "oninvalid",
    onKeyDown: "onkeydown",
    onKeyPress: "onkeypress",
    onKeyUp: "onkeyup",
    onLoad: "onload",
    onLoadedData: "onloadeddata",
    onLoadedMetadata: "onloadedmetadata",
    onLoadStart: "onloadstart",
    onMessage: "onmessage",
    onMouseDown: "onmousedown",
    onMouseEnter: "onmouseenter",
    onMouseLeave: "onmouseleave",
    onMouseMove: "onmousemove",
    onMouseOut: "onmouseout",
    onMouseOver: "onmouseover",
    onMouseUp: "onmouseup",
    onMouseWheel: "onmousewheel",
    onOffline: "onoffline",
    onOnline: "ononline",
    onPageHide: "onpagehide",
    onPageShow: "onpageshow",
    onPaste: "onpaste",
    onPause: "onpause",
    onPlay: "onplay",
    onPlaying: "onplaying",
    onPopState: "onpopstate",
    onProgress: "onprogress",
    onRateChange: "onratechange",
    onRepeat: "onrepeat",
    onReset: "onreset",
    onResize: "onresize",
    onScroll: "onscroll",
    onSeeked: "onseeked",
    onSeeking: "onseeking",
    onSelect: "onselect",
    onShow: "onshow",
    onStalled: "onstalled",
    onStorage: "onstorage",
    onSubmit: "onsubmit",
    onSuspend: "onsuspend",
    onTimeUpdate: "ontimeupdate",
    onToggle: "ontoggle",
    onUnload: "onunload",
    onVolumeChange: "onvolumechange",
    onWaiting: "onwaiting",
    onZoom: "onzoom",
    overlinePosition: "overline-position",
    overlineThickness: "overline-thickness",
    paintOrder: "paint-order",
    panose1: "panose-1",
    pointerEvents: "pointer-events",
    referrerPolicy: "referrerpolicy",
    renderingIntent: "rendering-intent",
    shapeRendering: "shape-rendering",
    stopColor: "stop-color",
    stopOpacity: "stop-opacity",
    strikethroughPosition: "strikethrough-position",
    strikethroughThickness: "strikethrough-thickness",
    strokeDashArray: "stroke-dasharray",
    strokeDashOffset: "stroke-dashoffset",
    strokeLineCap: "stroke-linecap",
    strokeLineJoin: "stroke-linejoin",
    strokeMiterLimit: "stroke-miterlimit",
    strokeOpacity: "stroke-opacity",
    strokeWidth: "stroke-width",
    tabIndex: "tabindex",
    textAnchor: "text-anchor",
    textDecoration: "text-decoration",
    textRendering: "text-rendering",
    transformOrigin: "transform-origin",
    typeOf: "typeof",
    underlinePosition: "underline-position",
    underlineThickness: "underline-thickness",
    unicodeBidi: "unicode-bidi",
    unicodeRange: "unicode-range",
    unitsPerEm: "units-per-em",
    vAlphabetic: "v-alphabetic",
    vHanging: "v-hanging",
    vIdeographic: "v-ideographic",
    vMathematical: "v-mathematical",
    vectorEffect: "vector-effect",
    vertAdvY: "vert-adv-y",
    vertOriginX: "vert-origin-x",
    vertOriginY: "vert-origin-y",
    wordSpacing: "word-spacing",
    writingMode: "writing-mode",
    xHeight: "x-height",
    // These were camelcased in Tiny. Now lowercased in SVG 2
    playbackOrder: "playbackorder",
    timelineBegin: "timelinebegin"
  },
  properties: {
    about: X5,
    accentHeight: w4,
    accumulate: null,
    additive: null,
    alignmentBaseline: null,
    alphabetic: w4,
    amplitude: w4,
    arabicForm: null,
    ascent: w4,
    attributeName: null,
    attributeType: null,
    azimuth: w4,
    bandwidth: null,
    baselineShift: null,
    baseFrequency: null,
    baseProfile: null,
    bbox: null,
    begin: null,
    bias: w4,
    by: null,
    calcMode: null,
    capHeight: w4,
    className: N3,
    clip: null,
    clipPath: null,
    clipPathUnits: null,
    clipRule: null,
    color: null,
    colorInterpolation: null,
    colorInterpolationFilters: null,
    colorProfile: null,
    colorRendering: null,
    content: null,
    contentScriptType: null,
    contentStyleType: null,
    crossOrigin: null,
    cursor: null,
    cx: null,
    cy: null,
    d: null,
    dataType: null,
    defaultAction: null,
    descent: w4,
    diffuseConstant: w4,
    direction: null,
    display: null,
    dur: null,
    divisor: w4,
    dominantBaseline: null,
    download: E2,
    dx: null,
    dy: null,
    edgeMode: null,
    editable: null,
    elevation: w4,
    enableBackground: null,
    end: null,
    event: null,
    exponent: w4,
    externalResourcesRequired: null,
    fill: null,
    fillOpacity: w4,
    fillRule: null,
    filter: null,
    filterRes: null,
    filterUnits: null,
    floodColor: null,
    floodOpacity: null,
    focusable: null,
    focusHighlight: null,
    fontFamily: null,
    fontSize: null,
    fontSizeAdjust: null,
    fontStretch: null,
    fontStyle: null,
    fontVariant: null,
    fontWeight: null,
    format: null,
    fr: null,
    from: null,
    fx: null,
    fy: null,
    g1: Ee3,
    g2: Ee3,
    glyphName: Ee3,
    glyphOrientationHorizontal: null,
    glyphOrientationVertical: null,
    glyphRef: null,
    gradientTransform: null,
    gradientUnits: null,
    handler: null,
    hanging: w4,
    hatchContentUnits: null,
    hatchUnits: null,
    height: null,
    href: null,
    hrefLang: null,
    horizAdvX: w4,
    horizOriginX: w4,
    horizOriginY: w4,
    id: null,
    ideographic: w4,
    imageRendering: null,
    initialVisibility: null,
    in: null,
    in2: null,
    intercept: w4,
    k: w4,
    k1: w4,
    k2: w4,
    k3: w4,
    k4: w4,
    kernelMatrix: X5,
    kernelUnitLength: null,
    keyPoints: null,
    // SEMI_COLON_SEPARATED
    keySplines: null,
    // SEMI_COLON_SEPARATED
    keyTimes: null,
    // SEMI_COLON_SEPARATED
    kerning: null,
    lang: null,
    lengthAdjust: null,
    letterSpacing: null,
    lightingColor: null,
    limitingConeAngle: w4,
    local: null,
    markerEnd: null,
    markerMid: null,
    markerStart: null,
    markerHeight: null,
    markerUnits: null,
    markerWidth: null,
    mask: null,
    maskContentUnits: null,
    maskUnits: null,
    mathematical: null,
    max: null,
    media: null,
    mediaCharacterEncoding: null,
    mediaContentEncodings: null,
    mediaSize: w4,
    mediaTime: null,
    method: null,
    min: null,
    mode: null,
    name: null,
    navDown: null,
    navDownLeft: null,
    navDownRight: null,
    navLeft: null,
    navNext: null,
    navPrev: null,
    navRight: null,
    navUp: null,
    navUpLeft: null,
    navUpRight: null,
    numOctaves: null,
    observer: null,
    offset: null,
    onAbort: null,
    onActivate: null,
    onAfterPrint: null,
    onBeforePrint: null,
    onBegin: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnd: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFocusIn: null,
    onFocusOut: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadStart: null,
    onMessage: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onMouseWheel: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRepeat: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onShow: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onZoom: null,
    opacity: null,
    operator: null,
    order: null,
    orient: null,
    orientation: null,
    origin: null,
    overflow: null,
    overlay: null,
    overlinePosition: w4,
    overlineThickness: w4,
    paintOrder: null,
    panose1: null,
    path: null,
    pathLength: w4,
    patternContentUnits: null,
    patternTransform: null,
    patternUnits: null,
    phase: null,
    ping: N3,
    pitch: null,
    playbackOrder: null,
    pointerEvents: null,
    points: null,
    pointsAtX: w4,
    pointsAtY: w4,
    pointsAtZ: w4,
    preserveAlpha: null,
    preserveAspectRatio: null,
    primitiveUnits: null,
    propagate: null,
    property: X5,
    r: null,
    radius: null,
    referrerPolicy: null,
    refX: null,
    refY: null,
    rel: X5,
    rev: X5,
    renderingIntent: null,
    repeatCount: null,
    repeatDur: null,
    requiredExtensions: X5,
    requiredFeatures: X5,
    requiredFonts: X5,
    requiredFormats: X5,
    resource: null,
    restart: null,
    result: null,
    rotate: null,
    rx: null,
    ry: null,
    scale: null,
    seed: null,
    shapeRendering: null,
    side: null,
    slope: null,
    snapshotTime: null,
    specularConstant: w4,
    specularExponent: w4,
    spreadMethod: null,
    spacing: null,
    startOffset: null,
    stdDeviation: null,
    stemh: null,
    stemv: null,
    stitchTiles: null,
    stopColor: null,
    stopOpacity: null,
    strikethroughPosition: w4,
    strikethroughThickness: w4,
    string: null,
    stroke: null,
    strokeDashArray: X5,
    strokeDashOffset: null,
    strokeLineCap: null,
    strokeLineJoin: null,
    strokeMiterLimit: w4,
    strokeOpacity: w4,
    strokeWidth: null,
    style: null,
    surfaceScale: w4,
    syncBehavior: null,
    syncBehaviorDefault: null,
    syncMaster: null,
    syncTolerance: null,
    syncToleranceDefault: null,
    systemLanguage: X5,
    tabIndex: w4,
    tableValues: null,
    target: null,
    targetX: w4,
    targetY: w4,
    textAnchor: null,
    textDecoration: null,
    textRendering: null,
    textLength: null,
    timelineBegin: null,
    title: null,
    transformBehavior: null,
    type: null,
    typeOf: X5,
    to: null,
    transform: null,
    transformOrigin: null,
    u1: null,
    u2: null,
    underlinePosition: w4,
    underlineThickness: w4,
    unicode: null,
    unicodeBidi: null,
    unicodeRange: null,
    unitsPerEm: w4,
    values: null,
    vAlphabetic: w4,
    vMathematical: w4,
    vectorEffect: null,
    vHanging: w4,
    vIdeographic: w4,
    version: null,
    vertAdvY: w4,
    vertOriginX: w4,
    vertOriginY: w4,
    viewBox: null,
    viewTarget: null,
    visibility: null,
    width: null,
    widths: null,
    wordSpacing: null,
    writingMode: null,
    x: null,
    x1: null,
    x2: null,
    xChannelSelector: null,
    xHeight: w4,
    y: null,
    y1: null,
    y2: null,
    yChannelSelector: null,
    z: null,
    zoomAndPan: null
  },
  space: "svg",
  transform: ho
});
var fo = Ne3({
  properties: {
    xLinkActuate: null,
    xLinkArcRole: null,
    xLinkHref: null,
    xLinkRole: null,
    xLinkShow: null,
    xLinkTitle: null,
    xLinkType: null
  },
  space: "xlink",
  transform(t3, e) {
    return "xlink:" + e.slice(5).toLowerCase();
  }
});
var go = Ne3({
  attributes: { xmlnsxlink: "xmlns:xlink" },
  properties: { xmlnsXLink: null, xmlns: null },
  space: "xmlns",
  transform: po
});
var mo2 = Ne3({
  properties: { xmlBase: null, xmlLang: null, xmlSpace: null },
  space: "xml",
  transform(t3, e) {
    return "xml:" + e.slice(3).toLowerCase();
  }
});
var Qa = /[A-Z]/g;
var Jn = /-[a-z]/g;
var ei = /^data[-\w.:]+$/i;
function ti(t3, e) {
  const n4 = Qt(e);
  let r4 = e, o2 = q3;
  if (n4 in t3.normal)
    return t3.property[t3.normal[n4]];
  if (n4.length > 4 && n4.slice(0, 4) === "data" && ei.test(e)) {
    if (e.charAt(4) === "-") {
      const s3 = e.slice(5).replace(Jn, ri);
      r4 = "data" + s3.charAt(0).toUpperCase() + s3.slice(1);
    } else {
      const s3 = e.slice(4);
      if (!Jn.test(s3)) {
        let a3 = s3.replace(Qa, ni);
        a3.charAt(0) !== "-" && (a3 = "-" + a3), e = "data" + a3;
      }
    }
    o2 = yn;
  }
  return new o2(r4, e);
}
function ni(t3) {
  return "-" + t3.toLowerCase();
}
function ri(t3) {
  return t3.charAt(1).toUpperCase();
}
var oi = uo([co, Ja, fo, go, mo2], "html");
var yo = uo([co, Za, fo, go, mo2], "svg");
var si = /["&'<>`]/g;
var ai = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
var ii = (
  // eslint-disable-next-line no-control-regex, unicorn/no-hex-escape
  /[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g
);
var li = /[|\\{}()[\]^$+*?.]/g;
var Zn = /* @__PURE__ */ new WeakMap();
function ui(t3, e) {
  if (t3 = t3.replace(
    e.subset ? ci(e.subset) : si,
    r4
  ), e.subset || e.escapeOnly)
    return t3;
  return t3.replace(ai, n4).replace(ii, r4);
  function n4(o2, s3, a3) {
    return e.format(
      (o2.charCodeAt(0) - 55296) * 1024 + o2.charCodeAt(1) - 56320 + 65536,
      a3.charCodeAt(s3 + 2),
      e
    );
  }
  function r4(o2, s3, a3) {
    return e.format(
      o2.charCodeAt(0),
      a3.charCodeAt(s3 + 1),
      e
    );
  }
}
function ci(t3) {
  let e = Zn.get(t3);
  return e || (e = hi(t3), Zn.set(t3, e)), e;
}
function hi(t3) {
  const e = [];
  let n4 = -1;
  for (; ++n4 < t3.length; )
    e.push(t3[n4].replace(li, "\\$&"));
  return new RegExp("(?:" + e.join("|") + ")", "g");
}
var pi = /[\dA-Fa-f]/;
function fi(t3, e, n4) {
  const r4 = "&#x" + t3.toString(16).toUpperCase();
  return n4 && e && !pi.test(String.fromCharCode(e)) ? r4 : r4 + ";";
}
var di = /\d/;
function gi(t3, e, n4) {
  const r4 = "&#" + String(t3);
  return n4 && e && !di.test(String.fromCharCode(e)) ? r4 : r4 + ";";
}
var mi = [
  "AElig",
  "AMP",
  "Aacute",
  "Acirc",
  "Agrave",
  "Aring",
  "Atilde",
  "Auml",
  "COPY",
  "Ccedil",
  "ETH",
  "Eacute",
  "Ecirc",
  "Egrave",
  "Euml",
  "GT",
  "Iacute",
  "Icirc",
  "Igrave",
  "Iuml",
  "LT",
  "Ntilde",
  "Oacute",
  "Ocirc",
  "Ograve",
  "Oslash",
  "Otilde",
  "Ouml",
  "QUOT",
  "REG",
  "THORN",
  "Uacute",
  "Ucirc",
  "Ugrave",
  "Uuml",
  "Yacute",
  "aacute",
  "acirc",
  "acute",
  "aelig",
  "agrave",
  "amp",
  "aring",
  "atilde",
  "auml",
  "brvbar",
  "ccedil",
  "cedil",
  "cent",
  "copy",
  "curren",
  "deg",
  "divide",
  "eacute",
  "ecirc",
  "egrave",
  "eth",
  "euml",
  "frac12",
  "frac14",
  "frac34",
  "gt",
  "iacute",
  "icirc",
  "iexcl",
  "igrave",
  "iquest",
  "iuml",
  "laquo",
  "lt",
  "macr",
  "micro",
  "middot",
  "nbsp",
  "not",
  "ntilde",
  "oacute",
  "ocirc",
  "ograve",
  "ordf",
  "ordm",
  "oslash",
  "otilde",
  "ouml",
  "para",
  "plusmn",
  "pound",
  "quot",
  "raquo",
  "reg",
  "sect",
  "shy",
  "sup1",
  "sup2",
  "sup3",
  "szlig",
  "thorn",
  "times",
  "uacute",
  "ucirc",
  "ugrave",
  "uml",
  "uuml",
  "yacute",
  "yen",
  "yuml"
];
var $t = {
  nbsp: "",
  iexcl: "",
  cent: "",
  pound: "",
  curren: "",
  yen: "",
  brvbar: "",
  sect: "",
  uml: "",
  copy: "",
  ordf: "",
  laquo: "",
  not: "",
  shy: "",
  reg: "",
  macr: "",
  deg: "",
  plusmn: "",
  sup2: "",
  sup3: "",
  acute: "",
  micro: "",
  para: "",
  middot: "",
  cedil: "",
  sup1: "",
  ordm: "",
  raquo: "",
  frac14: "",
  frac12: "",
  frac34: "",
  iquest: "",
  Agrave: "",
  Aacute: "",
  Acirc: "",
  Atilde: "",
  Auml: "",
  Aring: "",
  AElig: "",
  Ccedil: "",
  Egrave: "",
  Eacute: "",
  Ecirc: "",
  Euml: "",
  Igrave: "",
  Iacute: "",
  Icirc: "",
  Iuml: "",
  ETH: "",
  Ntilde: "",
  Ograve: "",
  Oacute: "",
  Ocirc: "",
  Otilde: "",
  Ouml: "",
  times: "",
  Oslash: "",
  Ugrave: "",
  Uacute: "",
  Ucirc: "",
  Uuml: "",
  Yacute: "",
  THORN: "",
  szlig: "",
  agrave: "",
  aacute: "",
  acirc: "",
  atilde: "",
  auml: "",
  aring: "",
  aelig: "",
  ccedil: "",
  egrave: "",
  eacute: "",
  ecirc: "",
  euml: "",
  igrave: "",
  iacute: "",
  icirc: "",
  iuml: "",
  eth: "",
  ntilde: "",
  ograve: "",
  oacute: "",
  ocirc: "",
  otilde: "",
  ouml: "",
  divide: "",
  oslash: "",
  ugrave: "",
  uacute: "",
  ucirc: "",
  uuml: "",
  yacute: "",
  thorn: "",
  yuml: "",
  fnof: "",
  Alpha: "",
  Beta: "",
  Gamma: "",
  Delta: "",
  Epsilon: "",
  Zeta: "",
  Eta: "",
  Theta: "",
  Iota: "",
  Kappa: "",
  Lambda: "",
  Mu: "",
  Nu: "",
  Xi: "",
  Omicron: "",
  Pi: "",
  Rho: "",
  Sigma: "",
  Tau: "",
  Upsilon: "",
  Phi: "",
  Chi: "",
  Psi: "",
  Omega: "",
  alpha: "",
  beta: "",
  gamma: "",
  delta: "",
  epsilon: "",
  zeta: "",
  eta: "",
  theta: "",
  iota: "",
  kappa: "",
  lambda: "",
  mu: "",
  nu: "",
  xi: "",
  omicron: "",
  pi: "",
  rho: "",
  sigmaf: "",
  sigma: "",
  tau: "",
  upsilon: "",
  phi: "",
  chi: "",
  psi: "",
  omega: "",
  thetasym: "",
  upsih: "",
  piv: "",
  bull: "",
  hellip: "",
  prime: "",
  Prime: "",
  oline: "",
  frasl: "",
  weierp: "",
  image: "",
  real: "",
  trade: "",
  alefsym: "",
  larr: "",
  uarr: "",
  rarr: "",
  darr: "",
  harr: "",
  crarr: "",
  lArr: "",
  uArr: "",
  rArr: "",
  dArr: "",
  hArr: "",
  forall: "",
  part: "",
  exist: "",
  empty: "",
  nabla: "",
  isin: "",
  notin: "",
  ni: "",
  prod: "",
  sum: "",
  minus: "",
  lowast: "",
  radic: "",
  prop: "",
  infin: "",
  ang: "",
  and: "",
  or: "",
  cap: "",
  cup: "",
  int: "",
  there4: "",
  sim: "",
  cong: "",
  asymp: "",
  ne: "",
  equiv: "",
  le: "",
  ge: "",
  sub: "",
  sup: "",
  nsub: "",
  sube: "",
  supe: "",
  oplus: "",
  otimes: "",
  perp: "",
  sdot: "",
  lceil: "",
  rceil: "",
  lfloor: "",
  rfloor: "",
  lang: "",
  rang: "",
  loz: "",
  spades: "",
  clubs: "",
  hearts: "",
  diams: "",
  quot: '"',
  amp: "&",
  lt: "<",
  gt: ">",
  OElig: "",
  oelig: "",
  Scaron: "",
  scaron: "",
  Yuml: "",
  circ: "",
  tilde: "",
  ensp: "",
  emsp: "",
  thinsp: "",
  zwnj: "",
  zwj: "",
  lrm: "",
  rlm: "",
  ndash: "",
  mdash: "",
  lsquo: "",
  rsquo: "",
  sbquo: "",
  ldquo: "",
  rdquo: "",
  bdquo: "",
  dagger: "",
  Dagger: "",
  permil: "",
  lsaquo: "",
  rsaquo: "",
  euro: ""
};
var yi = [
  "cent",
  "copy",
  "divide",
  "gt",
  "lt",
  "not",
  "para",
  "times"
];
var bo = {}.hasOwnProperty;
var nn = {};
var Ze2;
for (Ze2 in $t)
  bo.call($t, Ze2) && (nn[$t[Ze2]] = Ze2);
var bi = /[^\dA-Za-z]/;
function wi(t3, e, n4, r4) {
  const o2 = String.fromCharCode(t3);
  if (bo.call(nn, o2)) {
    const s3 = nn[o2], a3 = "&" + s3;
    return n4 && mi.includes(s3) && !yi.includes(s3) && (!r4 || e && e !== 61 && bi.test(String.fromCharCode(e))) ? a3 : a3 + ";";
  }
  return "";
}
function Ci(t3, e, n4) {
  let r4 = fi(t3, e, n4.omitOptionalSemicolons), o2;
  if ((n4.useNamedReferences || n4.useShortestReferences) && (o2 = wi(
    t3,
    e,
    n4.omitOptionalSemicolons,
    n4.attribute
  )), (n4.useShortestReferences || !o2) && n4.useShortestReferences) {
    const s3 = gi(t3, e, n4.omitOptionalSemicolons);
    s3.length < r4.length && (r4 = s3);
  }
  return o2 && (!n4.useShortestReferences || o2.length < r4.length) ? o2 : r4;
}
function Ae(t3, e) {
  return ui(t3, Object.assign({ format: Ci }, e));
}
var _i = /^>|^->|<!--|-->|--!>|<!-$/g;
var Si = [">"];
var ki = ["<", ">"];
function vi(t3, e, n4, r4) {
  return r4.settings.bogusComments ? "<?" + Ae(
    t3.value,
    Object.assign({}, r4.settings.characterReferences, {
      subset: Si
    })
  ) + ">" : "<!--" + t3.value.replace(_i, o2) + "-->";
  function o2(s3) {
    return Ae(
      s3,
      Object.assign({}, r4.settings.characterReferences, {
        subset: ki
      })
    );
  }
}
function xi(t3, e, n4, r4) {
  return "<!" + (r4.settings.upperDoctype ? "DOCTYPE" : "doctype") + (r4.settings.tightDoctype ? "" : " ") + "html>";
}
var O2 = Co(1);
var wo = Co(-1);
var Ei = [];
function Co(t3) {
  return e;
  function e(n4, r4, o2) {
    const s3 = n4 ? n4.children : Ei;
    let a3 = (r4 || 0) + t3, i5 = s3[a3];
    if (!o2)
      for (; i5 && Ct(i5); )
        a3 += t3, i5 = s3[a3];
    return i5;
  }
}
var Ai = {}.hasOwnProperty;
function _o(t3) {
  return e;
  function e(n4, r4, o2) {
    return Ai.call(t3, n4.tagName) && t3[n4.tagName](n4, r4, o2);
  }
}
var bn = _o({
  body: Ii,
  caption: Tt2,
  colgroup: Tt2,
  dd: $i,
  dt: Li,
  head: Tt2,
  html: Ri,
  li: Pi,
  optgroup: Ti,
  option: Mi,
  p: Ni,
  rp: Qn,
  rt: Qn,
  tbody: Di,
  td: er,
  tfoot: Gi,
  th: er,
  thead: Oi,
  tr: Fi
});
function Tt2(t3, e, n4) {
  const r4 = O2(n4, e, true);
  return !r4 || r4.type !== "comment" && !(r4.type === "text" && Ct(r4.value.charAt(0)));
}
function Ri(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type !== "comment";
}
function Ii(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type !== "comment";
}
function Ni(t3, e, n4) {
  const r4 = O2(n4, e);
  return r4 ? r4.type === "element" && (r4.tagName === "address" || r4.tagName === "article" || r4.tagName === "aside" || r4.tagName === "blockquote" || r4.tagName === "details" || r4.tagName === "div" || r4.tagName === "dl" || r4.tagName === "fieldset" || r4.tagName === "figcaption" || r4.tagName === "figure" || r4.tagName === "footer" || r4.tagName === "form" || r4.tagName === "h1" || r4.tagName === "h2" || r4.tagName === "h3" || r4.tagName === "h4" || r4.tagName === "h5" || r4.tagName === "h6" || r4.tagName === "header" || r4.tagName === "hgroup" || r4.tagName === "hr" || r4.tagName === "main" || r4.tagName === "menu" || r4.tagName === "nav" || r4.tagName === "ol" || r4.tagName === "p" || r4.tagName === "pre" || r4.tagName === "section" || r4.tagName === "table" || r4.tagName === "ul") : !n4 || // Confusing parent.
  !(n4.type === "element" && (n4.tagName === "a" || n4.tagName === "audio" || n4.tagName === "del" || n4.tagName === "ins" || n4.tagName === "map" || n4.tagName === "noscript" || n4.tagName === "video"));
}
function Pi(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && r4.tagName === "li";
}
function Li(t3, e, n4) {
  const r4 = O2(n4, e);
  return !!(r4 && r4.type === "element" && (r4.tagName === "dt" || r4.tagName === "dd"));
}
function $i(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && (r4.tagName === "dt" || r4.tagName === "dd");
}
function Qn(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && (r4.tagName === "rp" || r4.tagName === "rt");
}
function Ti(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && r4.tagName === "optgroup";
}
function Mi(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && (r4.tagName === "option" || r4.tagName === "optgroup");
}
function Oi(t3, e, n4) {
  const r4 = O2(n4, e);
  return !!(r4 && r4.type === "element" && (r4.tagName === "tbody" || r4.tagName === "tfoot"));
}
function Di(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && (r4.tagName === "tbody" || r4.tagName === "tfoot");
}
function Gi(t3, e, n4) {
  return !O2(n4, e);
}
function Fi(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && r4.tagName === "tr";
}
function er(t3, e, n4) {
  const r4 = O2(n4, e);
  return !r4 || r4.type === "element" && (r4.tagName === "td" || r4.tagName === "th");
}
var Bi = _o({
  body: zi,
  colgroup: Hi,
  head: Ui,
  html: ji,
  tbody: Wi
});
function ji(t3) {
  const e = O2(t3, -1);
  return !e || e.type !== "comment";
}
function Ui(t3) {
  const e = /* @__PURE__ */ new Set();
  for (const r4 of t3.children)
    if (r4.type === "element" && (r4.tagName === "base" || r4.tagName === "title")) {
      if (e.has(r4.tagName)) return false;
      e.add(r4.tagName);
    }
  const n4 = t3.children[0];
  return !n4 || n4.type === "element";
}
function zi(t3) {
  const e = O2(t3, -1, true);
  return !e || e.type !== "comment" && !(e.type === "text" && Ct(e.value.charAt(0))) && !(e.type === "element" && (e.tagName === "meta" || e.tagName === "link" || e.tagName === "script" || e.tagName === "style" || e.tagName === "template"));
}
function Hi(t3, e, n4) {
  const r4 = wo(n4, e), o2 = O2(t3, -1, true);
  return n4 && r4 && r4.type === "element" && r4.tagName === "colgroup" && bn(r4, n4.children.indexOf(r4), n4) ? false : !!(o2 && o2.type === "element" && o2.tagName === "col");
}
function Wi(t3, e, n4) {
  const r4 = wo(n4, e), o2 = O2(t3, -1);
  return n4 && r4 && r4.type === "element" && (r4.tagName === "thead" || r4.tagName === "tbody") && bn(r4, n4.children.indexOf(r4), n4) ? false : !!(o2 && o2.type === "element" && o2.tagName === "tr");
}
var Qe2 = {
  // See: <https://html.spec.whatwg.org/#attribute-name-state>.
  name: [
    [`	
\f\r &/=>`.split(""), `	
\f\r "&'/=>\``.split("")],
    [`\0	
\f\r "&'/<=>`.split(""), `\0	
\f\r "&'/<=>\``.split("")]
  ],
  // See: <https://html.spec.whatwg.org/#attribute-value-(unquoted)-state>.
  unquoted: [
    [`	
\f\r &>`.split(""), `\0	
\f\r "&'<=>\``.split("")],
    [`\0	
\f\r "&'<=>\``.split(""), `\0	
\f\r "&'<=>\``.split("")]
  ],
  // See: <https://html.spec.whatwg.org/#attribute-value-(single-quoted)-state>.
  single: [
    ["&'".split(""), "\"&'`".split("")],
    ["\0&'".split(""), "\0\"&'`".split("")]
  ],
  // See: <https://html.spec.whatwg.org/#attribute-value-(double-quoted)-state>.
  double: [
    ['"&'.split(""), "\"&'`".split("")],
    ['\0"&'.split(""), "\0\"&'`".split("")]
  ]
};
function qi(t3, e, n4, r4) {
  const o2 = r4.schema, s3 = o2.space === "svg" ? false : r4.settings.omitOptionalTags;
  let a3 = o2.space === "svg" ? r4.settings.closeEmptyElements : r4.settings.voids.includes(t3.tagName.toLowerCase());
  const i5 = [];
  let l3;
  o2.space === "html" && t3.tagName === "svg" && (r4.schema = yo);
  const u5 = Vi(r4, t3.properties), c6 = r4.all(
    o2.space === "html" && t3.tagName === "template" ? t3.content : t3
  );
  return r4.schema = o2, c6 && (a3 = false), (u5 || !s3 || !Bi(t3, e, n4)) && (i5.push("<", t3.tagName, u5 ? " " + u5 : ""), a3 && (o2.space === "svg" || r4.settings.closeSelfClosing) && (l3 = u5.charAt(u5.length - 1), (!r4.settings.tightSelfClosing || l3 === "/" || l3 && l3 !== '"' && l3 !== "'") && i5.push(" "), i5.push("/")), i5.push(">")), i5.push(c6), !a3 && (!s3 || !bn(t3, e, n4)) && i5.push("</" + t3.tagName + ">"), i5.join("");
}
function Vi(t3, e) {
  const n4 = [];
  let r4 = -1, o2;
  if (e) {
    for (o2 in e)
      if (e[o2] !== null && e[o2] !== void 0) {
        const s3 = Xi(t3, o2, e[o2]);
        s3 && n4.push(s3);
      }
  }
  for (; ++r4 < n4.length; ) {
    const s3 = t3.settings.tightAttributes ? n4[r4].charAt(n4[r4].length - 1) : void 0;
    r4 !== n4.length - 1 && s3 !== '"' && s3 !== "'" && (n4[r4] += " ");
  }
  return n4.join("");
}
function Xi(t3, e, n4) {
  const r4 = ti(t3.schema, e), o2 = t3.settings.allowParseErrors && t3.schema.space === "html" ? 0 : 1, s3 = t3.settings.allowDangerousCharacters ? 0 : 1;
  let a3 = t3.quote, i5;
  if (r4.overloadedBoolean && (n4 === r4.attribute || n4 === "") ? n4 = true : (r4.boolean || r4.overloadedBoolean) && (typeof n4 != "string" || n4 === r4.attribute || n4 === "") && (n4 = !!n4), n4 == null || n4 === false || typeof n4 == "number" && Number.isNaN(n4))
    return "";
  const l3 = Ae(
    r4.attribute,
    Object.assign({}, t3.settings.characterReferences, {
      // Always encode without parse errors in non-HTML.
      subset: Qe2.name[o2][s3]
    })
  );
  return n4 === true || (n4 = Array.isArray(n4) ? (r4.commaSeparated ? Ir : Gr)(n4, {
    padLeft: !t3.settings.tightCommaSeparatedLists
  }) : String(n4), t3.settings.collapseEmptyAttributes && !n4) ? l3 : (t3.settings.preferUnquoted && (i5 = Ae(
    n4,
    Object.assign({}, t3.settings.characterReferences, {
      attribute: true,
      subset: Qe2.unquoted[o2][s3]
    })
  )), i5 !== n4 && (t3.settings.quoteSmart && jn(n4, a3) > jn(n4, t3.alternative) && (a3 = t3.alternative), i5 = a3 + Ae(
    n4,
    Object.assign({}, t3.settings.characterReferences, {
      // Always encode without parse errors in non-HTML.
      subset: (a3 === "'" ? Qe2.single : Qe2.double)[o2][s3],
      attribute: true
    })
  ) + a3), l3 + (i5 && "=" + i5));
}
var Ki = ["<", "&"];
function So(t3, e, n4, r4) {
  return n4 && n4.type === "element" && (n4.tagName === "script" || n4.tagName === "style") ? t3.value : Ae(
    t3.value,
    Object.assign({}, r4.settings.characterReferences, {
      subset: Ki
    })
  );
}
function Yi(t3, e, n4, r4) {
  return r4.settings.allowDangerousHtml ? t3.value : So(t3, e, n4, r4);
}
function Ji(t3, e, n4, r4) {
  return r4.all(t3);
}
var Zi = la("type", {
  invalid: Qi,
  unknown: el,
  handlers: { comment: vi, doctype: xi, element: qi, raw: Yi, root: Ji, text: So }
});
function Qi(t3) {
  throw new Error("Expected node, not `" + t3 + "`");
}
function el(t3) {
  const e = (
    /** @type {Nodes} */
    t3
  );
  throw new Error("Cannot compile unknown node `" + e.type + "`");
}
var tl = {};
var nl = {};
var rl = [];
function ol(t3, e) {
  const n4 = e || tl, r4 = n4.quote || '"', o2 = r4 === '"' ? "'" : '"';
  if (r4 !== '"' && r4 !== "'")
    throw new Error("Invalid quote `" + r4 + "`, expected `'` or `\"`");
  return {
    one: sl,
    all: al,
    settings: {
      omitOptionalTags: n4.omitOptionalTags || false,
      allowParseErrors: n4.allowParseErrors || false,
      allowDangerousCharacters: n4.allowDangerousCharacters || false,
      quoteSmart: n4.quoteSmart || false,
      preferUnquoted: n4.preferUnquoted || false,
      tightAttributes: n4.tightAttributes || false,
      upperDoctype: n4.upperDoctype || false,
      tightDoctype: n4.tightDoctype || false,
      bogusComments: n4.bogusComments || false,
      tightCommaSeparatedLists: n4.tightCommaSeparatedLists || false,
      tightSelfClosing: n4.tightSelfClosing || false,
      collapseEmptyAttributes: n4.collapseEmptyAttributes || false,
      allowDangerousHtml: n4.allowDangerousHtml || false,
      voids: n4.voids || ua,
      characterReferences: n4.characterReferences || nl,
      closeSelfClosing: n4.closeSelfClosing || false,
      closeEmptyElements: n4.closeEmptyElements || false
    },
    schema: n4.space === "svg" ? yo : oi,
    quote: r4,
    alternative: o2
  }.one(
    Array.isArray(t3) ? { type: "root", children: t3 } : t3,
    void 0,
    void 0
  );
}
function sl(t3, e, n4) {
  return Zi(t3, e, n4, this);
}
function al(t3) {
  const e = [], n4 = t3 && t3.children || rl;
  let r4 = -1;
  for (; ++r4 < n4.length; )
    e[r4] = this.one(n4[r4], r4, t3);
  return e.join("");
}
function pt(t3, e) {
  const n4 = typeof t3 == "string" ? {} : { ...t3.colorReplacements }, r4 = typeof t3 == "string" ? t3 : t3.name;
  for (const [o2, s3] of Object.entries(e?.colorReplacements || {}))
    typeof s3 == "string" ? n4[o2] = s3 : o2 === r4 && Object.assign(n4, s3);
  return n4;
}
function ue2(t3, e) {
  return t3 && (e?.[t3?.toLowerCase()] || t3);
}
function il(t3) {
  return Array.isArray(t3) ? t3 : [t3];
}
async function ko(t3) {
  return Promise.resolve(typeof t3 == "function" ? t3() : t3).then((e) => e.default || e);
}
function wn(t3) {
  return !t3 || ["plaintext", "txt", "text", "plain"].includes(t3);
}
function vo(t3) {
  return t3 === "ansi" || wn(t3);
}
function Cn(t3) {
  return t3 === "none";
}
function ll(t3) {
  return Cn(t3);
}
function xo(t3, e) {
  if (!e)
    return t3;
  t3.properties ||= {}, t3.properties.class ||= [], typeof t3.properties.class == "string" && (t3.properties.class = t3.properties.class.split(/\s+/g)), Array.isArray(t3.properties.class) || (t3.properties.class = []);
  const n4 = Array.isArray(e) ? e : e.split(/\s+/g);
  for (const r4 of n4)
    r4 && !t3.properties.class.includes(r4) && t3.properties.class.push(r4);
  return t3;
}
function St2(t3, e = false) {
  const n4 = t3.split(/(\r?\n)/g);
  let r4 = 0;
  const o2 = [];
  for (let s3 = 0; s3 < n4.length; s3 += 2) {
    const a3 = e ? n4[s3] + (n4[s3 + 1] || "") : n4[s3];
    o2.push([a3, r4]), r4 += n4[s3].length, r4 += n4[s3 + 1]?.length || 0;
  }
  return o2;
}
function ul(t3) {
  const e = St2(t3, true).map(([o2]) => o2);
  function n4(o2) {
    if (o2 === t3.length)
      return {
        line: e.length - 1,
        character: e[e.length - 1].length
      };
    let s3 = o2, a3 = 0;
    for (const i5 of e) {
      if (s3 < i5.length)
        break;
      s3 -= i5.length, a3++;
    }
    return { line: a3, character: s3 };
  }
  function r4(o2, s3) {
    let a3 = 0;
    for (let i5 = 0; i5 < o2; i5++)
      a3 += e[i5].length;
    return a3 += s3, a3;
  }
  return {
    lines: e,
    indexToPos: n4,
    posToIndex: r4
  };
}
var _n = "light-dark()";
function cl(t3, e) {
  let n4 = 0;
  const r4 = [];
  for (const o2 of e)
    o2 > n4 && r4.push({
      ...t3,
      content: t3.content.slice(n4, o2),
      offset: t3.offset + n4
    }), n4 = o2;
  return n4 < t3.content.length && r4.push({
    ...t3,
    content: t3.content.slice(n4),
    offset: t3.offset + n4
  }), r4;
}
function hl(t3, e) {
  const n4 = Array.from(e instanceof Set ? e : new Set(e)).sort((r4, o2) => r4 - o2);
  return n4.length ? t3.map((r4) => r4.flatMap((o2) => {
    const s3 = n4.filter((a3) => o2.offset < a3 && a3 < o2.offset + o2.content.length).map((a3) => a3 - o2.offset).sort((a3, i5) => a3 - i5);
    return s3.length ? cl(o2, s3) : o2;
  })) : t3;
}
function pl(t3, e, n4, r4) {
  const o2 = {
    content: t3.content,
    explanation: t3.explanation,
    offset: t3.offset
  }, s3 = e.map((l3) => ft(t3.variants[l3])), a3 = new Set(s3.flatMap((l3) => Object.keys(l3))), i5 = {};
  return s3.forEach((l3, u5) => {
    for (const c6 of a3) {
      const h3 = l3[c6] || "inherit";
      if (u5 === 0 && r4)
        if (r4 === _n && s3.length > 1) {
          const d2 = e.findIndex((y4) => y4 === "light"), f8 = e.findIndex((y4) => y4 === "dark");
          if (d2 === -1 || f8 === -1)
            throw new F2('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');
          const p3 = s3[d2][c6] || "inherit", m3 = s3[f8][c6] || "inherit";
          i5[c6] = `light-dark(${p3}, ${m3})`;
          const g6 = c6 === "color" ? "" : c6 === "background-color" ? "-bg" : `-${c6}`, C5 = n4 + e[u5] + (c6 === "color" ? "" : g6);
          i5[C5] = h3;
        } else
          i5[c6] = h3;
      else {
        const d2 = c6 === "color" ? "" : c6 === "background-color" ? "-bg" : `-${c6}`, f8 = n4 + e[u5] + (c6 === "color" ? "" : d2);
        i5[f8] = h3;
      }
    }
  }), o2.htmlStyle = i5, o2;
}
function ft(t3) {
  const e = {};
  if (t3.color && (e.color = t3.color), t3.bgColor && (e["background-color"] = t3.bgColor), t3.fontStyle) {
    t3.fontStyle & z3.Italic && (e["font-style"] = "italic"), t3.fontStyle & z3.Bold && (e["font-weight"] = "bold");
    const n4 = [];
    t3.fontStyle & z3.Underline && n4.push("underline"), t3.fontStyle & z3.Strikethrough && n4.push("line-through"), n4.length && (e["text-decoration"] = n4.join(" "));
  }
  return e;
}
function rn(t3) {
  return typeof t3 == "string" ? t3 : Object.entries(t3).map(([e, n4]) => `${e}:${n4}`).join(";");
}
var Eo = /* @__PURE__ */ new WeakMap();
function kt(t3, e) {
  Eo.set(t3, e);
}
function We2(t3) {
  return Eo.get(t3);
}
var Pe3 = class _Pe {
  /**
   * Theme to Stack mapping
   */
  _stacks = {};
  lang;
  get themes() {
    return Object.keys(this._stacks);
  }
  get theme() {
    return this.themes[0];
  }
  get _stack() {
    return this._stacks[this.theme];
  }
  /**
   * Static method to create a initial grammar state.
   */
  static initial(e, n4) {
    return new _Pe(
      Object.fromEntries(il(n4).map((r4) => [r4, Zt])),
      e
    );
  }
  constructor(...e) {
    if (e.length === 2) {
      const [n4, r4] = e;
      this.lang = r4, this._stacks = n4;
    } else {
      const [n4, r4, o2] = e;
      this.lang = r4, this._stacks = { [o2]: n4 };
    }
  }
  /**
   * Get the internal stack object.
   * @internal
   */
  getInternalStack(e = this.theme) {
    return this._stacks[e];
  }
  getScopes(e = this.theme) {
    return fl(this._stacks[e]);
  }
  toJSON() {
    return {
      lang: this.lang,
      theme: this.theme,
      themes: this.themes,
      scopes: this.getScopes()
    };
  }
};
function fl(t3) {
  const e = [], n4 = /* @__PURE__ */ new Set();
  function r4(o2) {
    if (n4.has(o2))
      return;
    n4.add(o2);
    const s3 = o2?.nameScopesList?.scopeName;
    s3 && e.push(s3), o2.parent && r4(o2.parent);
  }
  return r4(t3), e;
}
function dl(t3, e) {
  if (!(t3 instanceof Pe3))
    throw new F2("Invalid grammar state");
  return t3.getInternalStack(e);
}
function gl() {
  const t3 = /* @__PURE__ */ new WeakMap();
  function e(n4) {
    if (!t3.has(n4.meta)) {
      let r4 = function(a3) {
        if (typeof a3 == "number") {
          if (a3 < 0 || a3 > n4.source.length)
            throw new F2(`Invalid decoration offset: ${a3}. Code length: ${n4.source.length}`);
          return {
            ...o2.indexToPos(a3),
            offset: a3
          };
        } else {
          const i5 = o2.lines[a3.line];
          if (i5 === void 0)
            throw new F2(`Invalid decoration position ${JSON.stringify(a3)}. Lines length: ${o2.lines.length}`);
          if (a3.character < 0 || a3.character > i5.length)
            throw new F2(`Invalid decoration position ${JSON.stringify(a3)}. Line ${a3.line} length: ${i5.length}`);
          return {
            ...a3,
            offset: o2.posToIndex(a3.line, a3.character)
          };
        }
      };
      const o2 = ul(n4.source), s3 = (n4.options.decorations || []).map((a3) => ({
        ...a3,
        start: r4(a3.start),
        end: r4(a3.end)
      }));
      ml(s3), t3.set(n4.meta, {
        decorations: s3,
        converter: o2,
        source: n4.source
      });
    }
    return t3.get(n4.meta);
  }
  return {
    name: "shiki:decorations",
    tokens(n4) {
      if (!this.options.decorations?.length)
        return;
      const o2 = e(this).decorations.flatMap((a3) => [a3.start.offset, a3.end.offset]);
      return hl(n4, o2);
    },
    code(n4) {
      if (!this.options.decorations?.length)
        return;
      const r4 = e(this), o2 = Array.from(n4.children).filter((c6) => c6.type === "element" && c6.tagName === "span");
      if (o2.length !== r4.converter.lines.length)
        throw new F2(`Number of lines in code element (${o2.length}) does not match the number of lines in the source (${r4.converter.lines.length}). Failed to apply decorations.`);
      function s3(c6, h3, d2, f8) {
        const p3 = o2[c6];
        let m3 = "", g6 = -1, C5 = -1;
        if (h3 === 0 && (g6 = 0), d2 === 0 && (C5 = 0), d2 === Number.POSITIVE_INFINITY && (C5 = p3.children.length), g6 === -1 || C5 === -1)
          for (let _5 = 0; _5 < p3.children.length; _5++)
            m3 += Ao(p3.children[_5]), g6 === -1 && m3.length === h3 && (g6 = _5 + 1), C5 === -1 && m3.length === d2 && (C5 = _5 + 1);
        if (g6 === -1)
          throw new F2(`Failed to find start index for decoration ${JSON.stringify(f8.start)}`);
        if (C5 === -1)
          throw new F2(`Failed to find end index for decoration ${JSON.stringify(f8.end)}`);
        const y4 = p3.children.slice(g6, C5);
        if (!f8.alwaysWrap && y4.length === p3.children.length)
          i5(p3, f8, "line");
        else if (!f8.alwaysWrap && y4.length === 1 && y4[0].type === "element")
          i5(y4[0], f8, "token");
        else {
          const _5 = {
            type: "element",
            tagName: "span",
            properties: {},
            children: y4
          };
          i5(_5, f8, "wrapper"), p3.children.splice(g6, y4.length, _5);
        }
      }
      function a3(c6, h3) {
        o2[c6] = i5(o2[c6], h3, "line");
      }
      function i5(c6, h3, d2) {
        const f8 = h3.properties || {}, p3 = h3.transform || ((m3) => m3);
        return c6.tagName = h3.tagName || "span", c6.properties = {
          ...c6.properties,
          ...f8,
          class: c6.properties.class
        }, h3.properties?.class && xo(c6, h3.properties.class), c6 = p3(c6, d2) || c6, c6;
      }
      const l3 = [], u5 = r4.decorations.sort((c6, h3) => h3.start.offset - c6.start.offset || c6.end.offset - h3.end.offset);
      for (const c6 of u5) {
        const { start: h3, end: d2 } = c6;
        if (h3.line === d2.line)
          s3(h3.line, h3.character, d2.character, c6);
        else if (h3.line < d2.line) {
          s3(h3.line, h3.character, Number.POSITIVE_INFINITY, c6);
          for (let f8 = h3.line + 1; f8 < d2.line; f8++)
            l3.unshift(() => a3(f8, c6));
          s3(d2.line, 0, d2.character, c6);
        }
      }
      l3.forEach((c6) => c6());
    }
  };
}
function ml(t3) {
  for (let e = 0; e < t3.length; e++) {
    const n4 = t3[e];
    if (n4.start.offset > n4.end.offset)
      throw new F2(`Invalid decoration range: ${JSON.stringify(n4.start)} - ${JSON.stringify(n4.end)}`);
    for (let r4 = e + 1; r4 < t3.length; r4++) {
      const o2 = t3[r4], s3 = n4.start.offset <= o2.start.offset && o2.start.offset < n4.end.offset, a3 = n4.start.offset < o2.end.offset && o2.end.offset <= n4.end.offset, i5 = o2.start.offset <= n4.start.offset && n4.start.offset < o2.end.offset, l3 = o2.start.offset < n4.end.offset && n4.end.offset <= o2.end.offset;
      if (s3 || a3 || i5 || l3) {
        if (s3 && a3 || i5 && l3)
          continue;
        throw new F2(`Decorations ${JSON.stringify(n4.start)} and ${JSON.stringify(o2.start)} intersect.`);
      }
    }
  }
}
function Ao(t3) {
  return t3.type === "text" ? t3.value : t3.type === "element" ? t3.children.map(Ao).join("") : "";
}
var yl = [
  gl()
];
function dt2(t3) {
  return [
    ...t3.transformers || [],
    ...yl
  ];
}
var de2 = [
  "black",
  "red",
  "green",
  "yellow",
  "blue",
  "magenta",
  "cyan",
  "white",
  "brightBlack",
  "brightRed",
  "brightGreen",
  "brightYellow",
  "brightBlue",
  "brightMagenta",
  "brightCyan",
  "brightWhite"
];
var Mt = {
  1: "bold",
  2: "dim",
  3: "italic",
  4: "underline",
  7: "reverse",
  8: "hidden",
  9: "strikethrough"
};
function bl(t3, e) {
  const n4 = t3.indexOf("\x1B", e);
  if (n4 !== -1 && t3[n4 + 1] === "[") {
    const r4 = t3.indexOf("m", n4);
    if (r4 !== -1)
      return {
        sequence: t3.substring(n4 + 2, r4).split(";"),
        startPosition: n4,
        position: r4 + 1
      };
  }
  return {
    position: t3.length
  };
}
function tr(t3) {
  const e = t3.shift();
  if (e === "2") {
    const n4 = t3.splice(0, 3).map((r4) => Number.parseInt(r4));
    return n4.length !== 3 || n4.some((r4) => Number.isNaN(r4)) ? void 0 : {
      type: "rgb",
      rgb: n4
    };
  } else if (e === "5") {
    const n4 = t3.shift();
    if (n4)
      return { type: "table", index: Number(n4) };
  }
}
function wl(t3) {
  const e = [];
  for (; t3.length > 0; ) {
    const n4 = t3.shift();
    if (!n4)
      continue;
    const r4 = Number.parseInt(n4);
    if (!Number.isNaN(r4))
      if (r4 === 0)
        e.push({ type: "resetAll" });
      else if (r4 <= 9)
        Mt[r4] && e.push({
          type: "setDecoration",
          value: Mt[r4]
        });
      else if (r4 <= 29) {
        const o2 = Mt[r4 - 20];
        o2 && (e.push({
          type: "resetDecoration",
          value: o2
        }), o2 === "dim" && e.push({
          type: "resetDecoration",
          value: "bold"
        }));
      } else if (r4 <= 37)
        e.push({
          type: "setForegroundColor",
          value: { type: "named", name: de2[r4 - 30] }
        });
      else if (r4 === 38) {
        const o2 = tr(t3);
        o2 && e.push({
          type: "setForegroundColor",
          value: o2
        });
      } else if (r4 === 39)
        e.push({
          type: "resetForegroundColor"
        });
      else if (r4 <= 47)
        e.push({
          type: "setBackgroundColor",
          value: { type: "named", name: de2[r4 - 40] }
        });
      else if (r4 === 48) {
        const o2 = tr(t3);
        o2 && e.push({
          type: "setBackgroundColor",
          value: o2
        });
      } else r4 === 49 ? e.push({
        type: "resetBackgroundColor"
      }) : r4 === 53 ? e.push({
        type: "setDecoration",
        value: "overline"
      }) : r4 === 55 ? e.push({
        type: "resetDecoration",
        value: "overline"
      }) : r4 >= 90 && r4 <= 97 ? e.push({
        type: "setForegroundColor",
        value: { type: "named", name: de2[r4 - 90 + 8] }
      }) : r4 >= 100 && r4 <= 107 && e.push({
        type: "setBackgroundColor",
        value: { type: "named", name: de2[r4 - 100 + 8] }
      });
  }
  return e;
}
function Cl() {
  let t3 = null, e = null, n4 = /* @__PURE__ */ new Set();
  return {
    parse(r4) {
      const o2 = [];
      let s3 = 0;
      do {
        const a3 = bl(r4, s3), i5 = a3.sequence ? r4.substring(s3, a3.startPosition) : r4.substring(s3);
        if (i5.length > 0 && o2.push({
          value: i5,
          foreground: t3,
          background: e,
          decorations: new Set(n4)
        }), a3.sequence) {
          const l3 = wl(a3.sequence);
          for (const u5 of l3)
            u5.type === "resetAll" ? (t3 = null, e = null, n4.clear()) : u5.type === "resetForegroundColor" ? t3 = null : u5.type === "resetBackgroundColor" ? e = null : u5.type === "resetDecoration" && n4.delete(u5.value);
          for (const u5 of l3)
            u5.type === "setForegroundColor" ? t3 = u5.value : u5.type === "setBackgroundColor" ? e = u5.value : u5.type === "setDecoration" && n4.add(u5.value);
        }
        s3 = a3.position;
      } while (s3 < r4.length);
      return o2;
    }
  };
}
var _l = {
  black: "#000000",
  red: "#bb0000",
  green: "#00bb00",
  yellow: "#bbbb00",
  blue: "#0000bb",
  magenta: "#ff00ff",
  cyan: "#00bbbb",
  white: "#eeeeee",
  brightBlack: "#555555",
  brightRed: "#ff5555",
  brightGreen: "#00ff00",
  brightYellow: "#ffff55",
  brightBlue: "#5555ff",
  brightMagenta: "#ff55ff",
  brightCyan: "#55ffff",
  brightWhite: "#ffffff"
};
function Sl(t3 = _l) {
  function e(i5) {
    return t3[i5];
  }
  function n4(i5) {
    return `#${i5.map((l3) => Math.max(0, Math.min(l3, 255)).toString(16).padStart(2, "0")).join("")}`;
  }
  let r4;
  function o2() {
    if (r4)
      return r4;
    r4 = [];
    for (let u5 = 0; u5 < de2.length; u5++)
      r4.push(e(de2[u5]));
    let i5 = [0, 95, 135, 175, 215, 255];
    for (let u5 = 0; u5 < 6; u5++)
      for (let c6 = 0; c6 < 6; c6++)
        for (let h3 = 0; h3 < 6; h3++)
          r4.push(n4([i5[u5], i5[c6], i5[h3]]));
    let l3 = 8;
    for (let u5 = 0; u5 < 24; u5++, l3 += 10)
      r4.push(n4([l3, l3, l3]));
    return r4;
  }
  function s3(i5) {
    return o2()[i5];
  }
  function a3(i5) {
    switch (i5.type) {
      case "named":
        return e(i5.name);
      case "rgb":
        return n4(i5.rgb);
      case "table":
        return s3(i5.index);
    }
  }
  return {
    value: a3
  };
}
function kl(t3, e, n4) {
  const r4 = pt(t3, n4), o2 = St2(e), s3 = Sl(
    Object.fromEntries(
      de2.map((i5) => [
        i5,
        t3.colors?.[`terminal.ansi${i5[0].toUpperCase()}${i5.substring(1)}`]
      ])
    )
  ), a3 = Cl();
  return o2.map(
    (i5) => a3.parse(i5[0]).map((l3) => {
      let u5, c6;
      l3.decorations.has("reverse") ? (u5 = l3.background ? s3.value(l3.background) : t3.bg, c6 = l3.foreground ? s3.value(l3.foreground) : t3.fg) : (u5 = l3.foreground ? s3.value(l3.foreground) : t3.fg, c6 = l3.background ? s3.value(l3.background) : void 0), u5 = ue2(u5, r4), c6 = ue2(c6, r4), l3.decorations.has("dim") && (u5 = vl(u5));
      let h3 = z3.None;
      return l3.decorations.has("bold") && (h3 |= z3.Bold), l3.decorations.has("italic") && (h3 |= z3.Italic), l3.decorations.has("underline") && (h3 |= z3.Underline), l3.decorations.has("strikethrough") && (h3 |= z3.Strikethrough), {
        content: l3.value,
        offset: i5[1],
        // TODO: more accurate offset? might need to fork ansi-sequence-parser
        color: u5,
        bgColor: c6,
        fontStyle: h3
      };
    })
  );
}
function vl(t3) {
  const e = t3.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);
  if (e)
    if (e[3]) {
      const r4 = Math.round(Number.parseInt(e[3], 16) / 2).toString(16).padStart(2, "0");
      return `#${e[1]}${e[2]}${r4}`;
    } else return e[2] ? `#${e[1]}${e[2]}80` : `#${Array.from(e[1]).map((r4) => `${r4}${r4}`).join("")}80`;
  const n4 = t3.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);
  return n4 ? `var(${n4[1]}-dim)` : t3;
}
function Sn(t3, e, n4 = {}) {
  const {
    lang: r4 = "text",
    theme: o2 = t3.getLoadedThemes()[0]
  } = n4;
  if (wn(r4) || Cn(o2))
    return St2(e).map((l3) => [{ content: l3[0], offset: l3[1] }]);
  const { theme: s3, colorMap: a3 } = t3.setTheme(o2);
  if (r4 === "ansi")
    return kl(s3, e, n4);
  const i5 = t3.getLanguage(r4);
  if (n4.grammarState) {
    if (n4.grammarState.lang !== i5.name)
      throw new F2(`Grammar state language "${n4.grammarState.lang}" does not match highlight language "${i5.name}"`);
    if (!n4.grammarState.themes.includes(s3.name))
      throw new F2(`Grammar state themes "${n4.grammarState.themes}" do not contain highlight theme "${s3.name}"`);
  }
  return El(e, i5, s3, a3, n4);
}
function xl(...t3) {
  if (t3.length === 2)
    return We2(t3[1]);
  const [e, n4, r4 = {}] = t3, {
    lang: o2 = "text",
    theme: s3 = e.getLoadedThemes()[0]
  } = r4;
  if (wn(o2) || Cn(s3))
    throw new F2("Plain language does not have grammar state");
  if (o2 === "ansi")
    throw new F2("ANSI language does not have grammar state");
  const { theme: a3, colorMap: i5 } = e.setTheme(s3), l3 = e.getLanguage(o2);
  return new Pe3(
    gt(n4, l3, a3, i5, r4).stateStack,
    l3.name,
    a3.name
  );
}
function El(t3, e, n4, r4, o2) {
  const s3 = gt(t3, e, n4, r4, o2), a3 = new Pe3(
    gt(t3, e, n4, r4, o2).stateStack,
    e.name,
    n4.name
  );
  return kt(s3.tokens, a3), s3.tokens;
}
function gt(t3, e, n4, r4, o2) {
  const s3 = pt(n4, o2), {
    tokenizeMaxLineLength: a3 = 0,
    tokenizeTimeLimit: i5 = 500
  } = o2, l3 = St2(t3);
  let u5 = o2.grammarState ? dl(o2.grammarState, n4.name) ?? Zt : o2.grammarContextCode != null ? gt(
    o2.grammarContextCode,
    e,
    n4,
    r4,
    {
      ...o2,
      grammarState: void 0,
      grammarContextCode: void 0
    }
  ).stateStack : Zt, c6 = [];
  const h3 = [];
  for (let d2 = 0, f8 = l3.length; d2 < f8; d2++) {
    const [p3, m3] = l3[d2];
    if (p3 === "") {
      c6 = [], h3.push([]);
      continue;
    }
    if (a3 > 0 && p3.length >= a3) {
      c6 = [], h3.push([{
        content: p3,
        offset: m3,
        color: "",
        fontStyle: 0
      }]);
      continue;
    }
    let g6, C5, y4;
    o2.includeExplanation && (g6 = e.tokenizeLine(p3, u5, i5), C5 = g6.tokens, y4 = 0);
    const _5 = e.tokenizeLine2(p3, u5, i5), S4 = _5.tokens.length / 2;
    for (let A3 = 0; A3 < S4; A3++) {
      const D3 = _5.tokens[2 * A3], P3 = A3 + 1 < S4 ? _5.tokens[2 * A3 + 2] : p3.length;
      if (D3 === P3)
        continue;
      const j7 = _5.tokens[2 * A3 + 1], Z4 = ue2(
        r4[Re3.getForeground(j7)],
        s3
      ), ee3 = Re3.getFontStyle(j7), ce2 = {
        content: p3.substring(D3, P3),
        offset: m3 + D3,
        color: Z4,
        fontStyle: ee3
      };
      if (o2.includeExplanation) {
        const te4 = [];
        if (o2.includeExplanation !== "scopeName")
          for (const k3 of n4.settings) {
            let G3;
            switch (typeof k3.scope) {
              case "string":
                G3 = k3.scope.split(/,/).map((Te4) => Te4.trim());
                break;
              case "object":
                G3 = k3.scope;
                break;
              default:
                continue;
            }
            te4.push({
              settings: k3,
              selectors: G3.map((Te4) => Te4.split(/ /))
            });
          }
        ce2.explanation = [];
        let R5 = 0;
        for (; D3 + R5 < P3; ) {
          const k3 = C5[y4], G3 = p3.substring(
            k3.startIndex,
            k3.endIndex
          );
          R5 += G3.length, ce2.explanation.push({
            content: G3,
            scopes: o2.includeExplanation === "scopeName" ? Al(
              k3.scopes
            ) : Rl(
              te4,
              k3.scopes
            )
          }), y4 += 1;
        }
      }
      c6.push(ce2);
    }
    h3.push(c6), c6 = [], u5 = _5.ruleStack;
  }
  return {
    tokens: h3,
    stateStack: u5
  };
}
function Al(t3) {
  return t3.map((e) => ({ scopeName: e }));
}
function Rl(t3, e) {
  const n4 = [];
  for (let r4 = 0, o2 = e.length; r4 < o2; r4++) {
    const s3 = e[r4];
    n4[r4] = {
      scopeName: s3,
      themeMatches: Nl(t3, s3, e.slice(0, r4))
    };
  }
  return n4;
}
function nr(t3, e) {
  return t3 === e || e.substring(0, t3.length) === t3 && e[t3.length] === ".";
}
function Il(t3, e, n4) {
  if (!nr(t3[t3.length - 1], e))
    return false;
  let r4 = t3.length - 2, o2 = n4.length - 1;
  for (; r4 >= 0 && o2 >= 0; )
    nr(t3[r4], n4[o2]) && (r4 -= 1), o2 -= 1;
  return r4 === -1;
}
function Nl(t3, e, n4) {
  const r4 = [];
  for (const { selectors: o2, settings: s3 } of t3)
    for (const a3 of o2)
      if (Il(a3, e, n4)) {
        r4.push(s3);
        break;
      }
  return r4;
}
function Ro(t3, e, n4) {
  const r4 = Object.entries(n4.themes).filter((l3) => l3[1]).map((l3) => ({ color: l3[0], theme: l3[1] })), o2 = r4.map((l3) => {
    const u5 = Sn(t3, e, {
      ...n4,
      theme: l3.theme
    }), c6 = We2(u5), h3 = typeof l3.theme == "string" ? l3.theme : l3.theme.name;
    return {
      tokens: u5,
      state: c6,
      theme: h3
    };
  }), s3 = Pl(
    ...o2.map((l3) => l3.tokens)
  ), a3 = s3[0].map(
    (l3, u5) => l3.map((c6, h3) => {
      const d2 = {
        content: c6.content,
        variants: {},
        offset: c6.offset
      };
      return "includeExplanation" in n4 && n4.includeExplanation && (d2.explanation = c6.explanation), s3.forEach((f8, p3) => {
        const {
          content: m3,
          explanation: g6,
          offset: C5,
          ...y4
        } = f8[u5][h3];
        d2.variants[r4[p3].color] = y4;
      }), d2;
    })
  ), i5 = o2[0].state ? new Pe3(
    Object.fromEntries(o2.map((l3) => [l3.theme, l3.state?.getInternalStack(l3.theme)])),
    o2[0].state.lang
  ) : void 0;
  return i5 && kt(a3, i5), a3;
}
function Pl(...t3) {
  const e = t3.map(() => []), n4 = t3.length;
  for (let r4 = 0; r4 < t3[0].length; r4++) {
    const o2 = t3.map((l3) => l3[r4]), s3 = e.map(() => []);
    e.forEach((l3, u5) => l3.push(s3[u5]));
    const a3 = o2.map(() => 0), i5 = o2.map((l3) => l3[0]);
    for (; i5.every((l3) => l3); ) {
      const l3 = Math.min(...i5.map((u5) => u5.content.length));
      for (let u5 = 0; u5 < n4; u5++) {
        const c6 = i5[u5];
        c6.content.length === l3 ? (s3[u5].push(c6), a3[u5] += 1, i5[u5] = o2[u5][a3[u5]]) : (s3[u5].push({
          ...c6,
          content: c6.content.slice(0, l3)
        }), i5[u5] = {
          ...c6,
          content: c6.content.slice(l3),
          offset: c6.offset + l3
        });
      }
    }
  }
  return e;
}
function mt(t3, e, n4) {
  let r4, o2, s3, a3, i5, l3;
  if ("themes" in n4) {
    const {
      defaultColor: u5 = "light",
      cssVariablePrefix: c6 = "--shiki-"
    } = n4, h3 = Object.entries(n4.themes).filter((g6) => g6[1]).map((g6) => ({ color: g6[0], theme: g6[1] })).sort((g6, C5) => g6.color === u5 ? -1 : C5.color === u5 ? 1 : 0);
    if (h3.length === 0)
      throw new F2("`themes` option must not be empty");
    const d2 = Ro(
      t3,
      e,
      n4
    );
    if (l3 = We2(d2), u5 && _n !== u5 && !h3.find((g6) => g6.color === u5))
      throw new F2(`\`themes\` option must contain the defaultColor key \`${u5}\``);
    const f8 = h3.map((g6) => t3.getTheme(g6.theme)), p3 = h3.map((g6) => g6.color);
    s3 = d2.map((g6) => g6.map((C5) => pl(C5, p3, c6, u5))), l3 && kt(s3, l3);
    const m3 = h3.map((g6) => pt(g6.theme, n4));
    o2 = rr(h3, f8, m3, c6, u5, "fg"), r4 = rr(h3, f8, m3, c6, u5, "bg"), a3 = `shiki-themes ${f8.map((g6) => g6.name).join(" ")}`, i5 = u5 ? void 0 : [o2, r4].join(";");
  } else if ("theme" in n4) {
    const u5 = pt(n4.theme, n4);
    s3 = Sn(
      t3,
      e,
      n4
    );
    const c6 = t3.getTheme(n4.theme);
    r4 = ue2(c6.bg, u5), o2 = ue2(c6.fg, u5), a3 = c6.name, l3 = We2(s3);
  } else
    throw new F2("Invalid options, either `theme` or `themes` must be provided");
  return {
    tokens: s3,
    fg: o2,
    bg: r4,
    themeName: a3,
    rootStyle: i5,
    grammarState: l3
  };
}
function rr(t3, e, n4, r4, o2, s3) {
  return t3.map((a3, i5) => {
    const l3 = ue2(e[i5][s3], n4[i5]) || "inherit", u5 = `${r4 + a3.color}${s3 === "bg" ? "-bg" : ""}:${l3}`;
    if (i5 === 0 && o2) {
      if (o2 === _n && t3.length > 1) {
        const c6 = t3.findIndex((p3) => p3.color === "light"), h3 = t3.findIndex((p3) => p3.color === "dark");
        if (c6 === -1 || h3 === -1)
          throw new F2('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');
        const d2 = ue2(e[c6][s3], n4[c6]) || "inherit", f8 = ue2(e[h3][s3], n4[h3]) || "inherit";
        return `light-dark(${d2}, ${f8});${u5}`;
      }
      return l3;
    }
    return u5;
  }).join(";");
}
function yt(t3, e, n4, r4 = {
  meta: {},
  options: n4,
  codeToHast: (o2, s3) => yt(t3, o2, s3),
  codeToTokens: (o2, s3) => mt(t3, o2, s3)
}) {
  let o2 = e;
  for (const p3 of dt2(n4))
    o2 = p3.preprocess?.call(r4, o2, n4) || o2;
  let {
    tokens: s3,
    fg: a3,
    bg: i5,
    themeName: l3,
    rootStyle: u5,
    grammarState: c6
  } = mt(t3, o2, n4);
  const {
    mergeWhitespaces: h3 = true,
    mergeSameStyleTokens: d2 = false
  } = n4;
  h3 === true ? s3 = $l(s3) : h3 === "never" && (s3 = Tl(s3)), d2 && (s3 = Ml(s3));
  const f8 = {
    ...r4,
    get source() {
      return o2;
    }
  };
  for (const p3 of dt2(n4))
    s3 = p3.tokens?.call(f8, s3) || s3;
  return Ll(
    s3,
    {
      ...n4,
      fg: a3,
      bg: i5,
      themeName: l3,
      rootStyle: u5
    },
    f8,
    c6
  );
}
function Ll(t3, e, n4, r4 = We2(t3)) {
  const o2 = dt2(e), s3 = [], a3 = {
    type: "root",
    children: []
  }, {
    structure: i5 = "classic",
    tabindex: l3 = "0"
  } = e;
  let u5 = {
    type: "element",
    tagName: "pre",
    properties: {
      class: `shiki ${e.themeName || ""}`,
      style: e.rootStyle || `background-color:${e.bg};color:${e.fg}`,
      ...l3 !== false && l3 != null ? {
        tabindex: l3.toString()
      } : {},
      ...Object.fromEntries(
        Array.from(
          Object.entries(e.meta || {})
        ).filter(([p3]) => !p3.startsWith("_"))
      )
    },
    children: []
  }, c6 = {
    type: "element",
    tagName: "code",
    properties: {},
    children: s3
  };
  const h3 = [], d2 = {
    ...n4,
    structure: i5,
    addClassToHast: xo,
    get source() {
      return n4.source;
    },
    get tokens() {
      return t3;
    },
    get options() {
      return e;
    },
    get root() {
      return a3;
    },
    get pre() {
      return u5;
    },
    get code() {
      return c6;
    },
    get lines() {
      return h3;
    }
  };
  if (t3.forEach((p3, m3) => {
    m3 && (i5 === "inline" ? a3.children.push({ type: "element", tagName: "br", properties: {}, children: [] }) : i5 === "classic" && s3.push({ type: "text", value: `
` }));
    let g6 = {
      type: "element",
      tagName: "span",
      properties: { class: "line" },
      children: []
    }, C5 = 0;
    for (const y4 of p3) {
      let _5 = {
        type: "element",
        tagName: "span",
        properties: {
          ...y4.htmlAttrs
        },
        children: [{ type: "text", value: y4.content }]
      };
      const S4 = rn(y4.htmlStyle || ft(y4));
      S4 && (_5.properties.style = S4);
      for (const A3 of o2)
        _5 = A3?.span?.call(d2, _5, m3 + 1, C5, g6, y4) || _5;
      i5 === "inline" ? a3.children.push(_5) : i5 === "classic" && g6.children.push(_5), C5 += y4.content.length;
    }
    if (i5 === "classic") {
      for (const y4 of o2)
        g6 = y4?.line?.call(d2, g6, m3 + 1) || g6;
      h3.push(g6), s3.push(g6);
    }
  }), i5 === "classic") {
    for (const p3 of o2)
      c6 = p3?.code?.call(d2, c6) || c6;
    u5.children.push(c6);
    for (const p3 of o2)
      u5 = p3?.pre?.call(d2, u5) || u5;
    a3.children.push(u5);
  }
  let f8 = a3;
  for (const p3 of o2)
    f8 = p3?.root?.call(d2, f8) || f8;
  return r4 && kt(f8, r4), f8;
}
function $l(t3) {
  return t3.map((e) => {
    const n4 = [];
    let r4 = "", o2 = 0;
    return e.forEach((s3, a3) => {
      const l3 = !(s3.fontStyle && (s3.fontStyle & z3.Underline || s3.fontStyle & z3.Strikethrough));
      l3 && s3.content.match(/^\s+$/) && e[a3 + 1] ? (o2 || (o2 = s3.offset), r4 += s3.content) : r4 ? (l3 ? n4.push({
        ...s3,
        offset: o2,
        content: r4 + s3.content
      }) : n4.push(
        {
          content: r4,
          offset: o2
        },
        s3
      ), o2 = 0, r4 = "") : n4.push(s3);
    }), n4;
  });
}
function Tl(t3) {
  return t3.map((e) => e.flatMap((n4) => {
    if (n4.content.match(/^\s+$/))
      return n4;
    const r4 = n4.content.match(/^(\s*)(.*?)(\s*)$/);
    if (!r4)
      return n4;
    const [, o2, s3, a3] = r4;
    if (!o2 && !a3)
      return n4;
    const i5 = [{
      ...n4,
      offset: n4.offset + o2.length,
      content: s3
    }];
    return o2 && i5.unshift({
      content: o2,
      offset: n4.offset
    }), a3 && i5.push({
      content: a3,
      offset: n4.offset + o2.length + s3.length
    }), i5;
  }));
}
function Ml(t3) {
  return t3.map((e) => {
    const n4 = [];
    for (const r4 of e) {
      if (n4.length === 0) {
        n4.push({ ...r4 });
        continue;
      }
      const o2 = n4[n4.length - 1], s3 = rn(o2.htmlStyle || ft(o2)), a3 = rn(r4.htmlStyle || ft(r4)), i5 = o2.fontStyle && (o2.fontStyle & z3.Underline || o2.fontStyle & z3.Strikethrough), l3 = r4.fontStyle && (r4.fontStyle & z3.Underline || r4.fontStyle & z3.Strikethrough);
      !i5 && !l3 && s3 === a3 ? o2.content += r4.content : n4.push({ ...r4 });
    }
    return n4;
  });
}
var Ol = ol;
function Dl(t3, e, n4) {
  const r4 = {
    meta: {},
    options: n4,
    codeToHast: (s3, a3) => yt(t3, s3, a3),
    codeToTokens: (s3, a3) => mt(t3, s3, a3)
  };
  let o2 = Ol(yt(t3, e, n4, r4));
  for (const s3 of dt2(n4))
    o2 = s3.postprocess?.call(r4, o2, n4) || o2;
  return o2;
}
var or = { light: "#333333", dark: "#bbbbbb" };
var sr2 = { light: "#fffffe", dark: "#1e1e1e" };
var ar = "__shiki_resolved";
function kn(t3) {
  if (t3?.[ar])
    return t3;
  const e = {
    ...t3
  };
  e.tokenColors && !e.settings && (e.settings = e.tokenColors, delete e.tokenColors), e.type ||= "dark", e.colorReplacements = { ...e.colorReplacements }, e.settings ||= [];
  let { bg: n4, fg: r4 } = e;
  if (!n4 || !r4) {
    const i5 = e.settings ? e.settings.find((l3) => !l3.name && !l3.scope) : void 0;
    i5?.settings?.foreground && (r4 = i5.settings.foreground), i5?.settings?.background && (n4 = i5.settings.background), !r4 && e?.colors?.["editor.foreground"] && (r4 = e.colors["editor.foreground"]), !n4 && e?.colors?.["editor.background"] && (n4 = e.colors["editor.background"]), r4 || (r4 = e.type === "light" ? or.light : or.dark), n4 || (n4 = e.type === "light" ? sr2.light : sr2.dark), e.fg = r4, e.bg = n4;
  }
  e.settings[0] && e.settings[0].settings && !e.settings[0].scope || e.settings.unshift({
    settings: {
      foreground: e.fg,
      background: e.bg
    }
  });
  let o2 = 0;
  const s3 = /* @__PURE__ */ new Map();
  function a3(i5) {
    if (s3.has(i5))
      return s3.get(i5);
    o2 += 1;
    const l3 = `#${o2.toString(16).padStart(8, "0").toLowerCase()}`;
    return e.colorReplacements?.[`#${l3}`] ? a3(i5) : (s3.set(i5, l3), l3);
  }
  e.settings = e.settings.map((i5) => {
    const l3 = i5.settings?.foreground && !i5.settings.foreground.startsWith("#"), u5 = i5.settings?.background && !i5.settings.background.startsWith("#");
    if (!l3 && !u5)
      return i5;
    const c6 = {
      ...i5,
      settings: {
        ...i5.settings
      }
    };
    if (l3) {
      const h3 = a3(i5.settings.foreground);
      e.colorReplacements[h3] = i5.settings.foreground, c6.settings.foreground = h3;
    }
    if (u5) {
      const h3 = a3(i5.settings.background);
      e.colorReplacements[h3] = i5.settings.background, c6.settings.background = h3;
    }
    return c6;
  });
  for (const i5 of Object.keys(e.colors || {}))
    if ((i5 === "editor.foreground" || i5 === "editor.background" || i5.startsWith("terminal.ansi")) && !e.colors[i5]?.startsWith("#")) {
      const l3 = a3(e.colors[i5]);
      e.colorReplacements[l3] = e.colors[i5], e.colors[i5] = l3;
    }
  return Object.defineProperty(e, ar, {
    enumerable: false,
    writable: false,
    value: true
  }), e;
}
async function Io(t3) {
  return Array.from(new Set((await Promise.all(
    t3.filter((e) => !vo(e)).map(async (e) => await ko(e).then((n4) => Array.isArray(n4) ? n4 : [n4]))
  )).flat()));
}
async function No(t3) {
  return (await Promise.all(
    t3.map(
      async (n4) => ll(n4) ? null : kn(await ko(n4))
    )
  )).filter((n4) => !!n4);
}
var Gl = 3;
function Fl(t3, e = 3) {
  e > Gl || console.trace(`[SHIKI DEPRECATE]: ${t3}`);
}
var ve = class extends Error {
  constructor(e) {
    super(e), this.name = "ShikiError";
  }
};
var Bl = class extends Ka {
  constructor(e, n4, r4, o2 = {}) {
    super(e), this._resolver = e, this._themes = n4, this._langs = r4, this._alias = o2, this._themes.map((s3) => this.loadTheme(s3)), this.loadLanguages(this._langs);
  }
  _resolvedThemes = /* @__PURE__ */ new Map();
  _resolvedGrammars = /* @__PURE__ */ new Map();
  _langMap = /* @__PURE__ */ new Map();
  _langGraph = /* @__PURE__ */ new Map();
  _textmateThemeCache = /* @__PURE__ */ new WeakMap();
  _loadedThemesCache = null;
  _loadedLanguagesCache = null;
  getTheme(e) {
    return typeof e == "string" ? this._resolvedThemes.get(e) : this.loadTheme(e);
  }
  loadTheme(e) {
    const n4 = kn(e);
    return n4.name && (this._resolvedThemes.set(n4.name, n4), this._loadedThemesCache = null), n4;
  }
  getLoadedThemes() {
    return this._loadedThemesCache || (this._loadedThemesCache = [...this._resolvedThemes.keys()]), this._loadedThemesCache;
  }
  // Override and re-implement this method to cache the textmate themes as `TextMateTheme.createFromRawTheme`
  // is expensive. Themes can switch often especially for dual-theme support.
  //
  // The parent class also accepts `colorMap` as the second parameter, but since we don't use that,
  // we omit here so it's easier to cache the themes.
  setTheme(e) {
    let n4 = this._textmateThemeCache.get(e);
    n4 || (n4 = it.createFromRawTheme(e), this._textmateThemeCache.set(e, n4)), this._syncRegistry.setTheme(n4);
  }
  getGrammar(e) {
    if (this._alias[e]) {
      const n4 = /* @__PURE__ */ new Set([e]);
      for (; this._alias[e]; ) {
        if (e = this._alias[e], n4.has(e))
          throw new ve(`Circular alias \`${Array.from(n4).join(" -> ")} -> ${e}\``);
        n4.add(e);
      }
    }
    return this._resolvedGrammars.get(e);
  }
  loadLanguage(e) {
    if (this.getGrammar(e.name))
      return;
    const n4 = new Set(
      [...this._langMap.values()].filter((s3) => s3.embeddedLangsLazy?.includes(e.name))
    );
    this._resolver.addLanguage(e);
    const r4 = {
      balancedBracketSelectors: e.balancedBracketSelectors || ["*"],
      unbalancedBracketSelectors: e.unbalancedBracketSelectors || []
    };
    this._syncRegistry._rawGrammars.set(e.scopeName, e);
    const o2 = this.loadGrammarWithConfiguration(e.scopeName, 1, r4);
    if (o2.name = e.name, this._resolvedGrammars.set(e.name, o2), e.aliases && e.aliases.forEach((s3) => {
      this._alias[s3] = e.name;
    }), this._loadedLanguagesCache = null, n4.size)
      for (const s3 of n4)
        this._resolvedGrammars.delete(s3.name), this._loadedLanguagesCache = null, this._syncRegistry?._injectionGrammars?.delete(s3.scopeName), this._syncRegistry?._grammars?.delete(s3.scopeName), this.loadLanguage(this._langMap.get(s3.name));
  }
  dispose() {
    super.dispose(), this._resolvedThemes.clear(), this._resolvedGrammars.clear(), this._langMap.clear(), this._langGraph.clear(), this._loadedThemesCache = null;
  }
  loadLanguages(e) {
    for (const o2 of e)
      this.resolveEmbeddedLanguages(o2);
    const n4 = Array.from(this._langGraph.entries()), r4 = n4.filter(([o2, s3]) => !s3);
    if (r4.length) {
      const o2 = n4.filter(([s3, a3]) => a3 && a3.embeddedLangs?.some((i5) => r4.map(([l3]) => l3).includes(i5))).filter((s3) => !r4.includes(s3));
      throw new ve(`Missing languages ${r4.map(([s3]) => `\`${s3}\``).join(", ")}, required by ${o2.map(([s3]) => `\`${s3}\``).join(", ")}`);
    }
    for (const [o2, s3] of n4)
      this._resolver.addLanguage(s3);
    for (const [o2, s3] of n4)
      this.loadLanguage(s3);
  }
  getLoadedLanguages() {
    return this._loadedLanguagesCache || (this._loadedLanguagesCache = [
      .../* @__PURE__ */ new Set([...this._resolvedGrammars.keys(), ...Object.keys(this._alias)])
    ]), this._loadedLanguagesCache;
  }
  resolveEmbeddedLanguages(e) {
    if (this._langMap.set(e.name, e), this._langGraph.set(e.name, e), e.embeddedLangs)
      for (const n4 of e.embeddedLangs)
        this._langGraph.set(n4, this._langMap.get(n4));
  }
};
var jl = class {
  _langs = /* @__PURE__ */ new Map();
  _scopeToLang = /* @__PURE__ */ new Map();
  _injections = /* @__PURE__ */ new Map();
  _onigLib;
  constructor(e, n4) {
    this._onigLib = {
      createOnigScanner: (r4) => e.createScanner(r4),
      createOnigString: (r4) => e.createString(r4)
    }, n4.forEach((r4) => this.addLanguage(r4));
  }
  get onigLib() {
    return this._onigLib;
  }
  getLangRegistration(e) {
    return this._langs.get(e);
  }
  loadGrammar(e) {
    return this._scopeToLang.get(e);
  }
  addLanguage(e) {
    this._langs.set(e.name, e), e.aliases && e.aliases.forEach((n4) => {
      this._langs.set(n4, e);
    }), this._scopeToLang.set(e.scopeName, e), e.injectTo && e.injectTo.forEach((n4) => {
      this._injections.get(n4) || this._injections.set(n4, []), this._injections.get(n4).push(e.scopeName);
    });
  }
  getInjections(e) {
    const n4 = e.split(".");
    let r4 = [];
    for (let o2 = 1; o2 <= n4.length; o2++) {
      const s3 = n4.slice(0, o2).join(".");
      r4 = [...r4, ...this._injections.get(s3) || []];
    }
    return r4;
  }
};
var De3 = 0;
function Ul(t3) {
  De3 += 1, t3.warnings !== false && De3 >= 10 && De3 % 10 === 0 && console.warn(`[Shiki] ${De3} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);
  let e = false;
  if (!t3.engine)
    throw new ve("`engine` option is required for synchronous mode");
  const n4 = (t3.langs || []).flat(1), r4 = (t3.themes || []).flat(1).map(kn), o2 = new jl(t3.engine, n4), s3 = new Bl(o2, r4, n4, t3.langAlias);
  let a3;
  function i5(y4) {
    g6();
    const _5 = s3.getGrammar(typeof y4 == "string" ? y4 : y4.name);
    if (!_5)
      throw new ve(`Language \`${y4}\` not found, you may need to load it first`);
    return _5;
  }
  function l3(y4) {
    if (y4 === "none")
      return { bg: "", fg: "", name: "none", settings: [], type: "dark" };
    g6();
    const _5 = s3.getTheme(y4);
    if (!_5)
      throw new ve(`Theme \`${y4}\` not found, you may need to load it first`);
    return _5;
  }
  function u5(y4) {
    g6();
    const _5 = l3(y4);
    a3 !== y4 && (s3.setTheme(_5), a3 = y4);
    const S4 = s3.getColorMap();
    return {
      theme: _5,
      colorMap: S4
    };
  }
  function c6() {
    return g6(), s3.getLoadedThemes();
  }
  function h3() {
    return g6(), s3.getLoadedLanguages();
  }
  function d2(...y4) {
    g6(), s3.loadLanguages(y4.flat(1));
  }
  async function f8(...y4) {
    return d2(await Io(y4));
  }
  function p3(...y4) {
    g6();
    for (const _5 of y4.flat(1))
      s3.loadTheme(_5);
  }
  async function m3(...y4) {
    return g6(), p3(await No(y4));
  }
  function g6() {
    if (e)
      throw new ve("Shiki instance has been disposed");
  }
  function C5() {
    e || (e = true, s3.dispose(), De3 -= 1);
  }
  return {
    setTheme: u5,
    getTheme: l3,
    getLanguage: i5,
    getLoadedThemes: c6,
    getLoadedLanguages: h3,
    loadLanguage: f8,
    loadLanguageSync: d2,
    loadTheme: m3,
    loadThemeSync: p3,
    dispose: C5,
    [Symbol.dispose]: C5
  };
}
async function zl(t3) {
  t3.engine || Fl("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");
  const [
    e,
    n4,
    r4
  ] = await Promise.all([
    No(t3.themes || []),
    Io(t3.langs || []),
    t3.engine
  ]);
  return Ul({
    ...t3,
    themes: e,
    langs: n4,
    engine: r4
  });
}
async function Hl(t3) {
  const e = await zl(t3);
  return {
    getLastGrammarState: (...n4) => xl(e, ...n4),
    codeToTokensBase: (n4, r4) => Sn(e, n4, r4),
    codeToTokensWithThemes: (n4, r4) => Ro(e, n4, r4),
    codeToTokens: (n4, r4) => mt(e, n4, r4),
    codeToHast: (n4, r4) => yt(e, n4, r4),
    codeToHtml: (n4, r4) => Dl(e, n4, r4),
    getBundledLanguages: () => ({}),
    getBundledThemes: () => ({}),
    ...e,
    getInternalContext: () => e
  };
}
function Po(t3) {
  return "children" in t3 ? Lo(t3) : "value" in t3 ? t3.value : "";
}
function Wl(t3) {
  return t3.type === "text" ? t3.value : "children" in t3 ? Lo(t3) : "";
}
function Lo(t3) {
  let e = -1;
  const n4 = [];
  for (; ++e < t3.children.length; )
    n4[e] = Wl(t3.children[e]);
  return n4.join("");
}
var ql = {
  "tailing-curly-colon": (t3, e) => {
    const n4 = Po(e), r4 = n4.match(/(.+)\{:([\w-]+)\}$/);
    if (r4)
      return {
        type: "inline",
        code: r4[1] ?? n4,
        lang: r4.at(2)
      };
  }
};
var ir = "language-";
var Vl = (t3, e) => {
  const n4 = e.children[0];
  if (!n4 || n4.type !== "element" || n4.tagName !== "code" || !n4.properties)
    return;
  const r4 = n4.properties.className, o2 = Array.isArray(r4) ? r4.find(
    (s3) => typeof s3 == "string" && s3.startsWith(ir)
  ) : void 0;
  return {
    type: "pre",
    lang: typeof o2 == "string" ? o2.slice(ir.length) : void 0,
    code: Po(n4),
    meta: n4.data?.meta ?? n4.properties.metastring?.toString() ?? ""
  };
};
var Xl = "language-";
function Kl(t3, e) {
  const {
    addLanguageClass: n4 = false,
    parseMetaString: r4,
    cache: o2,
    defaultLanguage: s3,
    fallbackLanguage: a3,
    onError: i5,
    stripEndNewline: l3 = true,
    inline: u5 = false,
    lazy: c6 = false,
    ...h3
  } = e;
  function d2(f8, p3, m3 = "", g6 = {}) {
    const C5 = `${f8}:${m3}:${p3}`, y4 = o2?.get(C5);
    if (y4)
      return y4;
    const _5 = {
      ...h3,
      lang: f8,
      meta: {
        ...h3.meta,
        ...g6,
        __raw: m3
      }
    };
    n4 && (_5.transformers = [
      ..._5.transformers ?? [],
      {
        name: "rehype-shiki:code-language-class",
        code(S4) {
          return this.addClassToHast(S4, `${Xl}${f8}`), S4;
        }
      }
    ]), l3 && p3.endsWith(`
`) && (p3 = p3.slice(0, -1));
    try {
      const S4 = t3.codeToHast(p3, _5);
      return o2?.set(C5, S4), S4;
    } catch (S4) {
      if (i5)
        i5(S4);
      else
        throw S4;
    }
  }
  return (f8) => {
    const p3 = [];
    if (Vr(f8, "element", (m3, g6, C5) => {
      let y4;
      if (!C5 || g6 == null)
        return;
      if (m3.tagName === "pre")
        y4 = Vl;
      else if (m3.tagName === "code" && u5)
        y4 = ql[u5];
      else
        return;
      const _5 = y4(f8, m3);
      if (!_5)
        return;
      let S4, A3 = false;
      if (_5.lang ? t3.getLoadedLanguages().includes(_5.lang) || vo(_5.lang) ? S4 = _5.lang : c6 ? (A3 = true, S4 = _5.lang) : a3 && (S4 = a3) : S4 = s3, !S4)
        return;
      const D3 = _5.meta ? r4?.(_5.meta, m3, f8) : void 0, P3 = (j7) => {
        const Z4 = d2(j7, _5.code, _5.meta, D3 ?? {});
        if (Z4) {
          if (_5.type === "inline") {
            const ee3 = Z4.children[0];
            ee3.type === "element" && ee3.tagName === "pre" && (ee3.tagName = "span");
          }
          C5.children[g6] = Z4;
        }
      };
      if (A3)
        try {
          p3.push(t3.loadLanguage(S4).then(() => P3(S4)));
        } catch (j7) {
          if (a3)
            return P3(a3);
          if (i5)
            i5(j7);
          else throw j7;
        }
      else
        P3(S4);
      return "skip";
    }), p3.length > 0) {
      async function m3() {
        await Promise.all(p3);
      }
      return m3();
    }
  };
}
function Yl(t3) {
  if (!t3)
    return null;
  const e = t3.match(/\{([\d,-]+)\}/);
  return e ? e[1].split(",").flatMap((r4) => {
    const o2 = r4.split("-").map((s3) => Number.parseInt(s3, 10));
    return o2.length === 1 ? [o2[0]] : Array.from({ length: o2[1] - o2[0] + 1 }, (s3, a3) => a3 + o2[0]);
  }) : null;
}
var lr2 = Symbol("highlighted-lines");
function Jl(t3 = {}) {
  const {
    className: e = "highlighted"
  } = t3;
  return {
    name: "@shikijs/transformers:meta-highlight",
    line(n4, r4) {
      if (!this.options.meta?.__raw)
        return;
      const o2 = this.meta;
      return o2[lr2] ??= Yl(this.options.meta.__raw), (o2[lr2] ?? []).includes(r4) && this.addClassToHast(n4, e), n4;
    }
  };
}
function Zl(t3) {
  return t3 ? Array.from(t3.matchAll(/\/((?:\\.|[^/])+)\//g)).map((n4) => n4[1].replace(/\\(.)/g, "$1")) : [];
}
function Ql(t3 = {}) {
  const {
    className: e = "highlighted-word"
  } = t3;
  return {
    name: "@shikijs/transformers:meta-word-highlight",
    preprocess(n4, r4) {
      if (!this.options.meta?.__raw)
        return;
      const o2 = Zl(this.options.meta.__raw);
      r4.decorations ||= [];
      for (const s3 of o2) {
        const a3 = eu(n4, s3);
        for (const i5 of a3)
          r4.decorations.push({
            start: i5,
            end: i5 + s3.length,
            properties: {
              class: e
            }
          });
      }
    }
  };
}
function eu(t3, e) {
  const n4 = [];
  let r4 = 0;
  for (; ; ) {
    const o2 = t3.indexOf(e, r4);
    if (o2 === -1 || o2 >= t3.length || o2 < r4)
      break;
    n4.push(o2), r4 = o2 + e.length;
  }
  return n4;
}
function Le2(t3) {
  if ([...t3].length !== 1) throw new Error(`Expected "${t3}" to be a single code point`);
  return t3.codePointAt(0);
}
function tu(t3, e, n4) {
  return t3.has(e) || t3.set(e, n4), t3.get(e);
}
var vn = /* @__PURE__ */ new Set(["alnum", "alpha", "ascii", "blank", "cntrl", "digit", "graph", "lower", "print", "punct", "space", "upper", "word", "xdigit"]);
var B3 = String.raw;
function $e2(t3, e) {
  if (t3 == null) throw new Error(e ?? "Value expected");
  return t3;
}
var $o = B3`\[\^?`;
var To = `c.? | C(?:-.?)?|${B3`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${B3`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${B3`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${B3`o\{[^\}]*\}?`}|${B3`\d{1,3}`}`;
var xn = /[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/;
var et2 = new RegExp(B3`
  \\ (?:
    ${To}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${xn.source})+
  | ${$o}
  | .
`.replace(/\s+/g, ""), "gsu");
var Ot2 = new RegExp(B3`
  \\ (?:
    ${To}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${$o}
  | &&
  | .
`.replace(/\s+/g, ""), "gsu");
function nu(t3, e = {}) {
  const n4 = { flags: "", ...e, rules: { captureGroup: false, singleline: false, ...e.rules } };
  if (typeof t3 != "string") throw new Error("String expected as pattern");
  const r4 = _u(n4.flags), o2 = [r4.extended], s3 = { captureGroup: n4.rules.captureGroup, getCurrentModX() {
    return o2.at(-1);
  }, numOpenGroups: 0, popModX() {
    o2.pop();
  }, pushModX(h3) {
    o2.push(h3);
  }, replaceCurrentModX(h3) {
    o2[o2.length - 1] = h3;
  }, singleline: n4.rules.singleline };
  let a3 = [], i5;
  for (et2.lastIndex = 0; i5 = et2.exec(t3); ) {
    const h3 = ru(s3, t3, i5[0], et2.lastIndex);
    h3.tokens ? a3.push(...h3.tokens) : h3.token && a3.push(h3.token), h3.lastIndex !== void 0 && (et2.lastIndex = h3.lastIndex);
  }
  const l3 = [];
  let u5 = 0;
  a3.filter((h3) => h3.type === "GroupOpen").forEach((h3) => {
    h3.kind === "capturing" ? h3.number = ++u5 : h3.raw === "(" && l3.push(h3);
  }), u5 || l3.forEach((h3, d2) => {
    h3.kind = "capturing", h3.number = d2 + 1;
  });
  const c6 = u5 || l3.length;
  return { tokens: a3.map((h3) => h3.type === "EscapedNumber" ? ku(h3, c6) : h3).flat(), flags: r4 };
}
function ru(t3, e, n4, r4) {
  const [o2, s3] = n4;
  if (n4 === "[" || n4 === "[^") {
    const a3 = ou(e, n4, r4);
    return { tokens: a3.tokens, lastIndex: a3.lastIndex };
  }
  if (o2 === "\\") {
    if ("AbBGyYzZ".includes(s3)) return { token: ur2(n4, n4) };
    if (/^\\g[<']/.test(n4)) {
      if (!/^\\g(?:<[^>]+>|'[^']+')$/.test(n4)) throw new Error(`Invalid group name "${n4}"`);
      return { token: du(n4) };
    }
    if (/^\\k[<']/.test(n4)) {
      if (!/^\\k(?:<[^>]+>|'[^']+')$/.test(n4)) throw new Error(`Invalid group name "${n4}"`);
      return { token: Oo(n4) };
    }
    if (s3 === "K") return { token: Do("keep", n4) };
    if (s3 === "N" || s3 === "R") return { token: ge("newline", n4, { negate: s3 === "N" }) };
    if (s3 === "O") return { token: ge("any", n4) };
    if (s3 === "X") return { token: ge("text_segment", n4) };
    const a3 = Mo(n4, { inCharClass: false });
    return Array.isArray(a3) ? { tokens: a3 } : { token: a3 };
  }
  if (o2 === "(") {
    if (s3 === "*") return { token: bu(n4) };
    if (n4 === "(?{") throw new Error(`Unsupported callout "${n4}"`);
    if (n4.startsWith("(?#")) {
      if (e[r4] !== ")") throw new Error('Unclosed comment group "(?#"');
      return { lastIndex: r4 + 1 };
    }
    if (/^\(\?[-imx]+[:)]$/.test(n4)) return { token: yu(n4, t3) };
    if (t3.pushModX(t3.getCurrentModX()), t3.numOpenGroups++, n4 === "(" && !t3.captureGroup || n4 === "(?:") return { token: Se3("group", n4) };
    if (n4 === "(?>") return { token: Se3("atomic", n4) };
    if (n4 === "(?=" || n4 === "(?!" || n4 === "(?<=" || n4 === "(?<!") return { token: Se3(n4[2] === "<" ? "lookbehind" : "lookahead", n4, { negate: n4.endsWith("!") }) };
    if (n4 === "(" && t3.captureGroup || n4.startsWith("(?<") && n4.endsWith(">") || n4.startsWith("(?'") && n4.endsWith("'")) return { token: Se3("capturing", n4, { ...n4 !== "(" && { name: n4.slice(3, -1) } }) };
    if (n4.startsWith("(?~")) {
      if (n4 === "(?~|") throw new Error(`Unsupported absence function kind "${n4}"`);
      return { token: Se3("absence_repeater", n4) };
    }
    throw n4 === "(?(" ? new Error(`Unsupported conditional "${n4}"`) : new Error(`Invalid or unsupported group option "${n4}"`);
  }
  if (n4 === ")") {
    if (t3.popModX(), t3.numOpenGroups--, t3.numOpenGroups < 0) throw new Error('Unmatched ")"');
    return { token: hu(n4) };
  }
  if (t3.getCurrentModX()) {
    if (n4 === "#") {
      const a3 = e.indexOf(`
`, r4);
      return { lastIndex: a3 === -1 ? e.length : a3 };
    }
    if (/^\s$/.test(n4)) {
      const a3 = /\s+/y;
      return a3.lastIndex = r4, { lastIndex: a3.exec(e) ? a3.lastIndex : r4 };
    }
  }
  if (n4 === ".") return { token: ge("dot", n4) };
  if (n4 === "^" || n4 === "$") {
    const a3 = t3.singleline ? { "^": B3`\A`, $: B3`\Z` }[n4] : n4;
    return { token: ur2(a3, n4) };
  }
  return n4 === "|" ? { token: au(n4) } : xn.test(n4) ? { tokens: vu(n4) } : { token: se(Le2(n4), n4) };
}
function ou(t3, e, n4) {
  const r4 = [cr2(e[1] === "^", e)];
  let o2 = 1, s3;
  for (Ot2.lastIndex = n4; s3 = Ot2.exec(t3); ) {
    const a3 = s3[0];
    if (a3[0] === "[" && a3[1] !== ":") o2++, r4.push(cr2(a3[1] === "^", a3));
    else if (a3 === "]") {
      if (r4.at(-1).type === "CharacterClassOpen") r4.push(se(93, a3));
      else if (o2--, r4.push(iu(a3)), !o2) break;
    } else {
      const i5 = su(a3);
      Array.isArray(i5) ? r4.push(...i5) : r4.push(i5);
    }
  }
  return { tokens: r4, lastIndex: Ot2.lastIndex || t3.length };
}
function su(t3) {
  if (t3[0] === "\\") return Mo(t3, { inCharClass: true });
  if (t3[0] === "[") {
    const e = /\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(t3);
    if (!e || !vn.has(e.groups.name)) throw new Error(`Invalid POSIX class "${t3}"`);
    return ge("posix", t3, { value: e.groups.name, negate: !!e.groups.negate });
  }
  return t3 === "-" ? lu(t3) : t3 === "&&" ? uu(t3) : se(Le2(t3), t3);
}
function Mo(t3, { inCharClass: e }) {
  const n4 = t3[1];
  if (n4 === "c" || n4 === "C") return mu(t3);
  if ("dDhHsSwW".includes(n4)) return wu(t3);
  if (t3.startsWith(B3`\o{`)) throw new Error(`Incomplete, invalid, or unsupported octal code point "${t3}"`);
  if (/^\\[pP]\{/.test(t3)) {
    if (t3.length === 3) throw new Error(`Incomplete or invalid Unicode property "${t3}"`);
    return Cu(t3);
  }
  if (/^\\x[89A-Fa-f]\p{AHex}/u.test(t3)) try {
    const r4 = t3.split(/\\x/).slice(1).map((a3) => parseInt(a3, 16)), o2 = new TextDecoder("utf-8", { ignoreBOM: true, fatal: true }).decode(new Uint8Array(r4)), s3 = new TextEncoder();
    return [...o2].map((a3) => {
      const i5 = [...s3.encode(a3)].map((l3) => `\\x${l3.toString(16)}`).join("");
      return se(Le2(a3), i5);
    });
  } catch {
    throw new Error(`Multibyte code "${t3}" incomplete or invalid in Oniguruma`);
  }
  if (n4 === "u" || n4 === "x") return se(Su(t3), t3);
  if (hr2.has(n4)) return se(hr2.get(n4), t3);
  if (/\d/.test(n4)) return cu(e, t3);
  if (t3 === "\\") throw new Error(B3`Incomplete escape "\"`);
  if (n4 === "M") throw new Error(`Unsupported meta "${t3}"`);
  if ([...t3].length === 2) return se(t3.codePointAt(1), t3);
  throw new Error(`Unexpected escape "${t3}"`);
}
function au(t3) {
  return { type: "Alternator", raw: t3 };
}
function ur2(t3, e) {
  return { type: "Assertion", kind: t3, raw: e };
}
function Oo(t3) {
  return { type: "Backreference", raw: t3 };
}
function se(t3, e) {
  return { type: "Character", value: t3, raw: e };
}
function iu(t3) {
  return { type: "CharacterClassClose", raw: t3 };
}
function lu(t3) {
  return { type: "CharacterClassHyphen", raw: t3 };
}
function uu(t3) {
  return { type: "CharacterClassIntersector", raw: t3 };
}
function cr2(t3, e) {
  return { type: "CharacterClassOpen", negate: t3, raw: e };
}
function ge(t3, e, n4 = {}) {
  return { type: "CharacterSet", kind: t3, ...n4, raw: e };
}
function Do(t3, e, n4 = {}) {
  return t3 === "keep" ? { type: "Directive", kind: t3, raw: e } : { type: "Directive", kind: t3, flags: $e2(n4.flags), raw: e };
}
function cu(t3, e) {
  return { type: "EscapedNumber", inCharClass: t3, raw: e };
}
function hu(t3) {
  return { type: "GroupClose", raw: t3 };
}
function Se3(t3, e, n4 = {}) {
  return { type: "GroupOpen", kind: t3, ...n4, raw: e };
}
function pu(t3, e, n4, r4) {
  return { type: "NamedCallout", kind: t3, tag: e, arguments: n4, raw: r4 };
}
function fu(t3, e, n4, r4) {
  return { type: "Quantifier", kind: t3, min: e, max: n4, raw: r4 };
}
function du(t3) {
  return { type: "Subroutine", raw: t3 };
}
var gu = /* @__PURE__ */ new Set(["COUNT", "CMP", "ERROR", "FAIL", "MAX", "MISMATCH", "SKIP", "TOTAL_COUNT"]);
var hr2 = /* @__PURE__ */ new Map([["a", 7], ["b", 8], ["e", 27], ["f", 12], ["n", 10], ["r", 13], ["t", 9], ["v", 11]]);
function mu(t3) {
  const e = t3[1] === "c" ? t3[2] : t3[3];
  if (!e || !/[A-Za-z]/.test(e)) throw new Error(`Unsupported control character "${t3}"`);
  return se(Le2(e.toUpperCase()) - 64, t3);
}
function yu(t3, e) {
  let { on: n4, off: r4 } = /^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(t3).groups;
  r4 ??= "";
  const o2 = (e.getCurrentModX() || n4.includes("x")) && !r4.includes("x"), s3 = fr(n4), a3 = fr(r4), i5 = {};
  if (s3 && (i5.enable = s3), a3 && (i5.disable = a3), t3.endsWith(")")) return e.replaceCurrentModX(o2), Do("flags", t3, { flags: i5 });
  if (t3.endsWith(":")) return e.pushModX(o2), e.numOpenGroups++, Se3("group", t3, { ...(s3 || a3) && { flags: i5 } });
  throw new Error(`Unexpected flag modifier "${t3}"`);
}
function bu(t3) {
  const e = /\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(t3);
  if (!e) throw new Error(`Incomplete or invalid named callout "${t3}"`);
  const { name: n4, tag: r4, args: o2 } = e.groups;
  if (!n4) throw new Error(`Invalid named callout "${t3}"`);
  if (r4 === "") throw new Error(`Named callout tag with empty value not allowed "${t3}"`);
  const s3 = o2 ? o2.split(",").filter((c6) => c6 !== "").map((c6) => /^[+-]?\d+$/.test(c6) ? +c6 : c6) : [], [a3, i5, l3] = s3, u5 = gu.has(n4) ? n4.toLowerCase() : "custom";
  switch (u5) {
    case "fail":
    case "mismatch":
    case "skip":
      if (s3.length > 0) throw new Error(`Named callout arguments not allowed "${s3}"`);
      break;
    case "error":
      if (s3.length > 1) throw new Error(`Named callout allows only one argument "${s3}"`);
      if (typeof a3 == "string") throw new Error(`Named callout argument must be a number "${a3}"`);
      break;
    case "max":
      if (!s3.length || s3.length > 2) throw new Error(`Named callout must have one or two arguments "${s3}"`);
      if (typeof a3 == "string" && !/^[A-Za-z_]\w*$/.test(a3)) throw new Error(`Named callout argument one must be a tag or number "${a3}"`);
      if (s3.length === 2 && (typeof i5 == "number" || !/^[<>X]$/.test(i5))) throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${i5}"`);
      break;
    case "count":
    case "total_count":
      if (s3.length > 1) throw new Error(`Named callout allows only one argument "${s3}"`);
      if (s3.length === 1 && (typeof a3 == "number" || !/^[<>X]$/.test(a3))) throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${a3}"`);
      break;
    case "cmp":
      if (s3.length !== 3) throw new Error(`Named callout must have three arguments "${s3}"`);
      if (typeof a3 == "string" && !/^[A-Za-z_]\w*$/.test(a3)) throw new Error(`Named callout argument one must be a tag or number "${a3}"`);
      if (typeof i5 == "number" || !/^(?:[<>!=]=|[<>])$/.test(i5)) throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${i5}"`);
      if (typeof l3 == "string" && !/^[A-Za-z_]\w*$/.test(l3)) throw new Error(`Named callout argument three must be a tag or number "${l3}"`);
      break;
    case "custom":
      throw new Error(`Undefined callout name "${n4}"`);
    default:
      throw new Error(`Unexpected named callout kind "${u5}"`);
  }
  return pu(u5, r4 ?? null, o2?.split(",") ?? null, t3);
}
function pr(t3) {
  let e = null, n4, r4;
  if (t3[0] === "{") {
    const { minStr: o2, maxStr: s3 } = /^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(t3).groups, a3 = 1e5;
    if (+o2 > a3 || s3 && +s3 > a3) throw new Error("Quantifier value unsupported in Oniguruma");
    if (n4 = +o2, r4 = s3 === void 0 ? +o2 : s3 === "" ? 1 / 0 : +s3, n4 > r4 && (e = "possessive", [n4, r4] = [r4, n4]), t3.endsWith("?")) {
      if (e === "possessive") throw new Error('Unsupported possessive interval quantifier chain with "?"');
      e = "lazy";
    } else e || (e = "greedy");
  } else n4 = t3[0] === "+" ? 1 : 0, r4 = t3[0] === "?" ? 1 : 1 / 0, e = t3[1] === "+" ? "possessive" : t3[1] === "?" ? "lazy" : "greedy";
  return fu(e, n4, r4, t3);
}
function wu(t3) {
  const e = t3[1].toLowerCase();
  return ge({ d: "digit", h: "hex", s: "space", w: "word" }[e], t3, { negate: t3[1] !== e });
}
function Cu(t3) {
  const { p: e, neg: n4, value: r4 } = /^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(t3).groups;
  return ge("property", t3, { value: r4, negate: e === "P" && !n4 || e === "p" && !!n4 });
}
function fr(t3) {
  const e = {};
  return t3.includes("i") && (e.ignoreCase = true), t3.includes("m") && (e.dotAll = true), t3.includes("x") && (e.extended = true), Object.keys(e).length ? e : null;
}
function _u(t3) {
  const e = { ignoreCase: false, dotAll: false, extended: false, digitIsAscii: false, posixIsAscii: false, spaceIsAscii: false, wordIsAscii: false, textSegmentMode: null };
  for (let n4 = 0; n4 < t3.length; n4++) {
    const r4 = t3[n4];
    if (!"imxDPSWy".includes(r4)) throw new Error(`Invalid flag "${r4}"`);
    if (r4 === "y") {
      if (!/^y{[gw]}/.test(t3.slice(n4))) throw new Error('Invalid or unspecified flag "y" mode');
      e.textSegmentMode = t3[n4 + 2] === "g" ? "grapheme" : "word", n4 += 3;
      continue;
    }
    e[{ i: "ignoreCase", m: "dotAll", x: "extended", D: "digitIsAscii", P: "posixIsAscii", S: "spaceIsAscii", W: "wordIsAscii" }[r4]] = true;
  }
  return e;
}
function Su(t3) {
  if (/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(t3)) throw new Error(`Incomplete or invalid escape "${t3}"`);
  const e = t3[2] === "{" ? /^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(t3).groups.hex : t3.slice(2);
  return parseInt(e, 16);
}
function ku(t3, e) {
  const { raw: n4, inCharClass: r4 } = t3, o2 = n4.slice(1);
  if (!r4 && (o2 !== "0" && o2.length === 1 || o2[0] !== "0" && +o2 <= e)) return [Oo(n4)];
  const s3 = [], a3 = o2.match(/^[0-7]+|\d/g);
  for (let i5 = 0; i5 < a3.length; i5++) {
    const l3 = a3[i5];
    let u5;
    if (i5 === 0 && l3 !== "8" && l3 !== "9") {
      if (u5 = parseInt(l3, 8), u5 > 127) throw new Error(B3`Octal encoded byte above 177 unsupported "${n4}"`);
    } else u5 = Le2(l3);
    s3.push(se(u5, (i5 === 0 ? "\\" : "") + l3));
  }
  return s3;
}
function vu(t3) {
  const e = [], n4 = new RegExp(xn, "gy");
  let r4;
  for (; r4 = n4.exec(t3); ) {
    const o2 = r4[0];
    if (o2[0] === "{") {
      const s3 = /^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(o2);
      if (s3) {
        const { min: a3, max: i5 } = s3.groups;
        if (+a3 > +i5 && o2.endsWith("?")) {
          n4.lastIndex--, e.push(pr(o2.slice(0, -1)));
          continue;
        }
      }
    }
    e.push(pr(o2));
  }
  return e;
}
function Go(t3, e) {
  if (!Array.isArray(t3.body)) throw new Error("Expected node with body array");
  if (t3.body.length !== 1) return false;
  const n4 = t3.body[0];
  return !e || Object.keys(e).every((r4) => e[r4] === n4[r4]);
}
function xu(t3) {
  return Eu.has(t3.type);
}
var Eu = /* @__PURE__ */ new Set(["AbsenceFunction", "Backreference", "CapturingGroup", "Character", "CharacterClass", "CharacterSet", "Group", "Quantifier", "Subroutine"]);
function Fo(t3, e = {}) {
  const n4 = { flags: "", normalizeUnknownPropertyNames: false, skipBackrefValidation: false, skipLookbehindValidation: false, skipPropertyNameValidation: false, unicodePropertyMap: null, ...e, rules: { captureGroup: false, singleline: false, ...e.rules } }, r4 = nu(t3, { flags: n4.flags, rules: { captureGroup: n4.rules.captureGroup, singleline: n4.rules.singleline } }), o2 = (d2, f8) => {
    const p3 = r4.tokens[s3.nextIndex];
    switch (s3.parent = d2, s3.nextIndex++, p3.type) {
      case "Alternator":
        return me();
      case "Assertion":
        return Au(p3);
      case "Backreference":
        return Ru(p3, s3);
      case "Character":
        return vt2(p3.value, { useLastValid: !!f8.isCheckingRangeEnd });
      case "CharacterClassHyphen":
        return Iu(p3, s3, f8);
      case "CharacterClassOpen":
        return Nu(p3, s3, f8);
      case "CharacterSet":
        return Pu(p3, s3);
      case "Directive":
        return Du(p3.kind, { flags: p3.flags });
      case "GroupOpen":
        return Lu(p3, s3, f8);
      case "NamedCallout":
        return Fu(p3.kind, p3.tag, p3.arguments);
      case "Quantifier":
        return $u(p3, s3);
      case "Subroutine":
        return Tu(p3, s3);
      default:
        throw new Error(`Unexpected token type "${p3.type}"`);
    }
  }, s3 = { capturingGroups: [], hasNumberedRef: false, namedGroupsByName: /* @__PURE__ */ new Map(), nextIndex: 0, normalizeUnknownPropertyNames: n4.normalizeUnknownPropertyNames, parent: null, skipBackrefValidation: n4.skipBackrefValidation, skipLookbehindValidation: n4.skipLookbehindValidation, skipPropertyNameValidation: n4.skipPropertyNameValidation, subroutines: [], tokens: r4.tokens, unicodePropertyMap: n4.unicodePropertyMap, walk: o2 }, a3 = ju(Gu(r4.flags));
  let i5 = a3.body[0];
  for (; s3.nextIndex < r4.tokens.length; ) {
    const d2 = o2(i5, {});
    d2.type === "Alternative" ? (a3.body.push(d2), i5 = d2) : i5.body.push(d2);
  }
  const { capturingGroups: l3, hasNumberedRef: u5, namedGroupsByName: c6, subroutines: h3 } = s3;
  if (u5 && c6.size && !n4.rules.captureGroup) throw new Error("Numbered backref/subroutine not allowed when using named capture");
  for (const { ref: d2 } of h3) if (typeof d2 == "number") {
    if (d2 > l3.length) throw new Error("Subroutine uses a group number that's not defined");
    d2 && (l3[d2 - 1].isSubroutined = true);
  } else if (c6.has(d2)) {
    if (c6.get(d2).length > 1) throw new Error(B3`Subroutine uses a duplicate group name "\g<${d2}>"`);
    c6.get(d2)[0].isSubroutined = true;
  } else throw new Error(B3`Subroutine uses a group name that's not defined "\g<${d2}>"`);
  return a3;
}
function Au({ kind: t3 }) {
  return on($e2({ "^": "line_start", $: "line_end", "\\A": "string_start", "\\b": "word_boundary", "\\B": "word_boundary", "\\G": "search_start", "\\y": "text_segment_boundary", "\\Y": "text_segment_boundary", "\\z": "string_end", "\\Z": "string_end_newline" }[t3], `Unexpected assertion kind "${t3}"`), { negate: t3 === B3`\B` || t3 === B3`\Y` });
}
function Ru({ raw: t3 }, e) {
  const n4 = /^\\k[<']/.test(t3), r4 = n4 ? t3.slice(3, -1) : t3.slice(1), o2 = (s3, a3 = false) => {
    const i5 = e.capturingGroups.length;
    let l3 = false;
    if (s3 > i5) if (e.skipBackrefValidation) l3 = true;
    else throw new Error(`Not enough capturing groups defined to the left "${t3}"`);
    return e.hasNumberedRef = true, sn(a3 ? i5 + 1 - s3 : s3, { orphan: l3 });
  };
  if (n4) {
    const s3 = /^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(r4);
    if (s3) return o2(+s3.groups.num, !!s3.groups.sign);
    if (/[-+]/.test(r4)) throw new Error(`Invalid backref name "${t3}"`);
    if (!e.namedGroupsByName.has(r4)) throw new Error(`Group name not defined to the left "${t3}"`);
    return sn(r4);
  }
  return o2(+r4);
}
function Iu(t3, e, n4) {
  const { tokens: r4, walk: o2 } = e, s3 = e.parent, a3 = s3.body.at(-1), i5 = r4[e.nextIndex];
  if (!n4.isCheckingRangeEnd && a3 && a3.type !== "CharacterClass" && a3.type !== "CharacterClassRange" && i5 && i5.type !== "CharacterClassOpen" && i5.type !== "CharacterClassClose" && i5.type !== "CharacterClassIntersector") {
    const l3 = o2(s3, { ...n4, isCheckingRangeEnd: true });
    if (a3.type === "Character" && l3.type === "Character") return s3.body.pop(), Ou(a3, l3);
    throw new Error("Invalid character class range");
  }
  return vt2(Le2("-"));
}
function Nu({ negate: t3 }, e, n4) {
  const { tokens: r4, walk: o2 } = e, s3 = r4[e.nextIndex], a3 = [st2()];
  let i5 = mr2(s3);
  for (; i5.type !== "CharacterClassClose"; ) {
    if (i5.type === "CharacterClassIntersector") a3.push(st2()), e.nextIndex++;
    else {
      const u5 = a3.at(-1);
      u5.body.push(o2(u5, n4));
    }
    i5 = mr2(r4[e.nextIndex], s3);
  }
  const l3 = st2({ negate: t3 });
  return a3.length === 1 ? l3.body = a3[0].body : (l3.kind = "intersection", l3.body = a3.map((u5) => u5.body.length === 1 ? u5.body[0] : u5)), e.nextIndex++, l3;
}
function Pu({ kind: t3, negate: e, value: n4 }, r4) {
  const { normalizeUnknownPropertyNames: o2, skipPropertyNameValidation: s3, unicodePropertyMap: a3 } = r4;
  if (t3 === "property") {
    const i5 = xt2(n4);
    if (vn.has(i5) && !a3?.has(i5)) t3 = "posix", n4 = i5;
    else return ke3(n4, { negate: e, normalizeUnknownPropertyNames: o2, skipPropertyNameValidation: s3, unicodePropertyMap: a3 });
  }
  return t3 === "posix" ? Bu(n4, { negate: e }) : an(t3, { negate: e });
}
function Lu(t3, e, n4) {
  const { tokens: r4, capturingGroups: o2, namedGroupsByName: s3, skipLookbehindValidation: a3, walk: i5 } = e, l3 = Uu(t3), u5 = l3.type === "AbsenceFunction", c6 = gr(l3), h3 = c6 && l3.negate;
  if (l3.type === "CapturingGroup" && (o2.push(l3), l3.name && tu(s3, l3.name, []).push(l3)), u5 && n4.isInAbsenceFunction) throw new Error("Nested absence function not supported by Oniguruma");
  let d2 = yr(r4[e.nextIndex]);
  for (; d2.type !== "GroupClose"; ) {
    if (d2.type === "Alternator") l3.body.push(me()), e.nextIndex++;
    else {
      const f8 = l3.body.at(-1), p3 = i5(f8, { ...n4, isInAbsenceFunction: n4.isInAbsenceFunction || u5, isInLookbehind: n4.isInLookbehind || c6, isInNegLookbehind: n4.isInNegLookbehind || h3 });
      if (f8.body.push(p3), (c6 || n4.isInLookbehind) && !a3) {
        const m3 = "Lookbehind includes a pattern not allowed by Oniguruma";
        if (h3 || n4.isInNegLookbehind) {
          if (dr2(p3) || p3.type === "CapturingGroup") throw new Error(m3);
        } else if (dr2(p3) || gr(p3) && p3.negate) throw new Error(m3);
      }
    }
    d2 = yr(r4[e.nextIndex]);
  }
  return e.nextIndex++, l3;
}
function $u({ kind: t3, min: e, max: n4 }, r4) {
  const o2 = r4.parent, s3 = o2.body.at(-1);
  if (!s3 || !xu(s3)) throw new Error("Quantifier requires a repeatable token");
  const a3 = jo(t3, e, n4, s3);
  return o2.body.pop(), a3;
}
function Tu({ raw: t3 }, e) {
  const { capturingGroups: n4, subroutines: r4 } = e;
  let o2 = t3.slice(3, -1);
  const s3 = /^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(o2);
  if (s3) {
    const i5 = +s3.groups.num, l3 = n4.length;
    if (e.hasNumberedRef = true, o2 = { "": i5, "+": l3 + i5, "-": l3 + 1 - i5 }[s3.groups.sign], o2 < 1) throw new Error("Invalid subroutine number");
  } else o2 === "0" && (o2 = 0);
  const a3 = Uo(o2);
  return r4.push(a3), a3;
}
function Mu(t3, e) {
  return { type: "AbsenceFunction", kind: t3, body: Ye2(e?.body) };
}
function me(t3) {
  return { type: "Alternative", body: zo(t3?.body) };
}
function on(t3, e) {
  const n4 = { type: "Assertion", kind: t3 };
  return (t3 === "word_boundary" || t3 === "text_segment_boundary") && (n4.negate = !!e?.negate), n4;
}
function sn(t3, e) {
  const n4 = !!e?.orphan;
  return { type: "Backreference", ref: t3, ...n4 && { orphan: n4 } };
}
function Bo(t3, e) {
  const n4 = { name: void 0, isSubroutined: false, ...e };
  if (n4.name !== void 0 && !zu(n4.name)) throw new Error(`Group name "${n4.name}" invalid in Oniguruma`);
  return { type: "CapturingGroup", number: t3, ...n4.name && { name: n4.name }, ...n4.isSubroutined && { isSubroutined: n4.isSubroutined }, body: Ye2(e?.body) };
}
function vt2(t3, e) {
  const n4 = { useLastValid: false, ...e };
  if (t3 > 1114111) {
    const r4 = t3.toString(16);
    if (n4.useLastValid) t3 = 1114111;
    else throw t3 > 1310719 ? new Error(`Invalid code point out of range "\\x{${r4}}"`) : new Error(`Invalid code point out of range in JS "\\x{${r4}}"`);
  }
  return { type: "Character", value: t3 };
}
function st2(t3) {
  const e = { kind: "union", negate: false, ...t3 };
  return { type: "CharacterClass", kind: e.kind, negate: e.negate, body: zo(t3?.body) };
}
function Ou(t3, e) {
  if (e.value < t3.value) throw new Error("Character class range out of order");
  return { type: "CharacterClassRange", min: t3, max: e };
}
function an(t3, e) {
  const n4 = !!e?.negate, r4 = { type: "CharacterSet", kind: t3 };
  return (t3 === "digit" || t3 === "hex" || t3 === "newline" || t3 === "space" || t3 === "word") && (r4.negate = n4), (t3 === "text_segment" || t3 === "newline" && !n4) && (r4.variableLength = true), r4;
}
function Du(t3, e = {}) {
  if (t3 === "keep") return { type: "Directive", kind: t3 };
  if (t3 === "flags") return { type: "Directive", kind: t3, flags: $e2(e.flags) };
  throw new Error(`Unexpected directive kind "${t3}"`);
}
function Gu(t3) {
  return { type: "Flags", ...t3 };
}
function Q4(t3) {
  const e = t3?.atomic, n4 = t3?.flags;
  if (e && n4) throw new Error("Atomic group cannot have flags");
  return { type: "Group", ...e && { atomic: e }, ...n4 && { flags: n4 }, body: Ye2(t3?.body) };
}
function fe(t3) {
  const e = { behind: false, negate: false, ...t3 };
  return { type: "LookaroundAssertion", kind: e.behind ? "lookbehind" : "lookahead", negate: e.negate, body: Ye2(t3?.body) };
}
function Fu(t3, e, n4) {
  return { type: "NamedCallout", kind: t3, tag: e, arguments: n4 };
}
function Bu(t3, e) {
  const n4 = !!e?.negate;
  if (!vn.has(t3)) throw new Error(`Invalid POSIX class "${t3}"`);
  return { type: "CharacterSet", kind: "posix", value: t3, negate: n4 };
}
function jo(t3, e, n4, r4) {
  if (e > n4) throw new Error("Invalid reversed quantifier range");
  return { type: "Quantifier", kind: t3, min: e, max: n4, body: r4 };
}
function ju(t3, e) {
  return { type: "Regex", body: Ye2(e?.body), flags: t3 };
}
function Uo(t3) {
  return { type: "Subroutine", ref: t3 };
}
function ke3(t3, e) {
  const n4 = { negate: false, normalizeUnknownPropertyNames: false, skipPropertyNameValidation: false, unicodePropertyMap: null, ...e };
  let r4 = n4.unicodePropertyMap?.get(xt2(t3));
  if (!r4) {
    if (n4.normalizeUnknownPropertyNames) r4 = Hu(t3);
    else if (n4.unicodePropertyMap && !n4.skipPropertyNameValidation) throw new Error(B3`Invalid Unicode property "\p{${t3}}"`);
  }
  return { type: "CharacterSet", kind: "property", value: r4 ?? t3, negate: n4.negate };
}
function Uu({ flags: t3, kind: e, name: n4, negate: r4, number: o2 }) {
  switch (e) {
    case "absence_repeater":
      return Mu("repeater");
    case "atomic":
      return Q4({ atomic: true });
    case "capturing":
      return Bo(o2, { name: n4 });
    case "group":
      return Q4({ flags: t3 });
    case "lookahead":
    case "lookbehind":
      return fe({ behind: e === "lookbehind", negate: r4 });
    default:
      throw new Error(`Unexpected group kind "${e}"`);
  }
}
function Ye2(t3) {
  if (t3 === void 0) t3 = [me()];
  else if (!Array.isArray(t3) || !t3.length || !t3.every((e) => e.type === "Alternative")) throw new Error("Invalid body; expected array of one or more Alternative nodes");
  return t3;
}
function zo(t3) {
  if (t3 === void 0) t3 = [];
  else if (!Array.isArray(t3) || !t3.every((e) => !!e.type)) throw new Error("Invalid body; expected array of nodes");
  return t3;
}
function dr2(t3) {
  return t3.type === "LookaroundAssertion" && t3.kind === "lookahead";
}
function gr(t3) {
  return t3.type === "LookaroundAssertion" && t3.kind === "lookbehind";
}
function zu(t3) {
  return /^[\p{Alpha}\p{Pc}][^)]*$/u.test(t3);
}
function Hu(t3) {
  return t3.trim().replace(/[- _]+/g, "_").replace(/[A-Z][a-z]+(?=[A-Z])/g, "$&_").replace(/[A-Za-z]+/g, (e) => e[0].toUpperCase() + e.slice(1).toLowerCase());
}
function xt2(t3) {
  return t3.replace(/[- _]+/g, "").toLowerCase();
}
function mr2(t3, e) {
  return $e2(t3, `${e?.type === "Character" && e.value === 93 ? "Empty" : "Unclosed"} character class`);
}
function yr(t3) {
  return $e2(t3, "Unclosed group");
}
function Be2(t3, e, n4 = null) {
  function r4(s3, a3) {
    for (let i5 = 0; i5 < s3.length; i5++) {
      const l3 = o2(s3[i5], a3, i5, s3);
      i5 = Math.max(-1, i5 + l3);
    }
  }
  function o2(s3, a3 = null, i5 = null, l3 = null) {
    let u5 = 0, c6 = false;
    const h3 = { node: s3, parent: a3, key: i5, container: l3, root: t3, remove() {
      tt(l3).splice(Math.max(0, Ce3(i5) + u5), 1), u5--, c6 = true;
    }, removeAllNextSiblings() {
      return tt(l3).splice(Ce3(i5) + 1);
    }, removeAllPrevSiblings() {
      const C5 = Ce3(i5) + u5;
      return u5 -= C5, tt(l3).splice(0, Math.max(0, C5));
    }, replaceWith(C5, y4 = {}) {
      const _5 = !!y4.traverse;
      l3 ? l3[Math.max(0, Ce3(i5) + u5)] = C5 : $e2(a3, "Can't replace root node")[i5] = C5, _5 && o2(C5, a3, i5, l3), c6 = true;
    }, replaceWithMultiple(C5, y4 = {}) {
      const _5 = !!y4.traverse;
      if (tt(l3).splice(Math.max(0, Ce3(i5) + u5), 1, ...C5), u5 += C5.length - 1, _5) {
        let S4 = 0;
        for (let A3 = 0; A3 < C5.length; A3++) S4 += o2(C5[A3], a3, Ce3(i5) + A3 + S4, l3);
      }
      c6 = true;
    }, skip() {
      c6 = true;
    } }, { type: d2 } = s3, f8 = e["*"], p3 = e[d2], m3 = typeof f8 == "function" ? f8 : f8?.enter, g6 = typeof p3 == "function" ? p3 : p3?.enter;
    if (m3?.(h3, n4), g6?.(h3, n4), !c6) switch (d2) {
      case "AbsenceFunction":
      case "CapturingGroup":
      case "Group":
        r4(s3.body, s3);
        break;
      case "Alternative":
      case "CharacterClass":
        r4(s3.body, s3);
        break;
      case "Assertion":
      case "Backreference":
      case "Character":
      case "CharacterSet":
      case "Directive":
      case "Flags":
      case "NamedCallout":
      case "Subroutine":
        break;
      case "CharacterClassRange":
        o2(s3.min, s3, "min"), o2(s3.max, s3, "max");
        break;
      case "LookaroundAssertion":
        r4(s3.body, s3);
        break;
      case "Quantifier":
        o2(s3.body, s3, "body");
        break;
      case "Regex":
        r4(s3.body, s3), o2(s3.flags, s3, "flags");
        break;
      default:
        throw new Error(`Unexpected node type "${d2}"`);
    }
    return p3?.exit?.(h3, n4), f8?.exit?.(h3, n4), u5;
  }
  return o2(t3), t3;
}
function tt(t3) {
  if (!Array.isArray(t3)) throw new Error("Container expected");
  return t3;
}
function Ce3(t3) {
  if (typeof t3 != "number") throw new Error("Numeric key expected");
  return t3;
}
var Wu = String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;
function qu(t3, e) {
  for (let n4 = 0; n4 < t3.length; n4++)
    t3[n4] >= e && t3[n4]++;
}
function Vu(t3, e, n4, r4) {
  return t3.slice(0, e) + r4 + t3.slice(e + n4.length);
}
var J4 = Object.freeze({
  DEFAULT: "DEFAULT",
  CHAR_CLASS: "CHAR_CLASS"
});
function En(t3, e, n4, r4) {
  const o2 = new RegExp(String.raw`${e}|(?<$skip>\[\^?|\\?.)`, "gsu"), s3 = [false];
  let a3 = 0, i5 = "";
  for (const l3 of t3.matchAll(o2)) {
    const { 0: u5, groups: { $skip: c6 } } = l3;
    if (!c6 && (!r4 || r4 === J4.DEFAULT == !a3)) {
      n4 instanceof Function ? i5 += n4(l3, {
        context: a3 ? J4.CHAR_CLASS : J4.DEFAULT,
        negated: s3[s3.length - 1]
      }) : i5 += n4;
      continue;
    }
    u5[0] === "[" ? (a3++, s3.push(u5[1] === "^")) : u5 === "]" && a3 && (a3--, s3.pop()), i5 += u5;
  }
  return i5;
}
function Ho(t3, e, n4, r4) {
  En(t3, e, n4, r4);
}
function Xu(t3, e, n4 = 0, r4) {
  if (!new RegExp(e, "su").test(t3))
    return null;
  const o2 = new RegExp(`${e}|(?<$skip>\\\\?.)`, "gsu");
  o2.lastIndex = n4;
  let s3 = 0, a3;
  for (; a3 = o2.exec(t3); ) {
    const { 0: i5, groups: { $skip: l3 } } = a3;
    if (!l3 && (!r4 || r4 === J4.DEFAULT == !s3))
      return a3;
    i5 === "[" ? s3++ : i5 === "]" && s3 && s3--, o2.lastIndex == a3.index && o2.lastIndex++;
  }
  return null;
}
function nt(t3, e, n4) {
  return !!Xu(t3, e, 0, n4);
}
function Ku(t3, e) {
  const n4 = /\\?./gsu;
  n4.lastIndex = e;
  let r4 = t3.length, o2 = 0, s3 = 1, a3;
  for (; a3 = n4.exec(t3); ) {
    const [i5] = a3;
    if (i5 === "[")
      o2++;
    else if (o2)
      i5 === "]" && o2--;
    else if (i5 === "(")
      s3++;
    else if (i5 === ")" && (s3--, !s3)) {
      r4 = a3.index;
      break;
    }
  }
  return t3.slice(e, r4);
}
var br = new RegExp(String.raw`(?<noncapturingStart>${Wu})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`, "gsu");
function Yu(t3, e) {
  const n4 = e?.hiddenCaptures ?? [];
  let r4 = e?.captureTransfers ?? /* @__PURE__ */ new Map();
  if (!/\(\?>/.test(t3))
    return {
      pattern: t3,
      captureTransfers: r4,
      hiddenCaptures: n4
    };
  const o2 = "(?>", s3 = "(?:(?=(", a3 = [0], i5 = [];
  let l3 = 0, u5 = 0, c6 = NaN, h3;
  do {
    h3 = false;
    let d2 = 0, f8 = 0, p3 = false, m3;
    for (br.lastIndex = Number.isNaN(c6) ? 0 : c6 + s3.length; m3 = br.exec(t3); ) {
      const { 0: g6, index: C5, groups: { capturingStart: y4, noncapturingStart: _5 } } = m3;
      if (g6 === "[")
        d2++;
      else if (d2)
        g6 === "]" && d2--;
      else if (g6 === o2 && !p3)
        c6 = C5, p3 = true;
      else if (p3 && _5)
        f8++;
      else if (y4)
        p3 ? f8++ : (l3++, a3.push(l3 + u5));
      else if (g6 === ")" && p3) {
        if (!f8) {
          u5++;
          const S4 = l3 + u5;
          if (t3 = `${t3.slice(0, c6)}${s3}${t3.slice(c6 + o2.length, C5)}))<$$${S4}>)${t3.slice(C5 + 1)}`, h3 = true, i5.push(S4), qu(n4, S4), r4.size) {
            const A3 = /* @__PURE__ */ new Map();
            r4.forEach((D3, P3) => {
              A3.set(
                P3 >= S4 ? P3 + 1 : P3,
                D3.map((j7) => j7 >= S4 ? j7 + 1 : j7)
              );
            }), r4 = A3;
          }
          break;
        }
        f8--;
      }
    }
  } while (h3);
  return n4.push(...i5), t3 = En(
    t3,
    String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,
    ({ 0: d2, groups: { backrefNum: f8, wrappedBackrefNum: p3 } }) => {
      if (f8) {
        const m3 = +f8;
        if (m3 > a3.length - 1)
          throw new Error(`Backref "${d2}" greater than number of captures`);
        return `\\${a3[m3]}`;
      }
      return `\\${p3}`;
    },
    J4.DEFAULT
  ), {
    pattern: t3,
    captureTransfers: r4,
    hiddenCaptures: n4
  };
}
var Wo = String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`;
var Dt = new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${Wo})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g, ""), "gsu");
function Ju(t3) {
  if (!new RegExp(`${Wo}\\+`).test(t3))
    return {
      pattern: t3
    };
  const e = [];
  let n4 = null, r4 = null, o2 = "", s3 = 0, a3;
  for (Dt.lastIndex = 0; a3 = Dt.exec(t3); ) {
    const { 0: i5, index: l3, groups: { qBase: u5, qMod: c6, invalidQ: h3 } } = a3;
    if (i5 === "[")
      s3 || (r4 = l3), s3++;
    else if (i5 === "]")
      s3 ? s3-- : r4 = null;
    else if (!s3)
      if (c6 === "+" && o2 && !o2.startsWith("(")) {
        if (h3)
          throw new Error(`Invalid quantifier "${i5}"`);
        let d2 = -1;
        if (/^\{\d+\}$/.test(u5))
          t3 = Vu(t3, l3 + u5.length, c6, "");
        else {
          if (o2 === ")" || o2 === "]") {
            const f8 = o2 === ")" ? n4 : r4;
            if (f8 === null)
              throw new Error(`Invalid unmatched "${o2}"`);
            t3 = `${t3.slice(0, f8)}(?>${t3.slice(f8, l3)}${u5})${t3.slice(l3 + i5.length)}`;
          } else
            t3 = `${t3.slice(0, l3 - o2.length)}(?>${o2}${u5})${t3.slice(l3 + i5.length)}`;
          d2 += 4;
        }
        Dt.lastIndex += d2;
      } else i5[0] === "(" ? e.push(l3) : i5 === ")" && (n4 = e.length ? e.pop() : null);
    o2 = i5;
  }
  return {
    pattern: t3
  };
}
var Y3 = String.raw;
var Zu = Y3`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`;
var ln = Y3`\(\?R=(?<rDepth>[^\)]+)\)|${Zu}`;
var Et = Y3`\(\?<(?![=!])(?<captureName>[^>]+)>`;
var qo = Y3`${Et}|(?<unnamed>\()(?!\?)`;
var he = new RegExp(Y3`${Et}|${ln}|\(\?|\\?.`, "gsu");
var Gt = "Cannot use multiple overlapping recursions";
function Qu(t3, e) {
  const { hiddenCaptures: n4, mode: r4 } = {
    hiddenCaptures: [],
    mode: "plugin",
    ...e
  };
  let o2 = e?.captureTransfers ?? /* @__PURE__ */ new Map();
  if (!new RegExp(ln, "su").test(t3))
    return {
      pattern: t3,
      captureTransfers: o2,
      hiddenCaptures: n4
    };
  if (r4 === "plugin" && nt(t3, Y3`\(\?\(DEFINE\)`, J4.DEFAULT))
    throw new Error("DEFINE groups cannot be used with recursion");
  const s3 = [], a3 = nt(t3, Y3`\\[1-9]`, J4.DEFAULT), i5 = /* @__PURE__ */ new Map(), l3 = [];
  let u5 = false, c6 = 0, h3 = 0, d2;
  for (he.lastIndex = 0; d2 = he.exec(t3); ) {
    const { 0: f8, groups: { captureName: p3, rDepth: m3, gRNameOrNum: g6, gRDepth: C5 } } = d2;
    if (f8 === "[")
      c6++;
    else if (c6)
      f8 === "]" && c6--;
    else if (m3) {
      if (wr(m3), u5)
        throw new Error(Gt);
      if (a3)
        throw new Error(
          // When used in `external` mode by transpilers other than Regex+, backrefs might have
          // gone through conversion from named to numbered, so avoid a misleading error
          `${r4 === "external" ? "Backrefs" : "Numbered backrefs"} cannot be used with global recursion`
        );
      const y4 = t3.slice(0, d2.index), _5 = t3.slice(he.lastIndex);
      if (nt(_5, ln, J4.DEFAULT))
        throw new Error(Gt);
      const S4 = +m3 - 1;
      t3 = Cr(
        y4,
        _5,
        S4,
        false,
        n4,
        s3,
        h3
      ), o2 = Sr(
        o2,
        y4,
        S4,
        s3.length,
        0,
        h3
      );
      break;
    } else if (g6) {
      wr(C5);
      let y4 = false;
      for (const te4 of l3)
        if (te4.name === g6 || te4.num === +g6) {
          if (y4 = true, te4.hasRecursedWithin)
            throw new Error(Gt);
          break;
        }
      if (!y4)
        throw new Error(Y3`Recursive \g cannot be used outside the referenced group "${r4 === "external" ? g6 : Y3`\g<${g6}&R=${C5}>`}"`);
      const _5 = i5.get(g6), S4 = Ku(t3, _5);
      if (a3 && nt(S4, Y3`${Et}|\((?!\?)`, J4.DEFAULT))
        throw new Error(
          // When used in `external` mode by transpilers other than Regex+, backrefs might have
          // gone through conversion from named to numbered, so avoid a misleading error
          `${r4 === "external" ? "Backrefs" : "Numbered backrefs"} cannot be used with recursion of capturing groups`
        );
      const A3 = t3.slice(_5, d2.index), D3 = S4.slice(A3.length + f8.length), P3 = s3.length, j7 = +C5 - 1, Z4 = Cr(
        A3,
        D3,
        j7,
        true,
        n4,
        s3,
        h3
      );
      o2 = Sr(
        o2,
        A3,
        j7,
        s3.length - P3,
        P3,
        h3
      );
      const ee3 = t3.slice(0, _5), ce2 = t3.slice(_5 + S4.length);
      t3 = `${ee3}${Z4}${ce2}`, he.lastIndex += Z4.length - f8.length - A3.length - D3.length, l3.forEach((te4) => te4.hasRecursedWithin = true), u5 = true;
    } else if (p3)
      h3++, i5.set(String(h3), he.lastIndex), i5.set(p3, he.lastIndex), l3.push({
        num: h3,
        name: p3
      });
    else if (f8[0] === "(") {
      const y4 = f8 === "(";
      y4 && (h3++, i5.set(String(h3), he.lastIndex)), l3.push(y4 ? { num: h3 } : {});
    } else f8 === ")" && l3.pop();
  }
  return n4.push(...s3), {
    pattern: t3,
    captureTransfers: o2,
    hiddenCaptures: n4
  };
}
function wr(t3) {
  const e = `Max depth must be integer between 2 and 100; used ${t3}`;
  if (!/^[1-9]\d*$/.test(t3))
    throw new Error(e);
  if (t3 = +t3, t3 < 2 || t3 > 100)
    throw new Error(e);
}
function Cr(t3, e, n4, r4, o2, s3, a3) {
  const i5 = /* @__PURE__ */ new Set();
  r4 && Ho(t3 + e, Et, ({ groups: { captureName: u5 } }) => {
    i5.add(u5);
  }, J4.DEFAULT);
  const l3 = [
    n4,
    r4 ? i5 : null,
    o2,
    s3,
    a3
  ];
  return `${t3}${_r(`(?:${t3}`, "forward", ...l3)}(?:)${_r(`${e})`, "backward", ...l3)}${e}`;
}
function _r(t3, e, n4, r4, o2, s3, a3) {
  const l3 = (c6) => e === "forward" ? c6 + 2 : n4 - c6 + 2 - 1;
  let u5 = "";
  for (let c6 = 0; c6 < n4; c6++) {
    const h3 = l3(c6);
    u5 += En(
      t3,
      Y3`${qo}|\\k<(?<backref>[^>]+)>`,
      ({ 0: d2, groups: { captureName: f8, unnamed: p3, backref: m3 } }) => {
        if (m3 && r4 && !r4.has(m3))
          return d2;
        const g6 = `_$${h3}`;
        if (p3 || f8) {
          const C5 = a3 + s3.length + 1;
          return s3.push(C5), ec(o2, C5), p3 ? d2 : `(?<${f8}${g6}>`;
        }
        return Y3`\k<${m3}${g6}>`;
      },
      J4.DEFAULT
    );
  }
  return u5;
}
function ec(t3, e) {
  for (let n4 = 0; n4 < t3.length; n4++)
    t3[n4] >= e && t3[n4]++;
}
function Sr(t3, e, n4, r4, o2, s3) {
  if (t3.size && r4) {
    let a3 = 0;
    Ho(e, qo, () => a3++, J4.DEFAULT);
    const i5 = s3 - a3 + o2, l3 = /* @__PURE__ */ new Map();
    return t3.forEach((u5, c6) => {
      const h3 = (r4 - a3 * n4) / n4, d2 = a3 * n4, f8 = c6 > i5 + a3 ? c6 + r4 : c6, p3 = [];
      for (const m3 of u5)
        if (m3 <= i5)
          p3.push(m3);
        else if (m3 > i5 + a3 + h3)
          p3.push(m3 + r4);
        else if (m3 <= i5 + a3)
          for (let g6 = 0; g6 <= n4; g6++)
            p3.push(m3 + a3 * g6);
        else
          for (let g6 = 0; g6 <= n4; g6++)
            p3.push(m3 + d2 + h3 * g6);
      l3.set(f8, p3);
    }), l3;
  }
  return t3;
}
var M3 = String.fromCodePoint;
var v2 = String.raw;
var ae2 = {
  flagGroups: (() => {
    try {
      new RegExp("(?i:)");
    } catch {
      return false;
    }
    return true;
  })(),
  unicodeSets: (() => {
    try {
      new RegExp("", "v");
    } catch {
      return false;
    }
    return true;
  })()
};
ae2.bugFlagVLiteralHyphenIsRange = ae2.unicodeSets ? (() => {
  try {
    new RegExp(v2`[\d\-a]`, "v");
  } catch {
    return true;
  }
  return false;
})() : false;
ae2.bugNestedClassIgnoresNegation = ae2.unicodeSets && new RegExp("[[^a]]", "v").test("a");
function bt2(t3, { enable: e, disable: n4 }) {
  return {
    dotAll: !n4?.dotAll && !!(e?.dotAll || t3.dotAll),
    ignoreCase: !n4?.ignoreCase && !!(e?.ignoreCase || t3.ignoreCase)
  };
}
function qe2(t3, e, n4) {
  return t3.has(e) || t3.set(e, n4), t3.get(e);
}
function un(t3, e) {
  return kr[t3] >= kr[e];
}
function tc(t3, e) {
  if (t3 == null)
    throw new Error(e ?? "Value expected");
  return t3;
}
var kr = {
  ES2025: 2025,
  ES2024: 2024,
  ES2018: 2018
};
var nc = (
  /** @type {const} */
  {
    auto: "auto",
    ES2025: "ES2025",
    ES2024: "ES2024",
    ES2018: "ES2018"
  }
);
function Vo(t3 = {}) {
  if ({}.toString.call(t3) !== "[object Object]")
    throw new Error("Unexpected options");
  if (t3.target !== void 0 && !nc[t3.target])
    throw new Error(`Unexpected target "${t3.target}"`);
  const e = {
    // Sets the level of emulation rigor/strictness.
    accuracy: "default",
    // Disables advanced emulation that relies on returning a `RegExp` subclass, resulting in
    // certain patterns not being emulatable.
    avoidSubclass: false,
    // Oniguruma flags; a string with `i`, `m`, `x`, `D`, `S`, `W`, `y{g}` in any order (all
    // optional). Oniguruma's `m` is equivalent to JavaScript's `s` (`dotAll`).
    flags: "",
    // Include JavaScript flag `g` (`global`) in the result.
    global: false,
    // Include JavaScript flag `d` (`hasIndices`) in the result.
    hasIndices: false,
    // Delay regex construction until first use if the transpiled pattern is at least this length.
    lazyCompileLength: 1 / 0,
    // JavaScript version used for generated regexes. Using `auto` detects the best value based on
    // your environment. Later targets allow faster processing, simpler generated source, and
    // support for additional features.
    target: "auto",
    // Disables minifications that simplify the pattern without changing the meaning.
    verbose: false,
    ...t3,
    // Advanced options that override standard behavior, error checking, and flags when enabled.
    rules: {
      // Useful with TextMate grammars that merge backreferences across patterns.
      allowOrphanBackrefs: false,
      // Use ASCII `\b` and `\B`, which increases search performance of generated regexes.
      asciiWordBoundaries: false,
      // Allow unnamed captures and numbered calls (backreferences and subroutines) when using
      // named capture. This is Oniguruma option `ONIG_OPTION_CAPTURE_GROUP`; on by default in
      // `vscode-oniguruma`.
      captureGroup: false,
      // Change the recursion depth limit from Oniguruma's `20` to an integer `2``20`.
      recursionLimit: 20,
      // `^` as `\A`; `$` as`\Z`. Improves search performance of generated regexes without changing
      // the meaning if searching line by line. This is Oniguruma option `ONIG_OPTION_SINGLELINE`.
      singleline: false,
      ...t3.rules
    }
  };
  return e.target === "auto" && (e.target = ae2.flagGroups ? "ES2025" : ae2.unicodeSets ? "ES2024" : "ES2018"), e;
}
var rc = "[	-\r ]";
var oc = /* @__PURE__ */ new Set([
  M3(304),
  // 
  M3(305)
  // 
]);
var re2 = v2`[\p{L}\p{M}\p{N}\p{Pc}]`;
function Xo(t3) {
  if (oc.has(t3))
    return [t3];
  const e = /* @__PURE__ */ new Set(), n4 = t3.toLowerCase(), r4 = n4.toUpperCase(), o2 = ic.get(n4), s3 = sc.get(n4), a3 = ac.get(n4);
  return [...r4].length === 1 && e.add(r4), a3 && e.add(a3), o2 && e.add(o2), e.add(n4), s3 && e.add(s3), [...e];
}
var An = new Map(
  `C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map((t3) => [xt2(t3), t3])
);
var sc = /* @__PURE__ */ new Map([
  ["s", M3(383)],
  // s, 
  [M3(383), "s"]
  // , s
]);
var ac = /* @__PURE__ */ new Map([
  [M3(223), M3(7838)],
  // , 
  [M3(107), M3(8490)],
  // k,  (Kelvin)
  [M3(229), M3(8491)],
  // ,  (Angstrom)
  [M3(969), M3(8486)]
  // ,  (Ohm)
]);
var ic = new Map([
  ie2(453),
  ie2(456),
  ie2(459),
  ie2(498),
  ...Ft(8072, 8079),
  ...Ft(8088, 8095),
  ...Ft(8104, 8111),
  ie2(8124),
  ie2(8140),
  ie2(8188)
]);
var lc = /* @__PURE__ */ new Map([
  ["alnum", v2`[\p{Alpha}\p{Nd}]`],
  ["alpha", v2`\p{Alpha}`],
  ["ascii", v2`\p{ASCII}`],
  ["blank", v2`[\p{Zs}\t]`],
  ["cntrl", v2`\p{Cc}`],
  ["digit", v2`\p{Nd}`],
  ["graph", v2`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],
  ["lower", v2`\p{Lower}`],
  ["print", v2`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],
  ["punct", v2`[\p{P}\p{S}]`],
  // Updated value from Onig 6.9.9; changed from Unicode `\p{punct}`
  ["space", v2`\p{space}`],
  ["upper", v2`\p{Upper}`],
  ["word", v2`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],
  ["xdigit", v2`\p{AHex}`]
]);
function uc(t3, e) {
  const n4 = [];
  for (let r4 = t3; r4 <= e; r4++)
    n4.push(r4);
  return n4;
}
function ie2(t3) {
  const e = M3(t3);
  return [e.toLowerCase(), e];
}
function Ft(t3, e) {
  return uc(t3, e).map((n4) => ie2(n4));
}
var Ko = /* @__PURE__ */ new Set([
  "Lower",
  "Lowercase",
  "Upper",
  "Uppercase",
  "Ll",
  "Lowercase_Letter",
  "Lt",
  "Titlecase_Letter",
  "Lu",
  "Uppercase_Letter"
  // The `Changes_When_*` properties (and their aliases) could be included, but they're very rare.
  // Some other properties include a handful of chars with specific cases only, but these chars are
  // generally extreme edge cases and using such properties case insensitively generally produces
  // undesired behavior anyway
]);
function cc(t3, e) {
  const n4 = {
    // A couple edge cases exist where options `accuracy` and `bestEffortTarget` are used:
    // - `CharacterSet` kind `text_segment` (`\X`): An exact representation would require heavy
    //   Unicode data; a best-effort approximation requires knowing the target.
    // - `CharacterSet` kind `posix` with values `graph` and `print`: Their complex Unicode
    //   representations would be hard to change to ASCII versions after the fact in the generator
    //   based on `target`/`accuracy`, so produce the appropriate structure here.
    accuracy: "default",
    asciiWordBoundaries: false,
    avoidSubclass: false,
    bestEffortTarget: "ES2025",
    ...e
  };
  Yo(t3);
  const r4 = {
    accuracy: n4.accuracy,
    asciiWordBoundaries: n4.asciiWordBoundaries,
    avoidSubclass: n4.avoidSubclass,
    flagDirectivesByAlt: /* @__PURE__ */ new Map(),
    jsGroupNameMap: /* @__PURE__ */ new Map(),
    minTargetEs2024: un(n4.bestEffortTarget, "ES2024"),
    passedLookbehind: false,
    strategy: null,
    // Subroutines can appear before the groups they ref, so collect reffed nodes for a second pass 
    subroutineRefMap: /* @__PURE__ */ new Map(),
    supportedGNodes: /* @__PURE__ */ new Set(),
    digitIsAscii: t3.flags.digitIsAscii,
    spaceIsAscii: t3.flags.spaceIsAscii,
    wordIsAscii: t3.flags.wordIsAscii
  };
  Be2(t3, hc, r4);
  const o2 = {
    dotAll: t3.flags.dotAll,
    ignoreCase: t3.flags.ignoreCase
  }, s3 = {
    currentFlags: o2,
    prevFlags: null,
    globalFlags: o2,
    groupOriginByCopy: /* @__PURE__ */ new Map(),
    groupsByName: /* @__PURE__ */ new Map(),
    multiplexCapturesToLeftByRef: /* @__PURE__ */ new Map(),
    openRefs: /* @__PURE__ */ new Map(),
    reffedNodesByReferencer: /* @__PURE__ */ new Map(),
    subroutineRefMap: r4.subroutineRefMap
  };
  Be2(t3, pc, s3);
  const a3 = {
    groupsByName: s3.groupsByName,
    highestOrphanBackref: 0,
    numCapturesToLeft: 0,
    reffedNodesByReferencer: s3.reffedNodesByReferencer
  };
  return Be2(t3, fc, a3), t3._originMap = s3.groupOriginByCopy, t3._strategy = r4.strategy, t3;
}
var hc = {
  AbsenceFunction({ node: t3, parent: e, replaceWith: n4 }) {
    const { body: r4, kind: o2 } = t3;
    if (o2 === "repeater") {
      const s3 = Q4();
      s3.body[0].body.push(
        // Insert own alts as `body`
        fe({ negate: true, body: r4 }),
        ke3("Any")
      );
      const a3 = Q4();
      a3.body[0].body.push(
        jo("greedy", 0, 1 / 0, s3)
      ), n4(L3(a3, e), { traverse: true });
    } else
      throw new Error('Unsupported absence function "(?~|"');
  },
  Alternative: {
    enter({ node: t3, parent: e, key: n4 }, { flagDirectivesByAlt: r4 }) {
      const o2 = t3.body.filter((s3) => s3.kind === "flags");
      for (let s3 = n4 + 1; s3 < e.body.length; s3++) {
        const a3 = e.body[s3];
        qe2(r4, a3, []).push(...o2);
      }
    },
    exit({ node: t3 }, { flagDirectivesByAlt: e }) {
      if (e.get(t3)?.length) {
        const n4 = Zo(e.get(t3));
        if (n4) {
          const r4 = Q4({ flags: n4 });
          r4.body[0].body = t3.body, t3.body = [L3(r4, t3)];
        }
      }
    }
  },
  Assertion({ node: t3, parent: e, key: n4, container: r4, root: o2, remove: s3, replaceWith: a3 }, i5) {
    const { kind: l3, negate: u5 } = t3, { asciiWordBoundaries: c6, avoidSubclass: h3, supportedGNodes: d2, wordIsAscii: f8 } = i5;
    if (l3 === "text_segment_boundary")
      throw new Error(`Unsupported text segment boundary "\\${u5 ? "Y" : "y"}"`);
    if (l3 === "line_end")
      a3(L3(fe({ body: [
        me({ body: [on("string_end")] }),
        me({ body: [vt2(10)] })
        // `\n`
      ] }), e));
    else if (l3 === "line_start")
      a3(L3(oe3(v2`(?<=\A|\n(?!\z))`, { skipLookbehindValidation: true }), e));
    else if (l3 === "search_start")
      if (d2.has(t3))
        o2.flags.sticky = true, s3();
      else {
        const p3 = r4[n4 - 1];
        if (p3 && wc(p3))
          a3(L3(fe({ negate: true }), e));
        else {
          if (h3)
            throw new Error(v2`Uses "\G" in a way that requires a subclass`);
          a3(le2(on("string_start"), e)), i5.strategy = "clip_search";
        }
      }
    else if (!(l3 === "string_end" || l3 === "string_start")) if (l3 === "string_end_newline")
      a3(L3(oe3(v2`(?=\n?\z)`), e));
    else if (l3 === "word_boundary") {
      if (!f8 && !c6) {
        const p3 = `(?:(?<=${re2})(?!${re2})|(?<!${re2})(?=${re2}))`, m3 = `(?:(?<=${re2})(?=${re2})|(?<!${re2})(?!${re2}))`;
        a3(L3(oe3(u5 ? m3 : p3), e));
      }
    } else
      throw new Error(`Unexpected assertion kind "${l3}"`);
  },
  Backreference({ node: t3 }, { jsGroupNameMap: e }) {
    let { ref: n4 } = t3;
    typeof n4 == "string" && !jt(n4) && (n4 = Bt2(n4, e), t3.ref = n4);
  },
  CapturingGroup({ node: t3 }, { jsGroupNameMap: e, subroutineRefMap: n4 }) {
    let { name: r4 } = t3;
    r4 && !jt(r4) && (r4 = Bt2(r4, e), t3.name = r4), n4.set(t3.number, t3), r4 && n4.set(r4, t3);
  },
  CharacterClassRange({ node: t3, parent: e, replaceWith: n4 }) {
    if (e.kind === "intersection") {
      const r4 = st2({ body: [t3] });
      n4(L3(r4, e), { traverse: true });
    }
  },
  CharacterSet({ node: t3, parent: e, replaceWith: n4 }, { accuracy: r4, minTargetEs2024: o2, digitIsAscii: s3, spaceIsAscii: a3, wordIsAscii: i5 }) {
    const { kind: l3, negate: u5, value: c6 } = t3;
    if (s3 && (l3 === "digit" || c6 === "digit")) {
      n4(le2(an("digit", { negate: u5 }), e));
      return;
    }
    if (a3 && (l3 === "space" || c6 === "space")) {
      n4(L3(Ut2(oe3(rc), u5), e));
      return;
    }
    if (i5 && (l3 === "word" || c6 === "word")) {
      n4(le2(an("word", { negate: u5 }), e));
      return;
    }
    if (l3 === "any")
      n4(le2(ke3("Any"), e));
    else if (l3 === "digit")
      n4(le2(ke3("Nd", { negate: u5 }), e));
    else if (l3 !== "dot") if (l3 === "text_segment") {
      if (r4 === "strict")
        throw new Error(v2`Use of "\X" requires non-strict accuracy`);
      const h3 = "\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?", d2 = v2`\p{RI}{2}|${h3}(?:\u200D${h3})*`;
      n4(L3(oe3(
        // Close approximation of an extended grapheme cluster; see: <unicode.org/reports/tr29/>
        v2`(?>\r\n|${o2 ? v2`\p{RGI_Emoji}` : d2}|\P{M}\p{M}*)`,
        // Allow JS property `RGI_Emoji` through
        { skipPropertyNameValidation: true }
      ), e));
    } else if (l3 === "hex")
      n4(le2(ke3("AHex", { negate: u5 }), e));
    else if (l3 === "newline")
      n4(L3(oe3(u5 ? `[^
]` : `(?>\r
?|[
\v\f\u2028\u2029])`), e));
    else if (l3 === "posix")
      if (!o2 && (c6 === "graph" || c6 === "print")) {
        if (r4 === "strict")
          throw new Error(`POSIX class "${c6}" requires min target ES2024 or non-strict accuracy`);
        let h3 = {
          graph: "!-~",
          print: " -~"
        }[c6];
        u5 && (h3 = `\0-${M3(h3.codePointAt(0) - 1)}${M3(h3.codePointAt(2) + 1)}-`), n4(L3(oe3(`[${h3}]`), e));
      } else
        n4(L3(Ut2(oe3(lc.get(c6)), u5), e));
    else if (l3 === "property")
      An.has(xt2(c6)) || (t3.key = "sc");
    else if (l3 === "space")
      n4(le2(ke3("space", { negate: u5 }), e));
    else if (l3 === "word")
      n4(L3(Ut2(oe3(re2), u5), e));
    else
      throw new Error(`Unexpected character set kind "${l3}"`);
  },
  Directive({ node: t3, parent: e, root: n4, remove: r4, replaceWith: o2, removeAllPrevSiblings: s3, removeAllNextSiblings: a3 }) {
    const { kind: i5, flags: l3 } = t3;
    if (i5 === "flags")
      if (!l3.enable && !l3.disable)
        r4();
      else {
        const u5 = Q4({ flags: l3 });
        u5.body[0].body = a3(), o2(L3(u5, e), { traverse: true });
      }
    else if (i5 === "keep") {
      const u5 = n4.body[0], h3 = n4.body.length === 1 && // Not emulatable if within a `CapturingGroup`
      Go(u5, { type: "Group" }) && u5.body[0].body.length === 1 ? u5.body[0] : n4;
      if (e.parent !== h3 || h3.body.length > 1)
        throw new Error(v2`Uses "\K" in a way that's unsupported`);
      const d2 = fe({ behind: true });
      d2.body[0].body = s3(), o2(L3(d2, e));
    } else
      throw new Error(`Unexpected directive kind "${i5}"`);
  },
  Flags({ node: t3, parent: e }) {
    if (t3.posixIsAscii)
      throw new Error('Unsupported flag "P"');
    if (t3.textSegmentMode === "word")
      throw new Error('Unsupported flag "y{w}"');
    [
      "digitIsAscii",
      // Flag D
      "extended",
      // Flag x
      "posixIsAscii",
      // Flag P
      "spaceIsAscii",
      // Flag S
      "wordIsAscii",
      // Flag W
      "textSegmentMode"
      // Flag y{g} or y{w}
    ].forEach((n4) => delete t3[n4]), Object.assign(t3, {
      // JS flag g; no Onig equiv
      global: false,
      // JS flag d; no Onig equiv
      hasIndices: false,
      // JS flag m; no Onig equiv but its behavior is always on in Onig. Onig's only line break
      // char is line feed, unlike JS, so this flag isn't used since it would produce inaccurate
      // results (also allows `^` and `$` to be used in the generator for string start and end)
      multiline: false,
      // JS flag y; no Onig equiv, but used for `\G` emulation
      sticky: t3.sticky ?? false
      // Note: Regex+ doesn't allow explicitly adding flags it handles implicitly, so leave out
      // properties `unicode` (JS flag u) and `unicodeSets` (JS flag v). Keep the existing values
      // for `ignoreCase` (flag i) and `dotAll` (JS flag s, but Onig flag m)
    }), e.options = {
      disable: {
        // Onig uses different rules for flag x than Regex+, so disable the implicit flag
        x: true,
        // Onig has no flag to control "named capture only" mode but contextually applies its
        // behavior when named capturing is used, so disable Regex+'s implicit flag for it
        n: true
      },
      force: {
        // Always add flag v because we're generating an AST that relies on it (it enables JS
        // support for Onig features nested classes, intersection, Unicode properties, etc.).
        // However, the generator might disable flag v based on its `target` option
        v: true
      }
    };
  },
  Group({ node: t3 }) {
    if (!t3.flags)
      return;
    const { enable: e, disable: n4 } = t3.flags;
    e?.extended && delete e.extended, n4?.extended && delete n4.extended, e?.dotAll && n4?.dotAll && delete e.dotAll, e?.ignoreCase && n4?.ignoreCase && delete e.ignoreCase, e && !Object.keys(e).length && delete t3.flags.enable, n4 && !Object.keys(n4).length && delete t3.flags.disable, !t3.flags.enable && !t3.flags.disable && delete t3.flags;
  },
  LookaroundAssertion({ node: t3 }, e) {
    const { kind: n4 } = t3;
    n4 === "lookbehind" && (e.passedLookbehind = true);
  },
  NamedCallout({ node: t3, parent: e, replaceWith: n4 }) {
    const { kind: r4 } = t3;
    if (r4 === "fail")
      n4(L3(fe({ negate: true }), e));
    else
      throw new Error(`Unsupported named callout "(*${r4.toUpperCase()}"`);
  },
  Quantifier({ node: t3 }) {
    if (t3.body.type === "Quantifier") {
      const e = Q4();
      e.body[0].body.push(t3.body), t3.body = L3(e, t3);
    }
  },
  Regex: {
    enter({ node: t3 }, { supportedGNodes: e }) {
      const n4 = [];
      let r4 = false, o2 = false;
      for (const s3 of t3.body)
        if (s3.body.length === 1 && s3.body[0].kind === "search_start")
          s3.body.pop();
        else {
          const a3 = es(s3.body);
          a3 ? (r4 = true, Array.isArray(a3) ? n4.push(...a3) : n4.push(a3)) : o2 = true;
        }
      r4 && !o2 && n4.forEach((s3) => e.add(s3));
    },
    exit(t3, { accuracy: e, passedLookbehind: n4, strategy: r4 }) {
      if (e === "strict" && n4 && r4)
        throw new Error(v2`Uses "\G" in a way that requires non-strict accuracy`);
    }
  },
  Subroutine({ node: t3 }, { jsGroupNameMap: e }) {
    let { ref: n4 } = t3;
    typeof n4 == "string" && !jt(n4) && (n4 = Bt2(n4, e), t3.ref = n4);
  }
};
var pc = {
  Backreference({ node: t3 }, { multiplexCapturesToLeftByRef: e, reffedNodesByReferencer: n4 }) {
    const { orphan: r4, ref: o2 } = t3;
    r4 || n4.set(t3, [...e.get(o2).map(({ node: s3 }) => s3)]);
  },
  CapturingGroup: {
    enter({
      node: t3,
      parent: e,
      replaceWith: n4,
      skip: r4
    }, {
      groupOriginByCopy: o2,
      groupsByName: s3,
      multiplexCapturesToLeftByRef: a3,
      openRefs: i5,
      reffedNodesByReferencer: l3
    }) {
      const u5 = o2.get(t3);
      if (u5 && i5.has(t3.number)) {
        const h3 = le2(vr(t3.number), e);
        l3.set(h3, i5.get(t3.number)), n4(h3);
        return;
      }
      i5.set(t3.number, t3), a3.set(t3.number, []), t3.name && qe2(a3, t3.name, []);
      const c6 = a3.get(t3.name ?? t3.number);
      for (let h3 = 0; h3 < c6.length; h3++) {
        const d2 = c6[h3];
        if (
          // This group is from subroutine expansion, and there's a multiplex value from either the
          // origin node or a prior subroutine expansion group with the same origin
          u5 === d2.node || u5 && u5 === d2.origin || // This group is not from subroutine expansion, and it comes after a subroutine expansion
          // group that refers to this group
          t3 === d2.origin
        ) {
          c6.splice(h3, 1);
          break;
        }
      }
      if (a3.get(t3.number).push({ node: t3, origin: u5 }), t3.name && a3.get(t3.name).push({ node: t3, origin: u5 }), t3.name) {
        const h3 = qe2(s3, t3.name, /* @__PURE__ */ new Map());
        let d2 = false;
        if (u5)
          d2 = true;
        else
          for (const f8 of h3.values())
            if (!f8.hasDuplicateNameToRemove) {
              d2 = true;
              break;
            }
        s3.get(t3.name).set(t3, { node: t3, hasDuplicateNameToRemove: d2 });
      }
    },
    exit({ node: t3 }, { openRefs: e }) {
      e.delete(t3.number);
    }
  },
  Group: {
    enter({ node: t3 }, e) {
      e.prevFlags = e.currentFlags, t3.flags && (e.currentFlags = bt2(e.currentFlags, t3.flags));
    },
    exit(t3, e) {
      e.currentFlags = e.prevFlags;
    }
  },
  Subroutine({ node: t3, parent: e, replaceWith: n4 }, r4) {
    const { isRecursive: o2, ref: s3 } = t3;
    if (o2) {
      let c6 = e;
      for (; (c6 = c6.parent) && !(c6.type === "CapturingGroup" && (c6.name === s3 || c6.number === s3)); )
        ;
      r4.reffedNodesByReferencer.set(t3, c6);
      return;
    }
    const a3 = r4.subroutineRefMap.get(s3), i5 = s3 === 0, l3 = i5 ? vr(0) : (
      // The reffed group might itself contain subroutines, which are expanded during sub-traversal
      Jo(a3, r4.groupOriginByCopy, null)
    );
    let u5 = l3;
    if (!i5) {
      const c6 = Zo(mc(
        a3,
        (d2) => d2.type === "Group" && !!d2.flags
      )), h3 = c6 ? bt2(r4.globalFlags, c6) : r4.globalFlags;
      dc(h3, r4.currentFlags) || (u5 = Q4({
        flags: yc(h3)
      }), u5.body[0].body.push(l3));
    }
    n4(L3(u5, e), { traverse: !i5 });
  }
};
var fc = {
  Backreference({ node: t3, parent: e, replaceWith: n4 }, r4) {
    if (t3.orphan) {
      r4.highestOrphanBackref = Math.max(r4.highestOrphanBackref, t3.ref);
      return;
    }
    const s3 = r4.reffedNodesByReferencer.get(t3).filter((a3) => gc(a3, t3));
    if (!s3.length)
      n4(L3(fe({ negate: true }), e));
    else if (s3.length > 1) {
      const a3 = Q4({
        atomic: true,
        body: s3.reverse().map((i5) => me({
          body: [sn(i5.number)]
        }))
      });
      n4(L3(a3, e));
    } else
      t3.ref = s3[0].number;
  },
  CapturingGroup({ node: t3 }, e) {
    t3.number = ++e.numCapturesToLeft, t3.name && e.groupsByName.get(t3.name).get(t3).hasDuplicateNameToRemove && delete t3.name;
  },
  Regex: {
    exit({ node: t3 }, e) {
      const n4 = Math.max(e.highestOrphanBackref - e.numCapturesToLeft, 0);
      for (let r4 = 0; r4 < n4; r4++) {
        const o2 = Bo();
        t3.body.at(-1).body.push(o2);
      }
    }
  },
  Subroutine({ node: t3 }, e) {
    !t3.isRecursive || t3.ref === 0 || (t3.ref = e.reffedNodesByReferencer.get(t3).number);
  }
};
function Yo(t3) {
  Be2(t3, {
    "*"({ node: e, parent: n4 }) {
      e.parent = n4;
    }
  });
}
function dc(t3, e) {
  return t3.dotAll === e.dotAll && t3.ignoreCase === e.ignoreCase;
}
function gc(t3, e) {
  let n4 = e;
  do {
    if (n4.type === "Regex")
      return false;
    if (n4.type === "Alternative")
      continue;
    if (n4 === t3)
      return false;
    const r4 = Qo(n4.parent);
    for (const o2 of r4) {
      if (o2 === n4)
        break;
      if (o2 === t3 || ts(o2, t3))
        return true;
    }
  } while (n4 = n4.parent);
  throw new Error("Unexpected path");
}
function Jo(t3, e, n4, r4) {
  const o2 = Array.isArray(t3) ? [] : {};
  for (const [s3, a3] of Object.entries(t3))
    s3 === "parent" ? o2.parent = Array.isArray(n4) ? r4 : n4 : a3 && typeof a3 == "object" ? o2[s3] = Jo(a3, e, o2, n4) : (s3 === "type" && a3 === "CapturingGroup" && e.set(o2, e.get(t3) ?? t3), o2[s3] = a3);
  return o2;
}
function vr(t3) {
  const e = Uo(t3);
  return e.isRecursive = true, e;
}
function mc(t3, e) {
  const n4 = [];
  for (; t3 = t3.parent; )
    (!e || e(t3)) && n4.push(t3);
  return n4;
}
function Bt2(t3, e) {
  if (e.has(t3))
    return e.get(t3);
  const n4 = `$${e.size}_${t3.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug, "_")}`;
  return e.set(t3, n4), n4;
}
function Zo(t3) {
  const e = ["dotAll", "ignoreCase"], n4 = { enable: {}, disable: {} };
  return t3.forEach(({ flags: r4 }) => {
    e.forEach((o2) => {
      r4.enable?.[o2] && (delete n4.disable[o2], n4.enable[o2] = true), r4.disable?.[o2] && (n4.disable[o2] = true);
    });
  }), Object.keys(n4.enable).length || delete n4.enable, Object.keys(n4.disable).length || delete n4.disable, n4.enable || n4.disable ? n4 : null;
}
function yc({ dotAll: t3, ignoreCase: e }) {
  const n4 = {};
  return (t3 || e) && (n4.enable = {}, t3 && (n4.enable.dotAll = true), e && (n4.enable.ignoreCase = true)), (!t3 || !e) && (n4.disable = {}, !t3 && (n4.disable.dotAll = true), !e && (n4.disable.ignoreCase = true)), n4;
}
function Qo(t3) {
  if (!t3)
    throw new Error("Node expected");
  const { body: e } = t3;
  return Array.isArray(e) ? e : e ? [e] : null;
}
function es(t3) {
  const e = t3.find((n4) => n4.kind === "search_start" || Cc(n4, { negate: false }) || !bc(n4));
  if (!e)
    return null;
  if (e.kind === "search_start")
    return e;
  if (e.type === "LookaroundAssertion")
    return e.body[0].body[0];
  if (e.type === "CapturingGroup" || e.type === "Group") {
    const n4 = [];
    for (const r4 of e.body) {
      const o2 = es(r4.body);
      if (!o2)
        return null;
      Array.isArray(o2) ? n4.push(...o2) : n4.push(o2);
    }
    return n4;
  }
  return null;
}
function ts(t3, e) {
  const n4 = Qo(t3) ?? [];
  for (const r4 of n4)
    if (r4 === e || ts(r4, e))
      return true;
  return false;
}
function bc({ type: t3 }) {
  return t3 === "Assertion" || t3 === "Directive" || t3 === "LookaroundAssertion";
}
function wc(t3) {
  const e = [
    "Character",
    "CharacterClass",
    "CharacterSet"
  ];
  return e.includes(t3.type) || t3.type === "Quantifier" && t3.min && e.includes(t3.body.type);
}
function Cc(t3, e) {
  const n4 = {
    negate: null,
    ...e
  };
  return t3.type === "LookaroundAssertion" && (n4.negate === null || t3.negate === n4.negate) && t3.body.length === 1 && Go(t3.body[0], {
    type: "Assertion",
    kind: "search_start"
  });
}
function jt(t3) {
  return /^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(t3);
}
function oe3(t3, e) {
  const r4 = Fo(t3, {
    ...e,
    // Providing a custom set of Unicode property names avoids converting some JS Unicode
    // properties (ex: `\p{Alpha}`) to Onig POSIX classes
    unicodePropertyMap: An
  }).body;
  return r4.length > 1 || r4[0].body.length > 1 ? Q4({ body: r4 }) : r4[0].body[0];
}
function Ut2(t3, e) {
  return t3.negate = e, t3;
}
function le2(t3, e) {
  return t3.parent = e, t3;
}
function L3(t3, e) {
  return Yo(t3), t3.parent = e, t3;
}
function _c(t3, e) {
  const n4 = Vo(e), r4 = un(n4.target, "ES2024"), o2 = un(n4.target, "ES2025"), s3 = n4.rules.recursionLimit;
  if (!Number.isInteger(s3) || s3 < 2 || s3 > 20)
    throw new Error("Invalid recursionLimit; use 2-20");
  let a3 = null, i5 = null;
  if (!o2) {
    const f8 = [t3.flags.ignoreCase];
    Be2(t3, Sc, {
      getCurrentModI: () => f8.at(-1),
      popModI() {
        f8.pop();
      },
      pushModI(p3) {
        f8.push(p3);
      },
      setHasCasedChar() {
        f8.at(-1) ? a3 = true : i5 = true;
      }
    });
  }
  const l3 = {
    dotAll: t3.flags.dotAll,
    // - Turn global flag i on if a case insensitive node was used and no case sensitive nodes were
    //   used (to avoid unnecessary node expansion).
    // - Turn global flag i off if a case sensitive node was used (since case sensitivity can't be
    //   forced without the use of ES2025 flag groups)
    ignoreCase: !!((t3.flags.ignoreCase || a3) && !i5)
  };
  let u5 = t3;
  const c6 = {
    accuracy: n4.accuracy,
    appliedGlobalFlags: l3,
    captureMap: /* @__PURE__ */ new Map(),
    currentFlags: {
      dotAll: t3.flags.dotAll,
      ignoreCase: t3.flags.ignoreCase
    },
    inCharClass: false,
    lastNode: u5,
    originMap: t3._originMap,
    recursionLimit: s3,
    useAppliedIgnoreCase: !!(!o2 && a3 && i5),
    useFlagMods: o2,
    useFlagV: r4,
    verbose: n4.verbose
  };
  function h3(f8) {
    return c6.lastNode = u5, u5 = f8, tc(kc[f8.type], `Unexpected node type "${f8.type}"`)(f8, c6, h3);
  }
  const d2 = {
    pattern: t3.body.map(h3).join("|"),
    // Could reset `lastNode` at this point via `lastNode = ast`, but it isn't needed by flags
    flags: h3(t3.flags),
    options: { ...t3.options }
  };
  return r4 || (delete d2.options.force.v, d2.options.disable.v = true, d2.options.unicodeSetsPlugin = null), d2._captureTransfers = /* @__PURE__ */ new Map(), d2._hiddenCaptures = [], c6.captureMap.forEach((f8, p3) => {
    f8.hidden && d2._hiddenCaptures.push(p3), f8.transferTo && qe2(d2._captureTransfers, f8.transferTo, []).push(p3);
  }), d2;
}
var Sc = {
  "*": {
    enter({ node: t3 }, e) {
      if (Er(t3)) {
        const n4 = e.getCurrentModI();
        e.pushModI(
          t3.flags ? bt2({ ignoreCase: n4 }, t3.flags).ignoreCase : n4
        );
      }
    },
    exit({ node: t3 }, e) {
      Er(t3) && e.popModI();
    }
  },
  Backreference(t3, e) {
    e.setHasCasedChar();
  },
  Character({ node: t3 }, e) {
    Rn(M3(t3.value)) && e.setHasCasedChar();
  },
  CharacterClassRange({ node: t3, skip: e }, n4) {
    e(), ns(t3, { firstOnly: true }).length && n4.setHasCasedChar();
  },
  CharacterSet({ node: t3 }, e) {
    t3.kind === "property" && Ko.has(t3.value) && e.setHasCasedChar();
  }
};
var kc = {
  /**
  @param {AlternativeNode} node
  */
  Alternative({ body: t3 }, e, n4) {
    return t3.map(n4).join("");
  },
  /**
  @param {AssertionNode} node
  */
  Assertion({ kind: t3, negate: e }) {
    if (t3 === "string_end")
      return "$";
    if (t3 === "string_start")
      return "^";
    if (t3 === "word_boundary")
      return e ? v2`\B` : v2`\b`;
    throw new Error(`Unexpected assertion kind "${t3}"`);
  },
  /**
  @param {BackreferenceNode} node
  */
  Backreference({ ref: t3 }, e) {
    if (typeof t3 != "number")
      throw new Error("Unexpected named backref in transformed AST");
    if (!e.useFlagMods && e.accuracy === "strict" && e.currentFlags.ignoreCase && !e.captureMap.get(t3).ignoreCase)
      throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");
    return "\\" + t3;
  },
  /**
  @param {CapturingGroupNode} node
  */
  CapturingGroup(t3, e, n4) {
    const { body: r4, name: o2, number: s3 } = t3, a3 = { ignoreCase: e.currentFlags.ignoreCase }, i5 = e.originMap.get(t3);
    return i5 && (a3.hidden = true, s3 > i5.number && (a3.transferTo = i5.number)), e.captureMap.set(s3, a3), `(${o2 ? `?<${o2}>` : ""}${r4.map(n4).join("|")})`;
  },
  /**
  @param {CharacterNode} node
  */
  Character({ value: t3 }, e) {
    const n4 = M3(t3), r4 = _e2(t3, {
      escDigit: e.lastNode.type === "Backreference",
      inCharClass: e.inCharClass,
      useFlagV: e.useFlagV
    });
    if (r4 !== n4)
      return r4;
    if (e.useAppliedIgnoreCase && e.currentFlags.ignoreCase && Rn(n4)) {
      const o2 = Xo(n4);
      return e.inCharClass ? o2.join("") : o2.length > 1 ? `[${o2.join("")}]` : o2[0];
    }
    return n4;
  },
  /**
  @param {CharacterClassNode} node
  */
  CharacterClass(t3, e, n4) {
    const { kind: r4, negate: o2, parent: s3 } = t3;
    let { body: a3 } = t3;
    if (r4 === "intersection" && !e.useFlagV)
      throw new Error("Use of class intersection requires min target ES2024");
    ae2.bugFlagVLiteralHyphenIsRange && e.useFlagV && a3.some(Ar) && (a3 = [vt2(45), ...a3.filter((u5) => !Ar(u5))]);
    const i5 = () => `[${o2 ? "^" : ""}${a3.map(n4).join(r4 === "intersection" ? "&&" : "")}]`;
    if (!e.inCharClass) {
      if (
        // Already established `kind !== 'intersection'` if `!state.useFlagV`; don't check again
        (!e.useFlagV || ae2.bugNestedClassIgnoresNegation) && !o2
      ) {
        const c6 = a3.filter(
          (h3) => h3.type === "CharacterClass" && h3.kind === "union" && h3.negate
        );
        if (c6.length) {
          const h3 = Q4(), d2 = h3.body[0];
          return h3.parent = s3, d2.parent = h3, a3 = a3.filter((f8) => !c6.includes(f8)), t3.body = a3, a3.length ? (t3.parent = d2, d2.body.push(t3)) : h3.body.pop(), c6.forEach((f8) => {
            const p3 = me({ body: [f8] });
            f8.parent = p3, p3.parent = h3, h3.body.push(p3);
          }), n4(h3);
        }
      }
      e.inCharClass = true;
      const u5 = i5();
      return e.inCharClass = false, u5;
    }
    const l3 = a3[0];
    if (
      // Already established that the parent is a char class via `inCharClass`; don't check again
      r4 === "union" && !o2 && l3 && // Allows many nested classes to work with `target` ES2018 which doesn't support nesting
      ((!e.useFlagV || !e.verbose) && s3.kind === "union" && !(ae2.bugFlagVLiteralHyphenIsRange && e.useFlagV) || !e.verbose && s3.kind === "intersection" && // JS doesn't allow intersection with union or ranges
      a3.length === 1 && l3.type !== "CharacterClassRange")
    )
      return a3.map(n4).join("");
    if (!e.useFlagV && s3.type === "CharacterClass")
      throw new Error("Use of nested character class requires min target ES2024");
    return i5();
  },
  /**
  @param {CharacterClassRangeNode} node
  */
  CharacterClassRange(t3, e) {
    const n4 = t3.min.value, r4 = t3.max.value, o2 = {
      escDigit: false,
      inCharClass: true,
      useFlagV: e.useFlagV
    }, s3 = _e2(n4, o2), a3 = _e2(r4, o2), i5 = /* @__PURE__ */ new Set();
    if (e.useAppliedIgnoreCase && e.currentFlags.ignoreCase) {
      const l3 = ns(t3);
      Rc(l3).forEach((c6) => {
        i5.add(
          Array.isArray(c6) ? `${_e2(c6[0], o2)}-${_e2(c6[1], o2)}` : _e2(c6, o2)
        );
      });
    }
    return `${s3}-${a3}${[...i5].join("")}`;
  },
  /**
  @param {CharacterSetNode} node
  */
  CharacterSet({ kind: t3, negate: e, value: n4, key: r4 }, o2) {
    if (t3 === "dot")
      return o2.currentFlags.dotAll ? o2.appliedGlobalFlags.dotAll || o2.useFlagMods ? "." : "[^]" : (
        // Onig's only line break char is line feed, unlike JS
        v2`[^\n]`
      );
    if (t3 === "digit")
      return e ? v2`\D` : v2`\d`;
    if (t3 === "property") {
      if (o2.useAppliedIgnoreCase && o2.currentFlags.ignoreCase && Ko.has(n4))
        throw new Error(`Unicode property "${n4}" can't be case-insensitive when other chars have specific case`);
      return `${e ? v2`\P` : v2`\p`}{${r4 ? `${r4}=` : ""}${n4}}`;
    }
    if (t3 === "word")
      return e ? v2`\W` : v2`\w`;
    throw new Error(`Unexpected character set kind "${t3}"`);
  },
  /**
  @param {FlagsNode} node
  */
  Flags(t3, e) {
    return (
      // The transformer should never turn on the properties for flags d, g, m since Onig doesn't
      // have equivs. Flag m is never used since Onig uses different line break chars than JS
      // (node.hasIndices ? 'd' : '') +
      // (node.global ? 'g' : '') +
      // (node.multiline ? 'm' : '') +
      (e.appliedGlobalFlags.ignoreCase ? "i" : "") + (t3.dotAll ? "s" : "") + (t3.sticky ? "y" : "")
    );
  },
  /**
  @param {GroupNode} node
  */
  Group({ atomic: t3, body: e, flags: n4, parent: r4 }, o2, s3) {
    const a3 = o2.currentFlags;
    n4 && (o2.currentFlags = bt2(a3, n4));
    const i5 = e.map(s3).join("|"), l3 = !o2.verbose && e.length === 1 && // Single alt
    r4.type !== "Quantifier" && !t3 && (!o2.useFlagMods || !n4) ? i5 : `(?${Ic(t3, n4, o2.useFlagMods)}${i5})`;
    return o2.currentFlags = a3, l3;
  },
  /**
  @param {LookaroundAssertionNode} node
  */
  LookaroundAssertion({ body: t3, kind: e, negate: n4 }, r4, o2) {
    return `(?${`${e === "lookahead" ? "" : "<"}${n4 ? "!" : "="}`}${t3.map(o2).join("|")})`;
  },
  /**
  @param {QuantifierNode} node
  */
  Quantifier(t3, e, n4) {
    return n4(t3.body) + Nc(t3);
  },
  /**
  @param {SubroutineNode & {isRecursive: true}} node
  */
  Subroutine({ isRecursive: t3, ref: e }, n4) {
    if (!t3)
      throw new Error("Unexpected non-recursive subroutine in transformed AST");
    const r4 = n4.recursionLimit;
    return e === 0 ? `(?R=${r4})` : v2`\g<${e}&R=${r4}>`;
  }
};
var vc = /* @__PURE__ */ new Set([
  "$",
  "(",
  ")",
  "*",
  "+",
  ".",
  "?",
  "[",
  "\\",
  "]",
  "^",
  "{",
  "|",
  "}"
]);
var xc = /* @__PURE__ */ new Set([
  "-",
  "\\",
  "]",
  "^",
  // Literal `[` doesn't require escaping with flag u, but this can help work around regex source
  // linters and regex syntax processors that expect unescaped `[` to create a nested class
  "["
]);
var Ec = /* @__PURE__ */ new Set([
  "(",
  ")",
  "-",
  "/",
  "[",
  "\\",
  "]",
  "^",
  "{",
  "|",
  "}",
  // Double punctuators; also includes already-listed `-` and `^`
  "!",
  "#",
  "$",
  "%",
  "&",
  "*",
  "+",
  ",",
  ".",
  ":",
  ";",
  "<",
  "=",
  ">",
  "?",
  "@",
  "`",
  "~"
]);
var xr = /* @__PURE__ */ new Map([
  [9, v2`\t`],
  // horizontal tab
  [10, v2`\n`],
  // line feed
  [11, v2`\v`],
  // vertical tab
  [12, v2`\f`],
  // form feed
  [13, v2`\r`],
  // carriage return
  [8232, v2`\u2028`],
  // line separator
  [8233, v2`\u2029`],
  // paragraph separator
  [65279, v2`\uFEFF`]
  // ZWNBSP/BOM
]);
var Ac = /^\p{Cased}$/u;
function Rn(t3) {
  return Ac.test(t3);
}
function ns(t3, e) {
  const n4 = !!e?.firstOnly, r4 = t3.min.value, o2 = t3.max.value, s3 = [];
  if (r4 < 65 && (o2 === 65535 || o2 >= 131071) || r4 === 65536 && o2 >= 131071)
    return s3;
  for (let a3 = r4; a3 <= o2; a3++) {
    const i5 = M3(a3);
    if (!Rn(i5))
      continue;
    const l3 = Xo(i5).filter((u5) => {
      const c6 = u5.codePointAt(0);
      return c6 < r4 || c6 > o2;
    });
    if (l3.length && (s3.push(...l3), n4))
      break;
  }
  return s3;
}
function _e2(t3, { escDigit: e, inCharClass: n4, useFlagV: r4 }) {
  if (xr.has(t3))
    return xr.get(t3);
  if (
    // Control chars, etc.; condition modeled on the Chrome developer console's display for strings
    t3 < 32 || t3 > 126 && t3 < 160 || // Unicode planes 4-16; unassigned, special purpose, and private use area
    t3 > 262143 || // Avoid corrupting a preceding backref by immediately following it with a literal digit
    e && Pc(t3)
  )
    return t3 > 255 ? `\\u{${t3.toString(16).toUpperCase()}}` : `\\x${t3.toString(16).toUpperCase().padStart(2, "0")}`;
  const o2 = n4 ? r4 ? Ec : xc : vc, s3 = M3(t3);
  return (o2.has(s3) ? "\\" : "") + s3;
}
function Rc(t3) {
  const e = t3.map((o2) => o2.codePointAt(0)).sort((o2, s3) => o2 - s3), n4 = [];
  let r4 = null;
  for (let o2 = 0; o2 < e.length; o2++)
    e[o2 + 1] === e[o2] + 1 ? r4 ??= e[o2] : r4 === null ? n4.push(e[o2]) : (n4.push([r4, e[o2]]), r4 = null);
  return n4;
}
function Ic(t3, e, n4) {
  if (t3)
    return ">";
  let r4 = "";
  if (e && n4) {
    const { enable: o2, disable: s3 } = e;
    r4 = (o2?.ignoreCase ? "i" : "") + (o2?.dotAll ? "s" : "") + (s3 ? "-" : "") + (s3?.ignoreCase ? "i" : "") + (s3?.dotAll ? "s" : "");
  }
  return `${r4}:`;
}
function Nc({ kind: t3, max: e, min: n4 }) {
  let r4;
  return !n4 && e === 1 ? r4 = "?" : !n4 && e === 1 / 0 ? r4 = "*" : n4 === 1 && e === 1 / 0 ? r4 = "+" : n4 === e ? r4 = `{${n4}}` : r4 = `{${n4},${e === 1 / 0 ? "" : e}}`, r4 + {
    greedy: "",
    lazy: "?",
    possessive: "+"
  }[t3];
}
function Er({ type: t3 }) {
  return t3 === "CapturingGroup" || t3 === "Group" || t3 === "LookaroundAssertion";
}
function Pc(t3) {
  return t3 > 47 && t3 < 58;
}
function Ar({ type: t3, value: e }) {
  return t3 === "Character" && e === 45;
}
var Lc = class cn extends RegExp {
  /**
  @type {Map<number, {
    hidden?: true;
    transferTo?: number;
  }>}
  */
  #t = /* @__PURE__ */ new Map();
  /**
  @type {RegExp | EmulatedRegExp | null}
  */
  #e = null;
  /**
  @type {string}
  */
  #r;
  /**
  @type {Map<number, string>?}
  */
  #n = null;
  /**
  @type {string?}
  */
  #o = null;
  /**
  Can be used to serialize the instance.
  @type {EmulatedRegExpOptions}
  */
  rawOptions = {};
  // Override the getter with one that works with lazy-compiled regexes
  get source() {
    return this.#r || "(?:)";
  }
  /**
  @overload
  @param {string} pattern
  @param {string} [flags]
  @param {EmulatedRegExpOptions} [options]
  */
  /**
  @overload
  @param {EmulatedRegExp} pattern
  @param {string} [flags]
  */
  constructor(e, n4, r4) {
    const o2 = !!r4?.lazyCompile;
    if (e instanceof RegExp) {
      if (r4)
        throw new Error("Cannot provide options when copying a regexp");
      const s3 = e;
      super(s3, n4), this.#r = s3.source, s3 instanceof cn && (this.#t = s3.#t, this.#n = s3.#n, this.#o = s3.#o, this.rawOptions = s3.rawOptions);
    } else {
      const s3 = {
        hiddenCaptures: [],
        strategy: null,
        transfers: [],
        ...r4
      };
      super(o2 ? "" : e, n4), this.#r = e, this.#t = Tc(s3.hiddenCaptures, s3.transfers), this.#o = s3.strategy, this.rawOptions = r4 ?? {};
    }
    o2 || (this.#e = this);
  }
  /**
  Called internally by all String/RegExp methods that use regexes.
  @override
  @param {string} str
  @returns {RegExpExecArray?}
  */
  exec(e) {
    if (!this.#e) {
      const { lazyCompile: o2, ...s3 } = this.rawOptions;
      this.#e = new cn(this.#r, this.flags, s3);
    }
    const n4 = this.global || this.sticky, r4 = this.lastIndex;
    if (this.#o === "clip_search" && n4 && r4) {
      this.lastIndex = 0;
      const o2 = this.#s(e.slice(r4));
      return o2 && ($c(o2, r4, e, this.hasIndices), this.lastIndex += r4), o2;
    }
    return this.#s(e);
  }
  /**
  Adds support for hidden and transfer captures.
  @param {string} str
  @returns
  */
  #s(e) {
    this.#e.lastIndex = this.lastIndex;
    const n4 = super.exec.call(this.#e, e);
    if (this.lastIndex = this.#e.lastIndex, !n4 || !this.#t.size)
      return n4;
    const r4 = [...n4];
    n4.length = 1;
    let o2;
    this.hasIndices && (o2 = [...n4.indices], n4.indices.length = 1);
    const s3 = [0];
    for (let a3 = 1; a3 < r4.length; a3++) {
      const { hidden: i5, transferTo: l3 } = this.#t.get(a3) ?? {};
      if (i5 ? s3.push(null) : (s3.push(n4.length), n4.push(r4[a3]), this.hasIndices && n4.indices.push(o2[a3])), l3 && r4[a3] !== void 0) {
        const u5 = s3[l3];
        if (!u5)
          throw new Error(`Invalid capture transfer to "${u5}"`);
        if (n4[u5] = r4[a3], this.hasIndices && (n4.indices[u5] = o2[a3]), n4.groups) {
          this.#n || (this.#n = Mc(this.source));
          const c6 = this.#n.get(l3);
          c6 && (n4.groups[c6] = r4[a3], this.hasIndices && (n4.indices.groups[c6] = o2[a3]));
        }
      }
    }
    return n4;
  }
};
function $c(t3, e, n4, r4) {
  if (t3.index += e, t3.input = n4, r4) {
    const o2 = t3.indices;
    for (let a3 = 0; a3 < o2.length; a3++) {
      const i5 = o2[a3];
      i5 && (o2[a3] = [i5[0] + e, i5[1] + e]);
    }
    const s3 = o2.groups;
    s3 && Object.keys(s3).forEach((a3) => {
      const i5 = s3[a3];
      i5 && (s3[a3] = [i5[0] + e, i5[1] + e]);
    });
  }
}
function Tc(t3, e) {
  const n4 = /* @__PURE__ */ new Map();
  for (const r4 of t3)
    n4.set(r4, {
      hidden: true
    });
  for (const [r4, o2] of e)
    for (const s3 of o2)
      qe2(n4, s3, {}).transferTo = r4;
  return n4;
}
function Mc(t3) {
  const e = /(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu, n4 = /* @__PURE__ */ new Map();
  let r4 = 0, o2 = 0, s3;
  for (; s3 = e.exec(t3); ) {
    const { 0: a3, groups: { capture: i5, name: l3 } } = s3;
    a3 === "[" ? r4++ : r4 ? a3 === "]" && r4-- : i5 && (o2++, l3 && n4.set(o2, l3));
  }
  return n4;
}
function Oc(t3, e) {
  const n4 = Dc(t3, e);
  return n4.options ? new Lc(n4.pattern, n4.flags, n4.options) : new RegExp(n4.pattern, n4.flags);
}
function Dc(t3, e) {
  const n4 = Vo(e), r4 = Fo(t3, {
    flags: n4.flags,
    normalizeUnknownPropertyNames: true,
    rules: {
      captureGroup: n4.rules.captureGroup,
      singleline: n4.rules.singleline
    },
    skipBackrefValidation: n4.rules.allowOrphanBackrefs,
    unicodePropertyMap: An
  }), o2 = cc(r4, {
    accuracy: n4.accuracy,
    asciiWordBoundaries: n4.rules.asciiWordBoundaries,
    avoidSubclass: n4.avoidSubclass,
    bestEffortTarget: n4.target
  }), s3 = _c(o2, n4), a3 = Qu(s3.pattern, {
    captureTransfers: s3._captureTransfers,
    hiddenCaptures: s3._hiddenCaptures,
    mode: "external"
  }), i5 = Ju(a3.pattern), l3 = Yu(i5.pattern, {
    captureTransfers: a3.captureTransfers,
    hiddenCaptures: a3.hiddenCaptures
  }), u5 = {
    pattern: l3.pattern,
    flags: `${n4.hasIndices ? "d" : ""}${n4.global ? "g" : ""}${s3.flags}${s3.options.disable.v ? "u" : "v"}`
  };
  if (n4.avoidSubclass) {
    if (n4.lazyCompileLength !== 1 / 0)
      throw new Error("Lazy compilation requires subclass");
  } else {
    const c6 = l3.hiddenCaptures.sort((p3, m3) => p3 - m3), h3 = Array.from(l3.captureTransfers), d2 = o2._strategy, f8 = u5.pattern.length >= n4.lazyCompileLength;
    (c6.length || h3.length || d2 || f8) && (u5.options = {
      ...c6.length && { hiddenCaptures: c6 },
      ...h3.length && { transfers: h3 },
      ...d2 && { strategy: d2 },
      ...f8 && { lazyCompile: f8 }
    });
  }
  return u5;
}
var Rr = 4294967295;
var Gc = class {
  constructor(e, n4 = {}) {
    this.patterns = e, this.options = n4;
    const {
      forgiving: r4 = false,
      cache: o2,
      regexConstructor: s3
    } = n4;
    if (!s3)
      throw new Error("Option `regexConstructor` is not provided");
    this.regexps = e.map((a3) => {
      if (typeof a3 != "string")
        return a3;
      const i5 = o2?.get(a3);
      if (i5) {
        if (i5 instanceof RegExp)
          return i5;
        if (r4)
          return null;
        throw i5;
      }
      try {
        const l3 = s3(a3);
        return o2?.set(a3, l3), l3;
      } catch (l3) {
        if (o2?.set(a3, l3), r4)
          return null;
        throw l3;
      }
    });
  }
  regexps;
  findNextMatchSync(e, n4, r4) {
    const o2 = typeof e == "string" ? e : e.content, s3 = [];
    function a3(i5, l3, u5 = 0) {
      return {
        index: i5,
        captureIndices: l3.indices.map((c6) => c6 == null ? {
          start: Rr,
          end: Rr,
          length: 0
        } : {
          start: c6[0] + u5,
          end: c6[1] + u5,
          length: c6[1] - c6[0]
        })
      };
    }
    for (let i5 = 0; i5 < this.regexps.length; i5++) {
      const l3 = this.regexps[i5];
      if (l3)
        try {
          l3.lastIndex = n4;
          const u5 = l3.exec(o2);
          if (!u5)
            continue;
          if (u5.index === n4)
            return a3(i5, u5, 0);
          s3.push([i5, u5, 0]);
        } catch (u5) {
          if (this.options.forgiving)
            continue;
          throw u5;
        }
    }
    if (s3.length) {
      const i5 = Math.min(...s3.map((l3) => l3[1].index));
      for (const [l3, u5, c6] of s3)
        if (u5.index === i5)
          return a3(l3, u5, c6);
    }
    return null;
  }
};
function Fc(t3, e) {
  return Oc(
    t3,
    {
      global: true,
      hasIndices: true,
      // This has no benefit for the standard JS engine, but it avoids a perf penalty for
      // precompiled grammars when constructing extremely long patterns that aren't always used
      lazyCompileLength: 3e3,
      rules: {
        // Needed since TextMate grammars merge backrefs across patterns
        allowOrphanBackrefs: true,
        // Improves search performance for generated regexes
        asciiWordBoundaries: true,
        // Follow `vscode-oniguruma` which enables this Oniguruma option by default
        captureGroup: true,
        // Oniguruma uses depth limit `20`; lowered here to keep regexes shorter and maybe
        // sometimes faster, but can be increased if issues reported due to low limit
        recursionLimit: 5,
        // Oniguruma option for `^`->`\A`, `$`->`\Z`; improves search performance without any
        // change in meaning since TM grammars search line by line
        singleline: true
      },
      ...e
    }
  );
}
function Bc(t3 = {}) {
  const e = Object.assign(
    {
      target: "auto",
      cache: /* @__PURE__ */ new Map()
    },
    t3
  );
  return e.regexConstructor ||= (n4) => Fc(n4, { target: e.target }), {
    createScanner(n4) {
      return new Gc(n4, e);
    },
    createString(n4) {
      return {
        content: n4
      };
    }
  };
}
var jc = Bc({ forgiving: true });
var Uc = await Hl({
  engine: jc,
  langAlias: {
    markup: "html",
    svg: "xml",
    mathml: "xml",
    atom: "xml",
    ssml: "xml",
    rss: "xml",
    webmanifest: "json"
  }
});
var wt = {
  themes: {
    light: "github-light",
    dark: "github-dark"
  },
  defaultColor: false,
  inline: "tailing-curly-colon",
  addLanguageClass: true,
  transformers: [Jl(), Ql()],
  parseMetaString: (t3) => {
    const e = t3.matchAll(
      /([a-z0-9]+)(?:=(["'])(.*?)\2|=(.*?)(?:\s|$)|(?:\s|$))/gi
    );
    return Object.fromEntries(
      Array.from(e).map((n4) => {
        const r4 = n4[1], o2 = n4[3] || n4[4] || true;
        return [r4, o2];
      })
    );
  }
};
var zc = () => (t3) => {
  Vr(t3, "element", (e, n4, r4) => {
    if (e.tagName !== "code") return;
    const o2 = r4?.type === "element" && r4.tagName === "pre";
    e.properties.inline = JSON.stringify(!o2), o2 && (e.properties = {
      ...e.properties,
      ...structuredClone(r4.properties),
      class: mo(e.properties.class, r4.properties.class)
    }, r4.properties = {});
  });
};
var uh = (t3) => [
  [
    Kl,
    Uc,
    {
      ...wt,
      themes: t3 ?? wt.themes
    }
  ],
  zc
];
var Hc = (t3, e, n4 = "text", r4 = wt.themes) => {
  const o2 = t3.codeToHast(e, {
    lang: n4,
    ...wt,
    themes: r4
  });
  return Ds(o2, { Fragment: import_react5.Fragment, jsx: ae.jsx, jsxs: ae.jsxs });
};
var Wc = (0, import_react5.memo)(
  ({ code: t3, children: e, embedded: n4, ...r4 }) => {
    const { syntaxHighlighting: o2 } = X().options;
    l(o2?.highlighter, "Highlighter not found");
    const s3 = Hc(
      o2.highlighter,
      t3 ?? e,
      r4.language,
      o2.themes
    );
    return n4 ? ae.jsx(j5, { ...r4, children: s3 }) : ae.jsx(w3, { ...r4, children: s3 });
  }
);
Wc.displayName = "SyntaxHighlight";

// node_modules/@radix-ui/react-collapsible/dist/index.mjs
var React = __toESM(require_react(), 1);
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var COLLAPSIBLE_NAME = "Collapsible";
var [createCollapsibleContext, createCollapsibleScope] = createContextScope(COLLAPSIBLE_NAME);
var [CollapsibleProvider, useCollapsibleContext] = createCollapsibleContext(COLLAPSIBLE_NAME);
var Collapsible = React.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopeCollapsible,
      open: openProp,
      defaultOpen,
      disabled,
      onOpenChange,
      ...collapsibleProps
    } = props;
    const [open, setOpen] = useControllableState({
      prop: openProp,
      defaultProp: defaultOpen ?? false,
      onChange: onOpenChange,
      caller: COLLAPSIBLE_NAME
    });
    return (0, import_jsx_runtime.jsx)(
      CollapsibleProvider,
      {
        scope: __scopeCollapsible,
        disabled,
        contentId: useId(),
        open,
        onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),
        children: (0, import_jsx_runtime.jsx)(
          Primitive.div,
          {
            "data-state": getState(open),
            "data-disabled": disabled ? "" : void 0,
            ...collapsibleProps,
            ref: forwardedRef
          }
        )
      }
    );
  }
);
Collapsible.displayName = COLLAPSIBLE_NAME;
var TRIGGER_NAME = "CollapsibleTrigger";
var CollapsibleTrigger = React.forwardRef(
  (props, forwardedRef) => {
    const { __scopeCollapsible, ...triggerProps } = props;
    const context = useCollapsibleContext(TRIGGER_NAME, __scopeCollapsible);
    return (0, import_jsx_runtime.jsx)(
      Primitive.button,
      {
        type: "button",
        "aria-controls": context.contentId,
        "aria-expanded": context.open || false,
        "data-state": getState(context.open),
        "data-disabled": context.disabled ? "" : void 0,
        disabled: context.disabled,
        ...triggerProps,
        ref: forwardedRef,
        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)
      }
    );
  }
);
CollapsibleTrigger.displayName = TRIGGER_NAME;
var CONTENT_NAME = "CollapsibleContent";
var CollapsibleContent = React.forwardRef(
  (props, forwardedRef) => {
    const { forceMount, ...contentProps } = props;
    const context = useCollapsibleContext(CONTENT_NAME, props.__scopeCollapsible);
    return (0, import_jsx_runtime.jsx)(Presence, { present: forceMount || context.open, children: ({ present }) => (0, import_jsx_runtime.jsx)(CollapsibleContentImpl, { ...contentProps, ref: forwardedRef, present }) });
  }
);
CollapsibleContent.displayName = CONTENT_NAME;
var CollapsibleContentImpl = React.forwardRef((props, forwardedRef) => {
  const { __scopeCollapsible, present, children, ...contentProps } = props;
  const context = useCollapsibleContext(CONTENT_NAME, __scopeCollapsible);
  const [isPresent, setIsPresent] = React.useState(present);
  const ref = React.useRef(null);
  const composedRefs = useComposedRefs(forwardedRef, ref);
  const heightRef = React.useRef(0);
  const height = heightRef.current;
  const widthRef = React.useRef(0);
  const width = widthRef.current;
  const isOpen = context.open || isPresent;
  const isMountAnimationPreventedRef = React.useRef(isOpen);
  const originalStylesRef = React.useRef(void 0);
  React.useEffect(() => {
    const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);
    return () => cancelAnimationFrame(rAF);
  }, []);
  useLayoutEffect2(() => {
    const node = ref.current;
    if (node) {
      originalStylesRef.current = originalStylesRef.current || {
        transitionDuration: node.style.transitionDuration,
        animationName: node.style.animationName
      };
      node.style.transitionDuration = "0s";
      node.style.animationName = "none";
      const rect = node.getBoundingClientRect();
      heightRef.current = rect.height;
      widthRef.current = rect.width;
      if (!isMountAnimationPreventedRef.current) {
        node.style.transitionDuration = originalStylesRef.current.transitionDuration;
        node.style.animationName = originalStylesRef.current.animationName;
      }
      setIsPresent(present);
    }
  }, [context.open, present]);
  return (0, import_jsx_runtime.jsx)(
    Primitive.div,
    {
      "data-state": getState(context.open),
      "data-disabled": context.disabled ? "" : void 0,
      id: context.contentId,
      hidden: !isOpen,
      ...contentProps,
      ref: composedRefs,
      style: {
        [`--radix-collapsible-content-height`]: height ? `${height}px` : void 0,
        [`--radix-collapsible-content-width`]: width ? `${width}px` : void 0,
        ...props.style
      },
      children: isOpen && children
    }
  );
});
function getState(open) {
  return open ? "open" : "closed";
}
var Root5 = Collapsible;
var Trigger3 = CollapsibleTrigger;
var Content3 = CollapsibleContent;

// node_modules/zudoku/lib/Button-BE9IVkWV.js
var c2 = __toESM(require_react(), 1);
var f5 = j(
  "not-prose inline-flex shrink-0 items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90",
        outline: "border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        "ghost-destructive": "text-destructive hover:bg-destructive hover:text-destructive-foreground",
        link: "text-primary underline-offset-4 hover:underline",
        expand: "flex gap-1.5 border bg-transparent rounded-xl text-muted-foreground hover:text-foreground"
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        xl: "h-14 rounded-lg px-10 text-lg",
        icon: "size-9",
        "icon-xs": "size-7"
      }
    },
    defaultVariants: {
      variant: "default",
      size: "default"
    }
  }
);
var g3 = c2.forwardRef(
  ({ className: e, variant: t3, size: r4, asChild: o2 = false, ...n4 }, s3) => {
    const d2 = o2 ? Slot : "button";
    return ae.jsx(
      d2,
      {
        className: mo(f5({ variant: t3, size: r4, className: e })),
        ref: s3,
        ...n4
      }
    );
  }
);
g3.displayName = "Button";

// node_modules/zudoku/lib/Slot-DwZlQ-vX.js
var Ms2 = __toESM(require_react(), 1);
var import_react6 = __toESM(require_react(), 1);

// node_modules/zudoku/lib/ui/Stepper.js
var t = ({ children: e }) => ae.jsx("div", { className: "stepper", children: e });

// node_modules/zudoku/lib/useExposedProps-BIYjecPD.js
var i2 = () => {
  const a3 = N(), s3 = ne(), [e, o2] = hr(), r4 = sr();
  return { location: a3, navigate: s3, params: r4, searchParams: e, setSearchParams: o2 };
};

// node_modules/zudoku/lib/Slot-DwZlQ-vX.js
var DE = class extends Ut {
  #t;
  #e;
  #r;
  constructor(e) {
    super(), this.mutationId = e.mutationId, this.#e = e.mutationCache, this.#t = [], this.state = e.state || io2(), this.setOptions(e.options), this.scheduleGc();
  }
  setOptions(e) {
    this.options = e, this.updateGcTime(this.options.gcTime);
  }
  get meta() {
    return this.options.meta;
  }
  addObserver(e) {
    this.#t.includes(e) || (this.#t.push(e), this.clearGcTimeout(), this.#e.notify({
      type: "observerAdded",
      mutation: this,
      observer: e
    }));
  }
  removeObserver(e) {
    this.#t = this.#t.filter((t3) => t3 !== e), this.scheduleGc(), this.#e.notify({
      type: "observerRemoved",
      mutation: this,
      observer: e
    });
  }
  optionalRemove() {
    this.#t.length || (this.state.status === "pending" ? this.scheduleGc() : this.#e.remove(this));
  }
  continue() {
    return this.#r?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before
    this.execute(this.state.variables);
  }
  async execute(e) {
    const t3 = () => {
      this.#n({ type: "continue" });
    };
    this.#r = xt({
      fn: () => this.options.mutationFn ? this.options.mutationFn(e) : Promise.reject(new Error("No mutationFn found")),
      onFail: (u5, a3) => {
        this.#n({ type: "failed", failureCount: u5, error: a3 });
      },
      onPause: () => {
        this.#n({ type: "pause" });
      },
      onContinue: t3,
      retry: this.options.retry ?? 0,
      retryDelay: this.options.retryDelay,
      networkMode: this.options.networkMode,
      canRun: () => this.#e.canRun(this)
    });
    const n4 = this.state.status === "pending", r4 = !this.#r.canStart();
    try {
      if (n4)
        t3();
      else {
        this.#n({ type: "pending", variables: e, isPaused: r4 }), await this.#e.config.onMutate?.(
          e,
          this
        );
        const a3 = await this.options.onMutate?.(e);
        a3 !== this.state.context && this.#n({
          type: "pending",
          context: a3,
          variables: e,
          isPaused: r4
        });
      }
      const u5 = await this.#r.start();
      return await this.#e.config.onSuccess?.(
        u5,
        e,
        this.state.context,
        this
      ), await this.options.onSuccess?.(u5, e, this.state.context), await this.#e.config.onSettled?.(
        u5,
        null,
        this.state.variables,
        this.state.context,
        this
      ), await this.options.onSettled?.(u5, null, e, this.state.context), this.#n({ type: "success", data: u5 }), u5;
    } catch (u5) {
      try {
        throw await this.#e.config.onError?.(
          u5,
          e,
          this.state.context,
          this
        ), await this.options.onError?.(
          u5,
          e,
          this.state.context
        ), await this.#e.config.onSettled?.(
          void 0,
          u5,
          this.state.variables,
          this.state.context,
          this
        ), await this.options.onSettled?.(
          void 0,
          u5,
          e,
          this.state.context
        ), u5;
      } finally {
        this.#n({ type: "error", error: u5 });
      }
    } finally {
      this.#e.runNext(this);
    }
  }
  #n(e) {
    const t3 = (n4) => {
      switch (e.type) {
        case "failed":
          return {
            ...n4,
            failureCount: e.failureCount,
            failureReason: e.error
          };
        case "pause":
          return {
            ...n4,
            isPaused: true
          };
        case "continue":
          return {
            ...n4,
            isPaused: false
          };
        case "pending":
          return {
            ...n4,
            context: e.context,
            data: void 0,
            failureCount: 0,
            failureReason: null,
            error: null,
            isPaused: e.isPaused,
            status: "pending",
            variables: e.variables,
            submittedAt: Date.now()
          };
        case "success":
          return {
            ...n4,
            data: e.data,
            failureCount: 0,
            failureReason: null,
            error: null,
            status: "success",
            isPaused: false
          };
        case "error":
          return {
            ...n4,
            data: void 0,
            error: e.error,
            failureCount: n4.failureCount + 1,
            failureReason: e.error,
            isPaused: false,
            status: "error"
          };
      }
    };
    this.state = t3(this.state), J.batch(() => {
      this.#t.forEach((n4) => {
        n4.onMutationUpdate(e);
      }), this.#e.notify({
        mutation: this,
        type: "updated",
        action: e
      });
    });
  }
};
function io2() {
  return {
    context: void 0,
    data: void 0,
    error: null,
    failureCount: 0,
    failureReason: null,
    isPaused: false,
    status: "idle",
    variables: void 0,
    submittedAt: 0
  };
}
var ao2 = ({
  children: e,
  className: t3
}) => ae.jsx("div", { className: y("text-sm font-semibold text-primary mb-2", t3), children: e });
var Ln2 = {
  action: ["form"],
  cite: ["blockquote", "del", "ins", "q"],
  data: ["object"],
  formAction: ["button", "input"],
  href: ["a", "area", "base", "link"],
  icon: ["menuitem"],
  itemId: null,
  manifest: ["html"],
  ping: ["a", "area"],
  poster: ["video"],
  src: [
    "audio",
    "embed",
    "iframe",
    "img",
    "input",
    "script",
    "source",
    "track",
    "video"
  ]
};
var so2 = {};
function fr2(e, t3) {
  const n4 = so2, r4 = typeof n4.includeImageAlt == "boolean" ? n4.includeImageAlt : true, u5 = typeof n4.includeHtml == "boolean" ? n4.includeHtml : true;
  return di2(e, r4, u5);
}
function di2(e, t3, n4) {
  if (oo2(e)) {
    if ("value" in e)
      return e.type === "html" && !n4 ? "" : e.value;
    if (t3 && "alt" in e && e.alt)
      return e.alt;
    if ("children" in e)
      return Wr2(e.children, t3, n4);
  }
  return Array.isArray(e) ? Wr2(e, t3, n4) : "";
}
function Wr2(e, t3, n4) {
  const r4 = [];
  let u5 = -1;
  for (; ++u5 < e.length; )
    r4[u5] = di2(e[u5], t3, n4);
  return r4.join("");
}
function oo2(e) {
  return !!(e && typeof e == "object");
}
var Qr2 = typeof document < "u" && document.createElement("i");
function hr3(e) {
  const t3 = "&" + e + ";";
  Qr2.innerHTML = t3;
  const n4 = Qr2.textContent;
  return n4.charCodeAt(n4.length - 1) === 59 && e !== "semi" || n4 === t3 ? false : n4;
}
function Oe3(e, t3, n4, r4) {
  const u5 = e.length;
  let a3 = 0, i5;
  if (t3 < 0 ? t3 = -t3 > u5 ? 0 : u5 + t3 : t3 = t3 > u5 ? u5 : t3, n4 = n4 > 0 ? n4 : 0, r4.length < 1e4)
    i5 = Array.from(r4), i5.unshift(t3, n4), e.splice(...i5);
  else
    for (n4 && e.splice(t3, n4); a3 < r4.length; )
      i5 = r4.slice(a3, a3 + 1e4), i5.unshift(t3, 0), e.splice(...i5), a3 += 1e4, t3 += 1e4;
}
function ge2(e, t3) {
  return e.length > 0 ? (Oe3(e, e.length, 0, t3), e) : t3;
}
var Gr2 = {}.hasOwnProperty;
function lo2(e) {
  const t3 = {};
  let n4 = -1;
  for (; ++n4 < e.length; )
    co2(t3, e[n4]);
  return t3;
}
function co2(e, t3) {
  let n4;
  for (n4 in t3) {
    const u5 = (Gr2.call(e, n4) ? e[n4] : void 0) || (e[n4] = {}), a3 = t3[n4];
    let i5;
    if (a3)
      for (i5 in a3) {
        Gr2.call(u5, i5) || (u5[i5] = []);
        const o2 = a3[i5];
        fo2(
          // @ts-expect-error Looks like a list.
          u5[i5],
          Array.isArray(o2) ? o2 : o2 ? [o2] : []
        );
      }
  }
}
function fo2(e, t3) {
  let n4 = -1;
  const r4 = [];
  for (; ++n4 < t3.length; )
    (t3[n4].add === "after" ? e : r4).push(t3[n4]);
  Oe3(e, 0, 0, r4);
}
function mi2(e, t3) {
  const n4 = Number.parseInt(e, t3);
  return (
    // C0 except for HT, LF, FF, CR, space.
    n4 < 9 || n4 === 11 || n4 > 13 && n4 < 32 || // Control character (DEL) of C0, and C1 controls.
    n4 > 126 && n4 < 160 || // Lone high surrogates and low surrogates.
    n4 > 55295 && n4 < 57344 || // Noncharacters.
    n4 > 64975 && n4 < 65008 || /* eslint-disable no-bitwise */
    (n4 & 65535) === 65535 || (n4 & 65535) === 65534 || /* eslint-enable no-bitwise */
    // Out of range
    n4 > 1114111 ? "" : String.fromCodePoint(n4)
  );
}
function ft2(e) {
  return e.replace(/[\t\n\r ]+/g, " ").replace(/^ | $/g, "").toLowerCase().toUpperCase();
}
var de3 = Qe3(/[A-Za-z]/);
var fe2 = Qe3(/[\dA-Za-z]/);
var ho2 = Qe3(/[#-'*+\--9=?A-Z^-~]/);
function on2(e) {
  return (
    // Special whitespace codes (which have negative values), C0 and Control
    // character DEL
    e !== null && (e < 32 || e === 127)
  );
}
var Xn2 = Qe3(/\d/);
var mo3 = Qe3(/[\dA-Fa-f]/);
var po2 = Qe3(/[!-/:-@[-`{-~]/);
function H4(e) {
  return e !== null && e < -2;
}
function J5(e) {
  return e !== null && (e < 0 || e === 32);
}
function j6(e) {
  return e === -2 || e === -1 || e === 32;
}
var bn2 = Qe3(/\p{P}|\p{S}/u);
var tt2 = Qe3(/\s/);
function Qe3(e) {
  return t3;
  function t3(n4) {
    return n4 !== null && n4 > -1 && e.test(String.fromCharCode(n4));
  }
}
function W4(e, t3, n4, r4) {
  const u5 = r4 ? r4 - 1 : Number.POSITIVE_INFINITY;
  let a3 = 0;
  return i5;
  function i5(l3) {
    return j6(l3) ? (e.enter(n4), o2(l3)) : t3(l3);
  }
  function o2(l3) {
    return j6(l3) && a3++ < u5 ? (e.consume(l3), o2) : (e.exit(n4), t3(l3));
  }
}
var Eo2 = {
  tokenize: To2
};
function To2(e) {
  const t3 = e.attempt(
    this.parser.constructs.contentInitial,
    r4,
    u5
  );
  let n4;
  return t3;
  function r4(o2) {
    if (o2 === null) {
      e.consume(o2);
      return;
    }
    return e.enter("lineEnding"), e.consume(o2), e.exit("lineEnding"), W4(e, t3, "linePrefix");
  }
  function u5(o2) {
    return e.enter("paragraph"), a3(o2);
  }
  function a3(o2) {
    const l3 = e.enter("chunkText", {
      contentType: "text",
      previous: n4
    });
    return n4 && (n4.next = l3), n4 = l3, i5(o2);
  }
  function i5(o2) {
    if (o2 === null) {
      e.exit("chunkText"), e.exit("paragraph"), e.consume(o2);
      return;
    }
    return H4(o2) ? (e.consume(o2), e.exit("chunkText"), a3) : (e.consume(o2), i5);
  }
}
var go2 = {
  tokenize: bo2
};
var Xr2 = {
  tokenize: Ao2
};
function bo2(e) {
  const t3 = this, n4 = [];
  let r4 = 0, u5, a3, i5;
  return o2;
  function o2(D3) {
    if (r4 < n4.length) {
      const z4 = n4[r4];
      return t3.containerState = z4[1], e.attempt(
        z4[0].continuation,
        l3,
        c6
      )(D3);
    }
    return c6(D3);
  }
  function l3(D3) {
    if (r4++, t3.containerState._closeFlow) {
      t3.containerState._closeFlow = void 0, u5 && w6();
      const z4 = t3.events.length;
      let Y5 = z4, O4;
      for (; Y5--; )
        if (t3.events[Y5][0] === "exit" && t3.events[Y5][1].type === "chunkFlow") {
          O4 = t3.events[Y5][1].end;
          break;
        }
      x8(r4);
      let Q6 = z4;
      for (; Q6 < t3.events.length; )
        t3.events[Q6][1].end = Object.assign({}, O4), Q6++;
      return Oe3(
        t3.events,
        Y5 + 1,
        0,
        t3.events.slice(z4)
      ), t3.events.length = Q6, c6(D3);
    }
    return o2(D3);
  }
  function c6(D3) {
    if (r4 === n4.length) {
      if (!u5)
        return p3(D3);
      if (u5.currentConstruct && u5.currentConstruct.concrete)
        return A3(D3);
      t3.interrupt = !!(u5.currentConstruct && !u5._gfmTableDynamicInterruptHack);
    }
    return t3.containerState = {}, e.check(
      Xr2,
      h3,
      f8
    )(D3);
  }
  function h3(D3) {
    return u5 && w6(), x8(r4), p3(D3);
  }
  function f8(D3) {
    return t3.parser.lazy[t3.now().line] = r4 !== n4.length, i5 = t3.now().offset, A3(D3);
  }
  function p3(D3) {
    return t3.containerState = {}, e.attempt(
      Xr2,
      d2,
      A3
    )(D3);
  }
  function d2(D3) {
    return r4++, n4.push([t3.currentConstruct, t3.containerState]), p3(D3);
  }
  function A3(D3) {
    if (D3 === null) {
      u5 && w6(), x8(0), e.consume(D3);
      return;
    }
    return u5 = u5 || t3.parser.flow(t3.now()), e.enter("chunkFlow", {
      contentType: "flow",
      previous: a3,
      _tokenizer: u5
    }), I4(D3);
  }
  function I4(D3) {
    if (D3 === null) {
      L4(e.exit("chunkFlow"), true), x8(0), e.consume(D3);
      return;
    }
    return H4(D3) ? (e.consume(D3), L4(e.exit("chunkFlow")), r4 = 0, t3.interrupt = void 0, o2) : (e.consume(D3), I4);
  }
  function L4(D3, z4) {
    const Y5 = t3.sliceStream(D3);
    if (z4 && Y5.push(null), D3.previous = a3, a3 && (a3.next = D3), a3 = D3, u5.defineSkip(D3.start), u5.write(Y5), t3.parser.lazy[D3.start.line]) {
      let O4 = u5.events.length;
      for (; O4--; )
        if (
          // The token starts before the line ending
          u5.events[O4][1].start.offset < i5 && // and either is not ended yet
          (!u5.events[O4][1].end || // or ends after it.
          u5.events[O4][1].end.offset > i5)
        )
          return;
      const Q6 = t3.events.length;
      let ee3 = Q6, X6, N5;
      for (; ee3--; )
        if (t3.events[ee3][0] === "exit" && t3.events[ee3][1].type === "chunkFlow") {
          if (X6) {
            N5 = t3.events[ee3][1].end;
            break;
          }
          X6 = true;
        }
      for (x8(r4), O4 = Q6; O4 < t3.events.length; )
        t3.events[O4][1].end = Object.assign({}, N5), O4++;
      Oe3(
        t3.events,
        ee3 + 1,
        0,
        t3.events.slice(Q6)
      ), t3.events.length = O4;
    }
  }
  function x8(D3) {
    let z4 = n4.length;
    for (; z4-- > D3; ) {
      const Y5 = n4[z4];
      t3.containerState = Y5[1], Y5[0].exit.call(t3, e);
    }
    n4.length = D3;
  }
  function w6() {
    u5.write([null]), a3 = void 0, u5 = void 0, t3.containerState._closeFlow = void 0;
  }
}
function Ao2(e, t3, n4) {
  return W4(
    e,
    e.attempt(this.parser.constructs.document, t3, n4),
    "linePrefix",
    this.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4
  );
}
function mt2(e) {
  if (e === null || J5(e) || tt2(e))
    return 1;
  if (bn2(e))
    return 2;
}
function dr3(e, t3, n4) {
  const r4 = [];
  let u5 = -1;
  for (; ++u5 < e.length; ) {
    const a3 = e[u5].resolveAll;
    a3 && !r4.includes(a3) && (t3 = a3(t3, n4), r4.push(a3));
  }
  return t3;
}
var Kn2 = {
  name: "attention",
  tokenize: Co2,
  resolveAll: _o2
};
function _o2(e, t3) {
  let n4 = -1, r4, u5, a3, i5, o2, l3, c6, h3;
  for (; ++n4 < e.length; )
    if (e[n4][0] === "enter" && e[n4][1].type === "attentionSequence" && e[n4][1]._close) {
      for (r4 = n4; r4--; )
        if (e[r4][0] === "exit" && e[r4][1].type === "attentionSequence" && e[r4][1]._open && // If the markers are the same:
        t3.sliceSerialize(e[r4][1]).charCodeAt(0) === t3.sliceSerialize(e[n4][1]).charCodeAt(0)) {
          if ((e[r4][1]._close || e[n4][1]._open) && (e[n4][1].end.offset - e[n4][1].start.offset) % 3 && !((e[r4][1].end.offset - e[r4][1].start.offset + e[n4][1].end.offset - e[n4][1].start.offset) % 3))
            continue;
          l3 = e[r4][1].end.offset - e[r4][1].start.offset > 1 && e[n4][1].end.offset - e[n4][1].start.offset > 1 ? 2 : 1;
          const f8 = Object.assign({}, e[r4][1].end), p3 = Object.assign({}, e[n4][1].start);
          Kr2(f8, -l3), Kr2(p3, l3), i5 = {
            type: l3 > 1 ? "strongSequence" : "emphasisSequence",
            start: f8,
            end: Object.assign({}, e[r4][1].end)
          }, o2 = {
            type: l3 > 1 ? "strongSequence" : "emphasisSequence",
            start: Object.assign({}, e[n4][1].start),
            end: p3
          }, a3 = {
            type: l3 > 1 ? "strongText" : "emphasisText",
            start: Object.assign({}, e[r4][1].end),
            end: Object.assign({}, e[n4][1].start)
          }, u5 = {
            type: l3 > 1 ? "strong" : "emphasis",
            start: Object.assign({}, i5.start),
            end: Object.assign({}, o2.end)
          }, e[r4][1].end = Object.assign({}, i5.start), e[n4][1].start = Object.assign({}, o2.end), c6 = [], e[r4][1].end.offset - e[r4][1].start.offset && (c6 = ge2(c6, [
            ["enter", e[r4][1], t3],
            ["exit", e[r4][1], t3]
          ])), c6 = ge2(c6, [
            ["enter", u5, t3],
            ["enter", i5, t3],
            ["exit", i5, t3],
            ["enter", a3, t3]
          ]), c6 = ge2(
            c6,
            dr3(
              t3.parser.constructs.insideSpan.null,
              e.slice(r4 + 1, n4),
              t3
            )
          ), c6 = ge2(c6, [
            ["exit", a3, t3],
            ["enter", o2, t3],
            ["exit", o2, t3],
            ["exit", u5, t3]
          ]), e[n4][1].end.offset - e[n4][1].start.offset ? (h3 = 2, c6 = ge2(c6, [
            ["enter", e[n4][1], t3],
            ["exit", e[n4][1], t3]
          ])) : h3 = 0, Oe3(e, r4 - 1, n4 - r4 + 3, c6), n4 = r4 + c6.length - h3 - 2;
          break;
        }
    }
  for (n4 = -1; ++n4 < e.length; )
    e[n4][1].type === "attentionSequence" && (e[n4][1].type = "data");
  return e;
}
function Co2(e, t3) {
  const n4 = this.parser.constructs.attentionMarkers.null, r4 = this.previous, u5 = mt2(r4);
  let a3;
  return i5;
  function i5(l3) {
    return a3 = l3, e.enter("attentionSequence"), o2(l3);
  }
  function o2(l3) {
    if (l3 === a3)
      return e.consume(l3), o2;
    const c6 = e.exit("attentionSequence"), h3 = mt2(l3), f8 = !h3 || h3 === 2 && u5 || n4.includes(l3), p3 = !u5 || u5 === 2 && h3 || n4.includes(r4);
    return c6._open = !!(a3 === 42 ? f8 : f8 && (u5 || !p3)), c6._close = !!(a3 === 42 ? p3 : p3 && (h3 || !f8)), t3(l3);
  }
}
function Kr2(e, t3) {
  e.column += t3, e.offset += t3, e._bufferIndex += t3;
}
var Io2 = {
  name: "autolink",
  tokenize: xo2
};
function xo2(e, t3, n4) {
  let r4 = 0;
  return u5;
  function u5(d2) {
    return e.enter("autolink"), e.enter("autolinkMarker"), e.consume(d2), e.exit("autolinkMarker"), e.enter("autolinkProtocol"), a3;
  }
  function a3(d2) {
    return de3(d2) ? (e.consume(d2), i5) : c6(d2);
  }
  function i5(d2) {
    return d2 === 43 || d2 === 45 || d2 === 46 || fe2(d2) ? (r4 = 1, o2(d2)) : c6(d2);
  }
  function o2(d2) {
    return d2 === 58 ? (e.consume(d2), r4 = 0, l3) : (d2 === 43 || d2 === 45 || d2 === 46 || fe2(d2)) && r4++ < 32 ? (e.consume(d2), o2) : (r4 = 0, c6(d2));
  }
  function l3(d2) {
    return d2 === 62 ? (e.exit("autolinkProtocol"), e.enter("autolinkMarker"), e.consume(d2), e.exit("autolinkMarker"), e.exit("autolink"), t3) : d2 === null || d2 === 32 || d2 === 60 || on2(d2) ? n4(d2) : (e.consume(d2), l3);
  }
  function c6(d2) {
    return d2 === 64 ? (e.consume(d2), h3) : ho2(d2) ? (e.consume(d2), c6) : n4(d2);
  }
  function h3(d2) {
    return fe2(d2) ? f8(d2) : n4(d2);
  }
  function f8(d2) {
    return d2 === 46 ? (e.consume(d2), r4 = 0, h3) : d2 === 62 ? (e.exit("autolinkProtocol").type = "autolinkEmail", e.enter("autolinkMarker"), e.consume(d2), e.exit("autolinkMarker"), e.exit("autolink"), t3) : p3(d2);
  }
  function p3(d2) {
    if ((d2 === 45 || fe2(d2)) && r4++ < 63) {
      const A3 = d2 === 45 ? p3 : f8;
      return e.consume(d2), A3;
    }
    return n4(d2);
  }
}
var An2 = {
  tokenize: No2,
  partial: true
};
function No2(e, t3, n4) {
  return r4;
  function r4(a3) {
    return j6(a3) ? W4(e, u5, "linePrefix")(a3) : u5(a3);
  }
  function u5(a3) {
    return a3 === null || H4(a3) ? t3(a3) : n4(a3);
  }
}
var pi2 = {
  name: "blockQuote",
  tokenize: So2,
  continuation: {
    tokenize: ko2
  },
  exit: Oo2
};
function So2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    if (i5 === 62) {
      const o2 = r4.containerState;
      return o2.open || (e.enter("blockQuote", {
        _container: true
      }), o2.open = true), e.enter("blockQuotePrefix"), e.enter("blockQuoteMarker"), e.consume(i5), e.exit("blockQuoteMarker"), a3;
    }
    return n4(i5);
  }
  function a3(i5) {
    return j6(i5) ? (e.enter("blockQuotePrefixWhitespace"), e.consume(i5), e.exit("blockQuotePrefixWhitespace"), e.exit("blockQuotePrefix"), t3) : (e.exit("blockQuotePrefix"), t3(i5));
  }
}
function ko2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return j6(i5) ? W4(
      e,
      a3,
      "linePrefix",
      r4.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4
    )(i5) : a3(i5);
  }
  function a3(i5) {
    return e.attempt(pi2, t3, n4)(i5);
  }
}
function Oo2(e) {
  e.exit("blockQuote");
}
var Ei2 = {
  name: "characterEscape",
  tokenize: yo2
};
function yo2(e, t3, n4) {
  return r4;
  function r4(a3) {
    return e.enter("characterEscape"), e.enter("escapeMarker"), e.consume(a3), e.exit("escapeMarker"), u5;
  }
  function u5(a3) {
    return po2(a3) ? (e.enter("characterEscapeValue"), e.consume(a3), e.exit("characterEscapeValue"), e.exit("characterEscape"), t3) : n4(a3);
  }
}
var Ti2 = {
  name: "characterReference",
  tokenize: Lo2
};
function Lo2(e, t3, n4) {
  const r4 = this;
  let u5 = 0, a3, i5;
  return o2;
  function o2(f8) {
    return e.enter("characterReference"), e.enter("characterReferenceMarker"), e.consume(f8), e.exit("characterReferenceMarker"), l3;
  }
  function l3(f8) {
    return f8 === 35 ? (e.enter("characterReferenceMarkerNumeric"), e.consume(f8), e.exit("characterReferenceMarkerNumeric"), c6) : (e.enter("characterReferenceValue"), a3 = 31, i5 = fe2, h3(f8));
  }
  function c6(f8) {
    return f8 === 88 || f8 === 120 ? (e.enter("characterReferenceMarkerHexadecimal"), e.consume(f8), e.exit("characterReferenceMarkerHexadecimal"), e.enter("characterReferenceValue"), a3 = 6, i5 = mo3, h3) : (e.enter("characterReferenceValue"), a3 = 7, i5 = Xn2, h3(f8));
  }
  function h3(f8) {
    if (f8 === 59 && u5) {
      const p3 = e.exit("characterReferenceValue");
      return i5 === fe2 && !hr3(r4.sliceSerialize(p3)) ? n4(f8) : (e.enter("characterReferenceMarker"), e.consume(f8), e.exit("characterReferenceMarker"), e.exit("characterReference"), t3);
    }
    return i5(f8) && u5++ < a3 ? (e.consume(f8), h3) : n4(f8);
  }
}
var $r2 = {
  tokenize: Do2,
  partial: true
};
var Jr2 = {
  name: "codeFenced",
  tokenize: Ro2,
  concrete: true
};
function Ro2(e, t3, n4) {
  const r4 = this, u5 = {
    tokenize: Y5,
    partial: true
  };
  let a3 = 0, i5 = 0, o2;
  return l3;
  function l3(O4) {
    return c6(O4);
  }
  function c6(O4) {
    const Q6 = r4.events[r4.events.length - 1];
    return a3 = Q6 && Q6[1].type === "linePrefix" ? Q6[2].sliceSerialize(Q6[1], true).length : 0, o2 = O4, e.enter("codeFenced"), e.enter("codeFencedFence"), e.enter("codeFencedFenceSequence"), h3(O4);
  }
  function h3(O4) {
    return O4 === o2 ? (i5++, e.consume(O4), h3) : i5 < 3 ? n4(O4) : (e.exit("codeFencedFenceSequence"), j6(O4) ? W4(e, f8, "whitespace")(O4) : f8(O4));
  }
  function f8(O4) {
    return O4 === null || H4(O4) ? (e.exit("codeFencedFence"), r4.interrupt ? t3(O4) : e.check($r2, I4, z4)(O4)) : (e.enter("codeFencedFenceInfo"), e.enter("chunkString", {
      contentType: "string"
    }), p3(O4));
  }
  function p3(O4) {
    return O4 === null || H4(O4) ? (e.exit("chunkString"), e.exit("codeFencedFenceInfo"), f8(O4)) : j6(O4) ? (e.exit("chunkString"), e.exit("codeFencedFenceInfo"), W4(e, d2, "whitespace")(O4)) : O4 === 96 && O4 === o2 ? n4(O4) : (e.consume(O4), p3);
  }
  function d2(O4) {
    return O4 === null || H4(O4) ? f8(O4) : (e.enter("codeFencedFenceMeta"), e.enter("chunkString", {
      contentType: "string"
    }), A3(O4));
  }
  function A3(O4) {
    return O4 === null || H4(O4) ? (e.exit("chunkString"), e.exit("codeFencedFenceMeta"), f8(O4)) : O4 === 96 && O4 === o2 ? n4(O4) : (e.consume(O4), A3);
  }
  function I4(O4) {
    return e.attempt(u5, z4, L4)(O4);
  }
  function L4(O4) {
    return e.enter("lineEnding"), e.consume(O4), e.exit("lineEnding"), x8;
  }
  function x8(O4) {
    return a3 > 0 && j6(O4) ? W4(
      e,
      w6,
      "linePrefix",
      a3 + 1
    )(O4) : w6(O4);
  }
  function w6(O4) {
    return O4 === null || H4(O4) ? e.check($r2, I4, z4)(O4) : (e.enter("codeFlowValue"), D3(O4));
  }
  function D3(O4) {
    return O4 === null || H4(O4) ? (e.exit("codeFlowValue"), w6(O4)) : (e.consume(O4), D3);
  }
  function z4(O4) {
    return e.exit("codeFenced"), t3(O4);
  }
  function Y5(O4, Q6, ee3) {
    let X6 = 0;
    return N5;
    function N5(G3) {
      return O4.enter("lineEnding"), O4.consume(G3), O4.exit("lineEnding"), B4;
    }
    function B4(G3) {
      return O4.enter("codeFencedFence"), j6(G3) ? W4(
        O4,
        F4,
        "linePrefix",
        r4.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4
      )(G3) : F4(G3);
    }
    function F4(G3) {
      return G3 === o2 ? (O4.enter("codeFencedFenceSequence"), $7(G3)) : ee3(G3);
    }
    function $7(G3) {
      return G3 === o2 ? (X6++, O4.consume(G3), $7) : X6 >= i5 ? (O4.exit("codeFencedFenceSequence"), j6(G3) ? W4(O4, ne6, "whitespace")(G3) : ne6(G3)) : ee3(G3);
    }
    function ne6(G3) {
      return G3 === null || H4(G3) ? (O4.exit("codeFencedFence"), Q6(G3)) : ee3(G3);
    }
  }
}
function Do2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return i5 === null ? n4(i5) : (e.enter("lineEnding"), e.consume(i5), e.exit("lineEnding"), a3);
  }
  function a3(i5) {
    return r4.parser.lazy[r4.now().line] ? n4(i5) : t3(i5);
  }
}
var Rn2 = {
  name: "codeIndented",
  tokenize: wo2
};
var Po2 = {
  tokenize: Mo2,
  partial: true
};
function wo2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(c6) {
    return e.enter("codeIndented"), W4(e, a3, "linePrefix", 5)(c6);
  }
  function a3(c6) {
    const h3 = r4.events[r4.events.length - 1];
    return h3 && h3[1].type === "linePrefix" && h3[2].sliceSerialize(h3[1], true).length >= 4 ? i5(c6) : n4(c6);
  }
  function i5(c6) {
    return c6 === null ? l3(c6) : H4(c6) ? e.attempt(Po2, i5, l3)(c6) : (e.enter("codeFlowValue"), o2(c6));
  }
  function o2(c6) {
    return c6 === null || H4(c6) ? (e.exit("codeFlowValue"), i5(c6)) : (e.consume(c6), o2);
  }
  function l3(c6) {
    return e.exit("codeIndented"), t3(c6);
  }
}
function Mo2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return r4.parser.lazy[r4.now().line] ? n4(i5) : H4(i5) ? (e.enter("lineEnding"), e.consume(i5), e.exit("lineEnding"), u5) : W4(e, a3, "linePrefix", 5)(i5);
  }
  function a3(i5) {
    const o2 = r4.events[r4.events.length - 1];
    return o2 && o2[1].type === "linePrefix" && o2[2].sliceSerialize(o2[1], true).length >= 4 ? t3(i5) : H4(i5) ? u5(i5) : n4(i5);
  }
}
var Bo2 = {
  name: "codeText",
  tokenize: Uo2,
  resolve: Fo2,
  previous: Ho2
};
function Fo2(e) {
  let t3 = e.length - 4, n4 = 3, r4, u5;
  if ((e[n4][1].type === "lineEnding" || e[n4][1].type === "space") && (e[t3][1].type === "lineEnding" || e[t3][1].type === "space")) {
    for (r4 = n4; ++r4 < t3; )
      if (e[r4][1].type === "codeTextData") {
        e[n4][1].type = "codeTextPadding", e[t3][1].type = "codeTextPadding", n4 += 2, t3 -= 2;
        break;
      }
  }
  for (r4 = n4 - 1, t3++; ++r4 <= t3; )
    u5 === void 0 ? r4 !== t3 && e[r4][1].type !== "lineEnding" && (u5 = r4) : (r4 === t3 || e[r4][1].type === "lineEnding") && (e[u5][1].type = "codeTextData", r4 !== u5 + 2 && (e[u5][1].end = e[r4 - 1][1].end, e.splice(u5 + 2, r4 - u5 - 2), t3 -= r4 - u5 - 2, r4 = u5 + 2), u5 = void 0);
  return e;
}
function Ho2(e) {
  return e !== 96 || this.events[this.events.length - 1][1].type === "characterEscape";
}
function Uo2(e, t3, n4) {
  let r4 = 0, u5, a3;
  return i5;
  function i5(f8) {
    return e.enter("codeText"), e.enter("codeTextSequence"), o2(f8);
  }
  function o2(f8) {
    return f8 === 96 ? (e.consume(f8), r4++, o2) : (e.exit("codeTextSequence"), l3(f8));
  }
  function l3(f8) {
    return f8 === null ? n4(f8) : f8 === 32 ? (e.enter("space"), e.consume(f8), e.exit("space"), l3) : f8 === 96 ? (a3 = e.enter("codeTextSequence"), u5 = 0, h3(f8)) : H4(f8) ? (e.enter("lineEnding"), e.consume(f8), e.exit("lineEnding"), l3) : (e.enter("codeTextData"), c6(f8));
  }
  function c6(f8) {
    return f8 === null || f8 === 32 || f8 === 96 || H4(f8) ? (e.exit("codeTextData"), l3(f8)) : (e.consume(f8), c6);
  }
  function h3(f8) {
    return f8 === 96 ? (e.consume(f8), u5++, h3) : u5 === r4 ? (e.exit("codeTextSequence"), e.exit("codeText"), t3(f8)) : (a3.type = "codeTextData", c6(f8));
  }
}
function gi2(e) {
  const t3 = {};
  let n4 = -1, r4, u5, a3, i5, o2, l3, c6;
  for (; ++n4 < e.length; ) {
    for (; n4 in t3; )
      n4 = t3[n4];
    if (r4 = e[n4], n4 && r4[1].type === "chunkFlow" && e[n4 - 1][1].type === "listItemPrefix" && (l3 = r4[1]._tokenizer.events, a3 = 0, a3 < l3.length && l3[a3][1].type === "lineEndingBlank" && (a3 += 2), a3 < l3.length && l3[a3][1].type === "content"))
      for (; ++a3 < l3.length && l3[a3][1].type !== "content"; )
        l3[a3][1].type === "chunkText" && (l3[a3][1]._isInFirstContentOfListItem = true, a3++);
    if (r4[0] === "enter")
      r4[1].contentType && (Object.assign(t3, vo2(e, n4)), n4 = t3[n4], c6 = true);
    else if (r4[1]._container) {
      for (a3 = n4, u5 = void 0; a3-- && (i5 = e[a3], i5[1].type === "lineEnding" || i5[1].type === "lineEndingBlank"); )
        i5[0] === "enter" && (u5 && (e[u5][1].type = "lineEndingBlank"), i5[1].type = "lineEnding", u5 = a3);
      u5 && (r4[1].end = Object.assign({}, e[u5][1].start), o2 = e.slice(u5, n4), o2.unshift(r4), Oe3(e, u5, n4 - u5 + 1, o2));
    }
  }
  return !c6;
}
function vo2(e, t3) {
  const n4 = e[t3][1], r4 = e[t3][2];
  let u5 = t3 - 1;
  const a3 = [], i5 = n4._tokenizer || r4.parser[n4.contentType](n4.start), o2 = i5.events, l3 = [], c6 = {};
  let h3, f8, p3 = -1, d2 = n4, A3 = 0, I4 = 0;
  const L4 = [I4];
  for (; d2; ) {
    for (; e[++u5][1] !== d2; )
      ;
    a3.push(u5), d2._tokenizer || (h3 = r4.sliceStream(d2), d2.next || h3.push(null), f8 && i5.defineSkip(d2.start), d2._isInFirstContentOfListItem && (i5._gfmTasklistFirstContentOfListItem = true), i5.write(h3), d2._isInFirstContentOfListItem && (i5._gfmTasklistFirstContentOfListItem = void 0)), f8 = d2, d2 = d2.next;
  }
  for (d2 = n4; ++p3 < o2.length; )
    o2[p3][0] === "exit" && o2[p3 - 1][0] === "enter" && o2[p3][1].type === o2[p3 - 1][1].type && o2[p3][1].start.line !== o2[p3][1].end.line && (I4 = p3 + 1, L4.push(I4), d2._tokenizer = void 0, d2.previous = void 0, d2 = d2.next);
  for (i5.events = [], d2 ? (d2._tokenizer = void 0, d2.previous = void 0) : L4.pop(), p3 = L4.length; p3--; ) {
    const x8 = o2.slice(L4[p3], L4[p3 + 1]), w6 = a3.pop();
    l3.unshift([w6, w6 + x8.length - 1]), Oe3(e, w6, 2, x8);
  }
  for (p3 = -1; ++p3 < l3.length; )
    c6[A3 + l3[p3][0]] = A3 + l3[p3][1], A3 += l3[p3][1] - l3[p3][0] - 1;
  return c6;
}
var zo2 = {
  tokenize: jo2,
  resolve: qo2
};
var Yo2 = {
  tokenize: Vo2,
  partial: true
};
function qo2(e) {
  return gi2(e), e;
}
function jo2(e, t3) {
  let n4;
  return r4;
  function r4(o2) {
    return e.enter("content"), n4 = e.enter("chunkContent", {
      contentType: "content"
    }), u5(o2);
  }
  function u5(o2) {
    return o2 === null ? a3(o2) : H4(o2) ? e.check(
      Yo2,
      i5,
      a3
    )(o2) : (e.consume(o2), u5);
  }
  function a3(o2) {
    return e.exit("chunkContent"), e.exit("content"), t3(o2);
  }
  function i5(o2) {
    return e.consume(o2), e.exit("chunkContent"), n4.next = e.enter("chunkContent", {
      contentType: "content",
      previous: n4
    }), n4 = n4.next, u5;
  }
}
function Vo2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return e.exit("chunkContent"), e.enter("lineEnding"), e.consume(i5), e.exit("lineEnding"), W4(e, a3, "linePrefix");
  }
  function a3(i5) {
    if (i5 === null || H4(i5))
      return n4(i5);
    const o2 = r4.events[r4.events.length - 1];
    return !r4.parser.constructs.disable.null.includes("codeIndented") && o2 && o2[1].type === "linePrefix" && o2[2].sliceSerialize(o2[1], true).length >= 4 ? t3(i5) : e.interrupt(r4.parser.constructs.flow, n4, t3)(i5);
  }
}
function bi2(e, t3, n4, r4, u5, a3, i5, o2, l3) {
  const c6 = l3 || Number.POSITIVE_INFINITY;
  let h3 = 0;
  return f8;
  function f8(x8) {
    return x8 === 60 ? (e.enter(r4), e.enter(u5), e.enter(a3), e.consume(x8), e.exit(a3), p3) : x8 === null || x8 === 32 || x8 === 41 || on2(x8) ? n4(x8) : (e.enter(r4), e.enter(i5), e.enter(o2), e.enter("chunkString", {
      contentType: "string"
    }), I4(x8));
  }
  function p3(x8) {
    return x8 === 62 ? (e.enter(a3), e.consume(x8), e.exit(a3), e.exit(u5), e.exit(r4), t3) : (e.enter(o2), e.enter("chunkString", {
      contentType: "string"
    }), d2(x8));
  }
  function d2(x8) {
    return x8 === 62 ? (e.exit("chunkString"), e.exit(o2), p3(x8)) : x8 === null || x8 === 60 || H4(x8) ? n4(x8) : (e.consume(x8), x8 === 92 ? A3 : d2);
  }
  function A3(x8) {
    return x8 === 60 || x8 === 62 || x8 === 92 ? (e.consume(x8), d2) : d2(x8);
  }
  function I4(x8) {
    return !h3 && (x8 === null || x8 === 41 || J5(x8)) ? (e.exit("chunkString"), e.exit(o2), e.exit(i5), e.exit(r4), t3(x8)) : h3 < c6 && x8 === 40 ? (e.consume(x8), h3++, I4) : x8 === 41 ? (e.consume(x8), h3--, I4) : x8 === null || x8 === 32 || x8 === 40 || on2(x8) ? n4(x8) : (e.consume(x8), x8 === 92 ? L4 : I4);
  }
  function L4(x8) {
    return x8 === 40 || x8 === 41 || x8 === 92 ? (e.consume(x8), I4) : I4(x8);
  }
}
function Ai2(e, t3, n4, r4, u5, a3) {
  const i5 = this;
  let o2 = 0, l3;
  return c6;
  function c6(d2) {
    return e.enter(r4), e.enter(u5), e.consume(d2), e.exit(u5), e.enter(a3), h3;
  }
  function h3(d2) {
    return o2 > 999 || d2 === null || d2 === 91 || d2 === 93 && !l3 || // To do: remove in the future once weve switched from
    // `micromark-extension-footnote` to `micromark-extension-gfm-footnote`,
    // which doesnt need this.
    // Hidden footnotes hook.
    /* c8 ignore next 3 */
    d2 === 94 && !o2 && "_hiddenFootnoteSupport" in i5.parser.constructs ? n4(d2) : d2 === 93 ? (e.exit(a3), e.enter(u5), e.consume(d2), e.exit(u5), e.exit(r4), t3) : H4(d2) ? (e.enter("lineEnding"), e.consume(d2), e.exit("lineEnding"), h3) : (e.enter("chunkString", {
      contentType: "string"
    }), f8(d2));
  }
  function f8(d2) {
    return d2 === null || d2 === 91 || d2 === 93 || H4(d2) || o2++ > 999 ? (e.exit("chunkString"), h3(d2)) : (e.consume(d2), l3 || (l3 = !j6(d2)), d2 === 92 ? p3 : f8);
  }
  function p3(d2) {
    return d2 === 91 || d2 === 92 || d2 === 93 ? (e.consume(d2), o2++, f8) : f8(d2);
  }
}
function _i2(e, t3, n4, r4, u5, a3) {
  let i5;
  return o2;
  function o2(p3) {
    return p3 === 34 || p3 === 39 || p3 === 40 ? (e.enter(r4), e.enter(u5), e.consume(p3), e.exit(u5), i5 = p3 === 40 ? 41 : p3, l3) : n4(p3);
  }
  function l3(p3) {
    return p3 === i5 ? (e.enter(u5), e.consume(p3), e.exit(u5), e.exit(r4), t3) : (e.enter(a3), c6(p3));
  }
  function c6(p3) {
    return p3 === i5 ? (e.exit(a3), l3(i5)) : p3 === null ? n4(p3) : H4(p3) ? (e.enter("lineEnding"), e.consume(p3), e.exit("lineEnding"), W4(e, c6, "linePrefix")) : (e.enter("chunkString", {
      contentType: "string"
    }), h3(p3));
  }
  function h3(p3) {
    return p3 === i5 || p3 === null || H4(p3) ? (e.exit("chunkString"), c6(p3)) : (e.consume(p3), p3 === 92 ? f8 : h3);
  }
  function f8(p3) {
    return p3 === i5 || p3 === 92 ? (e.consume(p3), h3) : h3(p3);
  }
}
function Rt2(e, t3) {
  let n4;
  return r4;
  function r4(u5) {
    return H4(u5) ? (e.enter("lineEnding"), e.consume(u5), e.exit("lineEnding"), n4 = true, r4) : j6(u5) ? W4(e, r4, n4 ? "linePrefix" : "lineSuffix")(u5) : t3(u5);
  }
}
var Wo2 = {
  name: "definition",
  tokenize: Go2
};
var Qo2 = {
  tokenize: Xo2,
  partial: true
};
function Go2(e, t3, n4) {
  const r4 = this;
  let u5;
  return a3;
  function a3(d2) {
    return e.enter("definition"), i5(d2);
  }
  function i5(d2) {
    return Ai2.call(
      r4,
      e,
      o2,
      // Note: we dont need to reset the way `markdown-rs` does.
      n4,
      "definitionLabel",
      "definitionLabelMarker",
      "definitionLabelString"
    )(d2);
  }
  function o2(d2) {
    return u5 = ft2(
      r4.sliceSerialize(r4.events[r4.events.length - 1][1]).slice(1, -1)
    ), d2 === 58 ? (e.enter("definitionMarker"), e.consume(d2), e.exit("definitionMarker"), l3) : n4(d2);
  }
  function l3(d2) {
    return J5(d2) ? Rt2(e, c6)(d2) : c6(d2);
  }
  function c6(d2) {
    return bi2(
      e,
      h3,
      // Note: we dont need to reset the way `markdown-rs` does.
      n4,
      "definitionDestination",
      "definitionDestinationLiteral",
      "definitionDestinationLiteralMarker",
      "definitionDestinationRaw",
      "definitionDestinationString"
    )(d2);
  }
  function h3(d2) {
    return e.attempt(Qo2, f8, f8)(d2);
  }
  function f8(d2) {
    return j6(d2) ? W4(e, p3, "whitespace")(d2) : p3(d2);
  }
  function p3(d2) {
    return d2 === null || H4(d2) ? (e.exit("definition"), r4.parser.defined.push(u5), t3(d2)) : n4(d2);
  }
}
function Xo2(e, t3, n4) {
  return r4;
  function r4(o2) {
    return J5(o2) ? Rt2(e, u5)(o2) : n4(o2);
  }
  function u5(o2) {
    return _i2(
      e,
      a3,
      n4,
      "definitionTitle",
      "definitionTitleMarker",
      "definitionTitleString"
    )(o2);
  }
  function a3(o2) {
    return j6(o2) ? W4(e, i5, "whitespace")(o2) : i5(o2);
  }
  function i5(o2) {
    return o2 === null || H4(o2) ? t3(o2) : n4(o2);
  }
}
var Ko2 = {
  name: "hardBreakEscape",
  tokenize: $o2
};
function $o2(e, t3, n4) {
  return r4;
  function r4(a3) {
    return e.enter("hardBreakEscape"), e.consume(a3), u5;
  }
  function u5(a3) {
    return H4(a3) ? (e.exit("hardBreakEscape"), t3(a3)) : n4(a3);
  }
}
var Jo2 = {
  name: "headingAtx",
  tokenize: el2,
  resolve: Zo2
};
function Zo2(e, t3) {
  let n4 = e.length - 2, r4 = 3, u5, a3;
  return e[r4][1].type === "whitespace" && (r4 += 2), n4 - 2 > r4 && e[n4][1].type === "whitespace" && (n4 -= 2), e[n4][1].type === "atxHeadingSequence" && (r4 === n4 - 1 || n4 - 4 > r4 && e[n4 - 2][1].type === "whitespace") && (n4 -= r4 + 1 === n4 ? 2 : 4), n4 > r4 && (u5 = {
    type: "atxHeadingText",
    start: e[r4][1].start,
    end: e[n4][1].end
  }, a3 = {
    type: "chunkText",
    start: e[r4][1].start,
    end: e[n4][1].end,
    contentType: "text"
  }, Oe3(e, r4, n4 - r4 + 1, [
    ["enter", u5, t3],
    ["enter", a3, t3],
    ["exit", a3, t3],
    ["exit", u5, t3]
  ])), e;
}
function el2(e, t3, n4) {
  let r4 = 0;
  return u5;
  function u5(h3) {
    return e.enter("atxHeading"), a3(h3);
  }
  function a3(h3) {
    return e.enter("atxHeadingSequence"), i5(h3);
  }
  function i5(h3) {
    return h3 === 35 && r4++ < 6 ? (e.consume(h3), i5) : h3 === null || J5(h3) ? (e.exit("atxHeadingSequence"), o2(h3)) : n4(h3);
  }
  function o2(h3) {
    return h3 === 35 ? (e.enter("atxHeadingSequence"), l3(h3)) : h3 === null || H4(h3) ? (e.exit("atxHeading"), t3(h3)) : j6(h3) ? W4(e, o2, "whitespace")(h3) : (e.enter("atxHeadingText"), c6(h3));
  }
  function l3(h3) {
    return h3 === 35 ? (e.consume(h3), l3) : (e.exit("atxHeadingSequence"), o2(h3));
  }
  function c6(h3) {
    return h3 === null || h3 === 35 || J5(h3) ? (e.exit("atxHeadingText"), o2(h3)) : (e.consume(h3), c6);
  }
}
var tl2 = [
  "address",
  "article",
  "aside",
  "base",
  "basefont",
  "blockquote",
  "body",
  "caption",
  "center",
  "col",
  "colgroup",
  "dd",
  "details",
  "dialog",
  "dir",
  "div",
  "dl",
  "dt",
  "fieldset",
  "figcaption",
  "figure",
  "footer",
  "form",
  "frame",
  "frameset",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "head",
  "header",
  "hr",
  "html",
  "iframe",
  "legend",
  "li",
  "link",
  "main",
  "menu",
  "menuitem",
  "nav",
  "noframes",
  "ol",
  "optgroup",
  "option",
  "p",
  "param",
  "search",
  "section",
  "summary",
  "table",
  "tbody",
  "td",
  "tfoot",
  "th",
  "thead",
  "title",
  "tr",
  "track",
  "ul"
];
var Zr2 = ["pre", "script", "style", "textarea"];
var nl2 = {
  name: "htmlFlow",
  tokenize: al2,
  resolveTo: il2,
  concrete: true
};
var rl2 = {
  tokenize: ol2,
  partial: true
};
var ul2 = {
  tokenize: sl2,
  partial: true
};
function il2(e) {
  let t3 = e.length;
  for (; t3-- && !(e[t3][0] === "enter" && e[t3][1].type === "htmlFlow"); )
    ;
  return t3 > 1 && e[t3 - 2][1].type === "linePrefix" && (e[t3][1].start = e[t3 - 2][1].start, e[t3 + 1][1].start = e[t3 - 2][1].start, e.splice(t3 - 2, 2)), e;
}
function al2(e, t3, n4) {
  const r4 = this;
  let u5, a3, i5, o2, l3;
  return c6;
  function c6(b7) {
    return h3(b7);
  }
  function h3(b7) {
    return e.enter("htmlFlow"), e.enter("htmlFlowData"), e.consume(b7), f8;
  }
  function f8(b7) {
    return b7 === 33 ? (e.consume(b7), p3) : b7 === 47 ? (e.consume(b7), a3 = true, I4) : b7 === 63 ? (e.consume(b7), u5 = 3, r4.interrupt ? t3 : g6) : de3(b7) ? (e.consume(b7), i5 = String.fromCharCode(b7), L4) : n4(b7);
  }
  function p3(b7) {
    return b7 === 45 ? (e.consume(b7), u5 = 2, d2) : b7 === 91 ? (e.consume(b7), u5 = 5, o2 = 0, A3) : de3(b7) ? (e.consume(b7), u5 = 4, r4.interrupt ? t3 : g6) : n4(b7);
  }
  function d2(b7) {
    return b7 === 45 ? (e.consume(b7), r4.interrupt ? t3 : g6) : n4(b7);
  }
  function A3(b7) {
    const Ie5 = "CDATA[";
    return b7 === Ie5.charCodeAt(o2++) ? (e.consume(b7), o2 === Ie5.length ? r4.interrupt ? t3 : F4 : A3) : n4(b7);
  }
  function I4(b7) {
    return de3(b7) ? (e.consume(b7), i5 = String.fromCharCode(b7), L4) : n4(b7);
  }
  function L4(b7) {
    if (b7 === null || b7 === 47 || b7 === 62 || J5(b7)) {
      const Ie5 = b7 === 47, Xe3 = i5.toLowerCase();
      return !Ie5 && !a3 && Zr2.includes(Xe3) ? (u5 = 1, r4.interrupt ? t3(b7) : F4(b7)) : tl2.includes(i5.toLowerCase()) ? (u5 = 6, Ie5 ? (e.consume(b7), x8) : r4.interrupt ? t3(b7) : F4(b7)) : (u5 = 7, r4.interrupt && !r4.parser.lazy[r4.now().line] ? n4(b7) : a3 ? w6(b7) : D3(b7));
    }
    return b7 === 45 || fe2(b7) ? (e.consume(b7), i5 += String.fromCharCode(b7), L4) : n4(b7);
  }
  function x8(b7) {
    return b7 === 62 ? (e.consume(b7), r4.interrupt ? t3 : F4) : n4(b7);
  }
  function w6(b7) {
    return j6(b7) ? (e.consume(b7), w6) : N5(b7);
  }
  function D3(b7) {
    return b7 === 47 ? (e.consume(b7), N5) : b7 === 58 || b7 === 95 || de3(b7) ? (e.consume(b7), z4) : j6(b7) ? (e.consume(b7), D3) : N5(b7);
  }
  function z4(b7) {
    return b7 === 45 || b7 === 46 || b7 === 58 || b7 === 95 || fe2(b7) ? (e.consume(b7), z4) : Y5(b7);
  }
  function Y5(b7) {
    return b7 === 61 ? (e.consume(b7), O4) : j6(b7) ? (e.consume(b7), Y5) : D3(b7);
  }
  function O4(b7) {
    return b7 === null || b7 === 60 || b7 === 61 || b7 === 62 || b7 === 96 ? n4(b7) : b7 === 34 || b7 === 39 ? (e.consume(b7), l3 = b7, Q6) : j6(b7) ? (e.consume(b7), O4) : ee3(b7);
  }
  function Q6(b7) {
    return b7 === l3 ? (e.consume(b7), l3 = null, X6) : b7 === null || H4(b7) ? n4(b7) : (e.consume(b7), Q6);
  }
  function ee3(b7) {
    return b7 === null || b7 === 34 || b7 === 39 || b7 === 47 || b7 === 60 || b7 === 61 || b7 === 62 || b7 === 96 || J5(b7) ? Y5(b7) : (e.consume(b7), ee3);
  }
  function X6(b7) {
    return b7 === 47 || b7 === 62 || j6(b7) ? D3(b7) : n4(b7);
  }
  function N5(b7) {
    return b7 === 62 ? (e.consume(b7), B4) : n4(b7);
  }
  function B4(b7) {
    return b7 === null || H4(b7) ? F4(b7) : j6(b7) ? (e.consume(b7), B4) : n4(b7);
  }
  function F4(b7) {
    return b7 === 45 && u5 === 2 ? (e.consume(b7), ce2) : b7 === 60 && u5 === 1 ? (e.consume(b7), oe4) : b7 === 62 && u5 === 4 ? (e.consume(b7), Ce6) : b7 === 63 && u5 === 3 ? (e.consume(b7), g6) : b7 === 93 && u5 === 5 ? (e.consume(b7), Le5) : H4(b7) && (u5 === 6 || u5 === 7) ? (e.exit("htmlFlowData"), e.check(
      rl2,
      Re5,
      $7
    )(b7)) : b7 === null || H4(b7) ? (e.exit("htmlFlowData"), $7(b7)) : (e.consume(b7), F4);
  }
  function $7(b7) {
    return e.check(
      ul2,
      ne6,
      Re5
    )(b7);
  }
  function ne6(b7) {
    return e.enter("lineEnding"), e.consume(b7), e.exit("lineEnding"), G3;
  }
  function G3(b7) {
    return b7 === null || H4(b7) ? $7(b7) : (e.enter("htmlFlowData"), F4(b7));
  }
  function ce2(b7) {
    return b7 === 45 ? (e.consume(b7), g6) : F4(b7);
  }
  function oe4(b7) {
    return b7 === 47 ? (e.consume(b7), i5 = "", _e5) : F4(b7);
  }
  function _e5(b7) {
    if (b7 === 62) {
      const Ie5 = i5.toLowerCase();
      return Zr2.includes(Ie5) ? (e.consume(b7), Ce6) : F4(b7);
    }
    return de3(b7) && i5.length < 8 ? (e.consume(b7), i5 += String.fromCharCode(b7), _e5) : F4(b7);
  }
  function Le5(b7) {
    return b7 === 93 ? (e.consume(b7), g6) : F4(b7);
  }
  function g6(b7) {
    return b7 === 62 ? (e.consume(b7), Ce6) : b7 === 45 && u5 === 2 ? (e.consume(b7), g6) : F4(b7);
  }
  function Ce6(b7) {
    return b7 === null || H4(b7) ? (e.exit("htmlFlowData"), Re5(b7)) : (e.consume(b7), Ce6);
  }
  function Re5(b7) {
    return e.exit("htmlFlow"), t3(b7);
  }
}
function sl2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return H4(i5) ? (e.enter("lineEnding"), e.consume(i5), e.exit("lineEnding"), a3) : n4(i5);
  }
  function a3(i5) {
    return r4.parser.lazy[r4.now().line] ? n4(i5) : t3(i5);
  }
}
function ol2(e, t3, n4) {
  return r4;
  function r4(u5) {
    return e.enter("lineEnding"), e.consume(u5), e.exit("lineEnding"), e.attempt(An2, t3, n4);
  }
}
var ll2 = {
  name: "htmlText",
  tokenize: cl2
};
function cl2(e, t3, n4) {
  const r4 = this;
  let u5, a3, i5;
  return o2;
  function o2(g6) {
    return e.enter("htmlText"), e.enter("htmlTextData"), e.consume(g6), l3;
  }
  function l3(g6) {
    return g6 === 33 ? (e.consume(g6), c6) : g6 === 47 ? (e.consume(g6), Y5) : g6 === 63 ? (e.consume(g6), D3) : de3(g6) ? (e.consume(g6), ee3) : n4(g6);
  }
  function c6(g6) {
    return g6 === 45 ? (e.consume(g6), h3) : g6 === 91 ? (e.consume(g6), a3 = 0, A3) : de3(g6) ? (e.consume(g6), w6) : n4(g6);
  }
  function h3(g6) {
    return g6 === 45 ? (e.consume(g6), d2) : n4(g6);
  }
  function f8(g6) {
    return g6 === null ? n4(g6) : g6 === 45 ? (e.consume(g6), p3) : H4(g6) ? (i5 = f8, oe4(g6)) : (e.consume(g6), f8);
  }
  function p3(g6) {
    return g6 === 45 ? (e.consume(g6), d2) : f8(g6);
  }
  function d2(g6) {
    return g6 === 62 ? ce2(g6) : g6 === 45 ? p3(g6) : f8(g6);
  }
  function A3(g6) {
    const Ce6 = "CDATA[";
    return g6 === Ce6.charCodeAt(a3++) ? (e.consume(g6), a3 === Ce6.length ? I4 : A3) : n4(g6);
  }
  function I4(g6) {
    return g6 === null ? n4(g6) : g6 === 93 ? (e.consume(g6), L4) : H4(g6) ? (i5 = I4, oe4(g6)) : (e.consume(g6), I4);
  }
  function L4(g6) {
    return g6 === 93 ? (e.consume(g6), x8) : I4(g6);
  }
  function x8(g6) {
    return g6 === 62 ? ce2(g6) : g6 === 93 ? (e.consume(g6), x8) : I4(g6);
  }
  function w6(g6) {
    return g6 === null || g6 === 62 ? ce2(g6) : H4(g6) ? (i5 = w6, oe4(g6)) : (e.consume(g6), w6);
  }
  function D3(g6) {
    return g6 === null ? n4(g6) : g6 === 63 ? (e.consume(g6), z4) : H4(g6) ? (i5 = D3, oe4(g6)) : (e.consume(g6), D3);
  }
  function z4(g6) {
    return g6 === 62 ? ce2(g6) : D3(g6);
  }
  function Y5(g6) {
    return de3(g6) ? (e.consume(g6), O4) : n4(g6);
  }
  function O4(g6) {
    return g6 === 45 || fe2(g6) ? (e.consume(g6), O4) : Q6(g6);
  }
  function Q6(g6) {
    return H4(g6) ? (i5 = Q6, oe4(g6)) : j6(g6) ? (e.consume(g6), Q6) : ce2(g6);
  }
  function ee3(g6) {
    return g6 === 45 || fe2(g6) ? (e.consume(g6), ee3) : g6 === 47 || g6 === 62 || J5(g6) ? X6(g6) : n4(g6);
  }
  function X6(g6) {
    return g6 === 47 ? (e.consume(g6), ce2) : g6 === 58 || g6 === 95 || de3(g6) ? (e.consume(g6), N5) : H4(g6) ? (i5 = X6, oe4(g6)) : j6(g6) ? (e.consume(g6), X6) : ce2(g6);
  }
  function N5(g6) {
    return g6 === 45 || g6 === 46 || g6 === 58 || g6 === 95 || fe2(g6) ? (e.consume(g6), N5) : B4(g6);
  }
  function B4(g6) {
    return g6 === 61 ? (e.consume(g6), F4) : H4(g6) ? (i5 = B4, oe4(g6)) : j6(g6) ? (e.consume(g6), B4) : X6(g6);
  }
  function F4(g6) {
    return g6 === null || g6 === 60 || g6 === 61 || g6 === 62 || g6 === 96 ? n4(g6) : g6 === 34 || g6 === 39 ? (e.consume(g6), u5 = g6, $7) : H4(g6) ? (i5 = F4, oe4(g6)) : j6(g6) ? (e.consume(g6), F4) : (e.consume(g6), ne6);
  }
  function $7(g6) {
    return g6 === u5 ? (e.consume(g6), u5 = void 0, G3) : g6 === null ? n4(g6) : H4(g6) ? (i5 = $7, oe4(g6)) : (e.consume(g6), $7);
  }
  function ne6(g6) {
    return g6 === null || g6 === 34 || g6 === 39 || g6 === 60 || g6 === 61 || g6 === 96 ? n4(g6) : g6 === 47 || g6 === 62 || J5(g6) ? X6(g6) : (e.consume(g6), ne6);
  }
  function G3(g6) {
    return g6 === 47 || g6 === 62 || J5(g6) ? X6(g6) : n4(g6);
  }
  function ce2(g6) {
    return g6 === 62 ? (e.consume(g6), e.exit("htmlTextData"), e.exit("htmlText"), t3) : n4(g6);
  }
  function oe4(g6) {
    return e.exit("htmlTextData"), e.enter("lineEnding"), e.consume(g6), e.exit("lineEnding"), _e5;
  }
  function _e5(g6) {
    return j6(g6) ? W4(
      e,
      Le5,
      "linePrefix",
      r4.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4
    )(g6) : Le5(g6);
  }
  function Le5(g6) {
    return e.enter("htmlTextData"), i5(g6);
  }
}
var mr3 = {
  name: "labelEnd",
  tokenize: El2,
  resolveTo: pl2,
  resolveAll: ml2
};
var fl2 = {
  tokenize: Tl2
};
var hl2 = {
  tokenize: gl2
};
var dl2 = {
  tokenize: bl2
};
function ml2(e) {
  let t3 = -1;
  for (; ++t3 < e.length; ) {
    const n4 = e[t3][1];
    (n4.type === "labelImage" || n4.type === "labelLink" || n4.type === "labelEnd") && (e.splice(t3 + 1, n4.type === "labelImage" ? 4 : 2), n4.type = "data", t3++);
  }
  return e;
}
function pl2(e, t3) {
  let n4 = e.length, r4 = 0, u5, a3, i5, o2;
  for (; n4--; )
    if (u5 = e[n4][1], a3) {
      if (u5.type === "link" || u5.type === "labelLink" && u5._inactive)
        break;
      e[n4][0] === "enter" && u5.type === "labelLink" && (u5._inactive = true);
    } else if (i5) {
      if (e[n4][0] === "enter" && (u5.type === "labelImage" || u5.type === "labelLink") && !u5._balanced && (a3 = n4, u5.type !== "labelLink")) {
        r4 = 2;
        break;
      }
    } else u5.type === "labelEnd" && (i5 = n4);
  const l3 = {
    type: e[a3][1].type === "labelLink" ? "link" : "image",
    start: Object.assign({}, e[a3][1].start),
    end: Object.assign({}, e[e.length - 1][1].end)
  }, c6 = {
    type: "label",
    start: Object.assign({}, e[a3][1].start),
    end: Object.assign({}, e[i5][1].end)
  }, h3 = {
    type: "labelText",
    start: Object.assign({}, e[a3 + r4 + 2][1].end),
    end: Object.assign({}, e[i5 - 2][1].start)
  };
  return o2 = [
    ["enter", l3, t3],
    ["enter", c6, t3]
  ], o2 = ge2(o2, e.slice(a3 + 1, a3 + r4 + 3)), o2 = ge2(o2, [["enter", h3, t3]]), o2 = ge2(
    o2,
    dr3(
      t3.parser.constructs.insideSpan.null,
      e.slice(a3 + r4 + 4, i5 - 3),
      t3
    )
  ), o2 = ge2(o2, [
    ["exit", h3, t3],
    e[i5 - 2],
    e[i5 - 1],
    ["exit", c6, t3]
  ]), o2 = ge2(o2, e.slice(i5 + 1)), o2 = ge2(o2, [["exit", l3, t3]]), Oe3(e, a3, e.length, o2), e;
}
function El2(e, t3, n4) {
  const r4 = this;
  let u5 = r4.events.length, a3, i5;
  for (; u5--; )
    if ((r4.events[u5][1].type === "labelImage" || r4.events[u5][1].type === "labelLink") && !r4.events[u5][1]._balanced) {
      a3 = r4.events[u5][1];
      break;
    }
  return o2;
  function o2(p3) {
    return a3 ? a3._inactive ? f8(p3) : (i5 = r4.parser.defined.includes(
      ft2(
        r4.sliceSerialize({
          start: a3.end,
          end: r4.now()
        })
      )
    ), e.enter("labelEnd"), e.enter("labelMarker"), e.consume(p3), e.exit("labelMarker"), e.exit("labelEnd"), l3) : n4(p3);
  }
  function l3(p3) {
    return p3 === 40 ? e.attempt(
      fl2,
      h3,
      i5 ? h3 : f8
    )(p3) : p3 === 91 ? e.attempt(
      hl2,
      h3,
      i5 ? c6 : f8
    )(p3) : i5 ? h3(p3) : f8(p3);
  }
  function c6(p3) {
    return e.attempt(
      dl2,
      h3,
      f8
    )(p3);
  }
  function h3(p3) {
    return t3(p3);
  }
  function f8(p3) {
    return a3._balanced = true, n4(p3);
  }
}
function Tl2(e, t3, n4) {
  return r4;
  function r4(f8) {
    return e.enter("resource"), e.enter("resourceMarker"), e.consume(f8), e.exit("resourceMarker"), u5;
  }
  function u5(f8) {
    return J5(f8) ? Rt2(e, a3)(f8) : a3(f8);
  }
  function a3(f8) {
    return f8 === 41 ? h3(f8) : bi2(
      e,
      i5,
      o2,
      "resourceDestination",
      "resourceDestinationLiteral",
      "resourceDestinationLiteralMarker",
      "resourceDestinationRaw",
      "resourceDestinationString",
      32
    )(f8);
  }
  function i5(f8) {
    return J5(f8) ? Rt2(e, l3)(f8) : h3(f8);
  }
  function o2(f8) {
    return n4(f8);
  }
  function l3(f8) {
    return f8 === 34 || f8 === 39 || f8 === 40 ? _i2(
      e,
      c6,
      n4,
      "resourceTitle",
      "resourceTitleMarker",
      "resourceTitleString"
    )(f8) : h3(f8);
  }
  function c6(f8) {
    return J5(f8) ? Rt2(e, h3)(f8) : h3(f8);
  }
  function h3(f8) {
    return f8 === 41 ? (e.enter("resourceMarker"), e.consume(f8), e.exit("resourceMarker"), e.exit("resource"), t3) : n4(f8);
  }
}
function gl2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(o2) {
    return Ai2.call(
      r4,
      e,
      a3,
      i5,
      "reference",
      "referenceMarker",
      "referenceString"
    )(o2);
  }
  function a3(o2) {
    return r4.parser.defined.includes(
      ft2(
        r4.sliceSerialize(r4.events[r4.events.length - 1][1]).slice(1, -1)
      )
    ) ? t3(o2) : n4(o2);
  }
  function i5(o2) {
    return n4(o2);
  }
}
function bl2(e, t3, n4) {
  return r4;
  function r4(a3) {
    return e.enter("reference"), e.enter("referenceMarker"), e.consume(a3), e.exit("referenceMarker"), u5;
  }
  function u5(a3) {
    return a3 === 93 ? (e.enter("referenceMarker"), e.consume(a3), e.exit("referenceMarker"), e.exit("reference"), t3) : n4(a3);
  }
}
var Al2 = {
  name: "labelStartImage",
  tokenize: _l2,
  resolveAll: mr3.resolveAll
};
function _l2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(o2) {
    return e.enter("labelImage"), e.enter("labelImageMarker"), e.consume(o2), e.exit("labelImageMarker"), a3;
  }
  function a3(o2) {
    return o2 === 91 ? (e.enter("labelMarker"), e.consume(o2), e.exit("labelMarker"), e.exit("labelImage"), i5) : n4(o2);
  }
  function i5(o2) {
    return o2 === 94 && "_hiddenFootnoteSupport" in r4.parser.constructs ? n4(o2) : t3(o2);
  }
}
var Cl2 = {
  name: "labelStartLink",
  tokenize: Il2,
  resolveAll: mr3.resolveAll
};
function Il2(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return e.enter("labelLink"), e.enter("labelMarker"), e.consume(i5), e.exit("labelMarker"), e.exit("labelLink"), a3;
  }
  function a3(i5) {
    return i5 === 94 && "_hiddenFootnoteSupport" in r4.parser.constructs ? n4(i5) : t3(i5);
  }
}
var Dn2 = {
  name: "lineEnding",
  tokenize: xl2
};
function xl2(e, t3) {
  return n4;
  function n4(r4) {
    return e.enter("lineEnding"), e.consume(r4), e.exit("lineEnding"), W4(e, t3, "linePrefix");
  }
}
var rn2 = {
  name: "thematicBreak",
  tokenize: Nl2
};
function Nl2(e, t3, n4) {
  let r4 = 0, u5;
  return a3;
  function a3(c6) {
    return e.enter("thematicBreak"), i5(c6);
  }
  function i5(c6) {
    return u5 = c6, o2(c6);
  }
  function o2(c6) {
    return c6 === u5 ? (e.enter("thematicBreakSequence"), l3(c6)) : r4 >= 3 && (c6 === null || H4(c6)) ? (e.exit("thematicBreak"), t3(c6)) : n4(c6);
  }
  function l3(c6) {
    return c6 === u5 ? (e.consume(c6), r4++, l3) : (e.exit("thematicBreakSequence"), j6(c6) ? W4(e, o2, "whitespace")(c6) : o2(c6));
  }
}
var pe2 = {
  name: "list",
  tokenize: Ol2,
  continuation: {
    tokenize: yl2
  },
  exit: Rl2
};
var Sl2 = {
  tokenize: Dl2,
  partial: true
};
var kl2 = {
  tokenize: Ll2,
  partial: true
};
function Ol2(e, t3, n4) {
  const r4 = this, u5 = r4.events[r4.events.length - 1];
  let a3 = u5 && u5[1].type === "linePrefix" ? u5[2].sliceSerialize(u5[1], true).length : 0, i5 = 0;
  return o2;
  function o2(d2) {
    const A3 = r4.containerState.type || (d2 === 42 || d2 === 43 || d2 === 45 ? "listUnordered" : "listOrdered");
    if (A3 === "listUnordered" ? !r4.containerState.marker || d2 === r4.containerState.marker : Xn2(d2)) {
      if (r4.containerState.type || (r4.containerState.type = A3, e.enter(A3, {
        _container: true
      })), A3 === "listUnordered")
        return e.enter("listItemPrefix"), d2 === 42 || d2 === 45 ? e.check(rn2, n4, c6)(d2) : c6(d2);
      if (!r4.interrupt || d2 === 49)
        return e.enter("listItemPrefix"), e.enter("listItemValue"), l3(d2);
    }
    return n4(d2);
  }
  function l3(d2) {
    return Xn2(d2) && ++i5 < 10 ? (e.consume(d2), l3) : (!r4.interrupt || i5 < 2) && (r4.containerState.marker ? d2 === r4.containerState.marker : d2 === 41 || d2 === 46) ? (e.exit("listItemValue"), c6(d2)) : n4(d2);
  }
  function c6(d2) {
    return e.enter("listItemMarker"), e.consume(d2), e.exit("listItemMarker"), r4.containerState.marker = r4.containerState.marker || d2, e.check(
      An2,
      // Cant be empty when interrupting.
      r4.interrupt ? n4 : h3,
      e.attempt(
        Sl2,
        p3,
        f8
      )
    );
  }
  function h3(d2) {
    return r4.containerState.initialBlankLine = true, a3++, p3(d2);
  }
  function f8(d2) {
    return j6(d2) ? (e.enter("listItemPrefixWhitespace"), e.consume(d2), e.exit("listItemPrefixWhitespace"), p3) : n4(d2);
  }
  function p3(d2) {
    return r4.containerState.size = a3 + r4.sliceSerialize(e.exit("listItemPrefix"), true).length, t3(d2);
  }
}
function yl2(e, t3, n4) {
  const r4 = this;
  return r4.containerState._closeFlow = void 0, e.check(An2, u5, a3);
  function u5(o2) {
    return r4.containerState.furtherBlankLines = r4.containerState.furtherBlankLines || r4.containerState.initialBlankLine, W4(
      e,
      t3,
      "listItemIndent",
      r4.containerState.size + 1
    )(o2);
  }
  function a3(o2) {
    return r4.containerState.furtherBlankLines || !j6(o2) ? (r4.containerState.furtherBlankLines = void 0, r4.containerState.initialBlankLine = void 0, i5(o2)) : (r4.containerState.furtherBlankLines = void 0, r4.containerState.initialBlankLine = void 0, e.attempt(kl2, t3, i5)(o2));
  }
  function i5(o2) {
    return r4.containerState._closeFlow = true, r4.interrupt = void 0, W4(
      e,
      e.attempt(pe2, t3, n4),
      "linePrefix",
      r4.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4
    )(o2);
  }
}
function Ll2(e, t3, n4) {
  const r4 = this;
  return W4(
    e,
    u5,
    "listItemIndent",
    r4.containerState.size + 1
  );
  function u5(a3) {
    const i5 = r4.events[r4.events.length - 1];
    return i5 && i5[1].type === "listItemIndent" && i5[2].sliceSerialize(i5[1], true).length === r4.containerState.size ? t3(a3) : n4(a3);
  }
}
function Rl2(e) {
  e.exit(this.containerState.type);
}
function Dl2(e, t3, n4) {
  const r4 = this;
  return W4(
    e,
    u5,
    "listItemPrefixWhitespace",
    r4.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 5
  );
  function u5(a3) {
    const i5 = r4.events[r4.events.length - 1];
    return !j6(a3) && i5 && i5[1].type === "listItemPrefixWhitespace" ? t3(a3) : n4(a3);
  }
}
var eu2 = {
  name: "setextUnderline",
  tokenize: wl2,
  resolveTo: Pl2
};
function Pl2(e, t3) {
  let n4 = e.length, r4, u5, a3;
  for (; n4--; )
    if (e[n4][0] === "enter") {
      if (e[n4][1].type === "content") {
        r4 = n4;
        break;
      }
      e[n4][1].type === "paragraph" && (u5 = n4);
    } else
      e[n4][1].type === "content" && e.splice(n4, 1), !a3 && e[n4][1].type === "definition" && (a3 = n4);
  const i5 = {
    type: "setextHeading",
    start: Object.assign({}, e[u5][1].start),
    end: Object.assign({}, e[e.length - 1][1].end)
  };
  return e[u5][1].type = "setextHeadingText", a3 ? (e.splice(u5, 0, ["enter", i5, t3]), e.splice(a3 + 1, 0, ["exit", e[r4][1], t3]), e[r4][1].end = Object.assign({}, e[a3][1].end)) : e[r4][1] = i5, e.push(["exit", i5, t3]), e;
}
function wl2(e, t3, n4) {
  const r4 = this;
  let u5;
  return a3;
  function a3(c6) {
    let h3 = r4.events.length, f8;
    for (; h3--; )
      if (r4.events[h3][1].type !== "lineEnding" && r4.events[h3][1].type !== "linePrefix" && r4.events[h3][1].type !== "content") {
        f8 = r4.events[h3][1].type === "paragraph";
        break;
      }
    return !r4.parser.lazy[r4.now().line] && (r4.interrupt || f8) ? (e.enter("setextHeadingLine"), u5 = c6, i5(c6)) : n4(c6);
  }
  function i5(c6) {
    return e.enter("setextHeadingLineSequence"), o2(c6);
  }
  function o2(c6) {
    return c6 === u5 ? (e.consume(c6), o2) : (e.exit("setextHeadingLineSequence"), j6(c6) ? W4(e, l3, "lineSuffix")(c6) : l3(c6));
  }
  function l3(c6) {
    return c6 === null || H4(c6) ? (e.exit("setextHeadingLine"), t3(c6)) : n4(c6);
  }
}
var Ml2 = {
  tokenize: Bl2
};
function Bl2(e) {
  const t3 = this, n4 = e.attempt(
    // Try to parse a blank line.
    An2,
    r4,
    // Try to parse initial flow (essentially, only code).
    e.attempt(
      this.parser.constructs.flowInitial,
      u5,
      W4(
        e,
        e.attempt(
          this.parser.constructs.flow,
          u5,
          e.attempt(zo2, u5)
        ),
        "linePrefix"
      )
    )
  );
  return n4;
  function r4(a3) {
    if (a3 === null) {
      e.consume(a3);
      return;
    }
    return e.enter("lineEndingBlank"), e.consume(a3), e.exit("lineEndingBlank"), t3.currentConstruct = void 0, n4;
  }
  function u5(a3) {
    if (a3 === null) {
      e.consume(a3);
      return;
    }
    return e.enter("lineEnding"), e.consume(a3), e.exit("lineEnding"), t3.currentConstruct = void 0, n4;
  }
}
var Fl2 = {
  resolveAll: Ii2()
};
var Hl2 = Ci2("string");
var Ul2 = Ci2("text");
function Ci2(e) {
  return {
    tokenize: t3,
    resolveAll: Ii2(
      e === "text" ? vl2 : void 0
    )
  };
  function t3(n4) {
    const r4 = this, u5 = this.parser.constructs[e], a3 = n4.attempt(u5, i5, o2);
    return i5;
    function i5(h3) {
      return c6(h3) ? a3(h3) : o2(h3);
    }
    function o2(h3) {
      if (h3 === null) {
        n4.consume(h3);
        return;
      }
      return n4.enter("data"), n4.consume(h3), l3;
    }
    function l3(h3) {
      return c6(h3) ? (n4.exit("data"), a3(h3)) : (n4.consume(h3), l3);
    }
    function c6(h3) {
      if (h3 === null)
        return true;
      const f8 = u5[h3];
      let p3 = -1;
      if (f8)
        for (; ++p3 < f8.length; ) {
          const d2 = f8[p3];
          if (!d2.previous || d2.previous.call(r4, r4.previous))
            return true;
        }
      return false;
    }
  }
}
function Ii2(e) {
  return t3;
  function t3(n4, r4) {
    let u5 = -1, a3;
    for (; ++u5 <= n4.length; )
      a3 === void 0 ? n4[u5] && n4[u5][1].type === "data" && (a3 = u5, u5++) : (!n4[u5] || n4[u5][1].type !== "data") && (u5 !== a3 + 2 && (n4[a3][1].end = n4[u5 - 1][1].end, n4.splice(a3 + 2, u5 - a3 - 2), u5 = a3 + 2), a3 = void 0);
    return e ? e(n4, r4) : n4;
  }
}
function vl2(e, t3) {
  let n4 = 0;
  for (; ++n4 <= e.length; )
    if ((n4 === e.length || e[n4][1].type === "lineEnding") && e[n4 - 1][1].type === "data") {
      const r4 = e[n4 - 1][1], u5 = t3.sliceStream(r4);
      let a3 = u5.length, i5 = -1, o2 = 0, l3;
      for (; a3--; ) {
        const c6 = u5[a3];
        if (typeof c6 == "string") {
          for (i5 = c6.length; c6.charCodeAt(i5 - 1) === 32; )
            o2++, i5--;
          if (i5) break;
          i5 = -1;
        } else if (c6 === -2)
          l3 = true, o2++;
        else if (c6 !== -1) {
          a3++;
          break;
        }
      }
      if (o2) {
        const c6 = {
          type: n4 === e.length || l3 || o2 < 2 ? "lineSuffix" : "hardBreakTrailing",
          start: {
            line: r4.end.line,
            column: r4.end.column - o2,
            offset: r4.end.offset - o2,
            _index: r4.start._index + a3,
            _bufferIndex: a3 ? i5 : r4.start._bufferIndex + i5
          },
          end: Object.assign({}, r4.end)
        };
        r4.end = Object.assign({}, c6.start), r4.start.offset === r4.end.offset ? Object.assign(r4, c6) : (e.splice(
          n4,
          0,
          ["enter", c6, t3],
          ["exit", c6, t3]
        ), n4 += 2);
      }
      n4++;
    }
  return e;
}
function zl2(e, t3, n4) {
  let r4 = Object.assign(
    n4 ? Object.assign({}, n4) : {
      line: 1,
      column: 1,
      offset: 0
    },
    {
      _index: 0,
      _bufferIndex: -1
    }
  );
  const u5 = {}, a3 = [];
  let i5 = [], o2 = [];
  const l3 = {
    consume: w6,
    enter: D3,
    exit: z4,
    attempt: Q6(Y5),
    check: Q6(O4),
    interrupt: Q6(O4, {
      interrupt: true
    })
  }, c6 = {
    previous: null,
    code: null,
    containerState: {},
    events: [],
    parser: e,
    sliceStream: d2,
    sliceSerialize: p3,
    now: A3,
    defineSkip: I4,
    write: f8
  };
  let h3 = t3.tokenize.call(c6, l3);
  return t3.resolveAll && a3.push(t3), c6;
  function f8(B4) {
    return i5 = ge2(i5, B4), L4(), i5[i5.length - 1] !== null ? [] : (ee3(t3, 0), c6.events = dr3(a3, c6.events, c6), c6.events);
  }
  function p3(B4, F4) {
    return ql2(d2(B4), F4);
  }
  function d2(B4) {
    return Yl2(i5, B4);
  }
  function A3() {
    const { line: B4, column: F4, offset: $7, _index: ne6, _bufferIndex: G3 } = r4;
    return {
      line: B4,
      column: F4,
      offset: $7,
      _index: ne6,
      _bufferIndex: G3
    };
  }
  function I4(B4) {
    u5[B4.line] = B4.column, N5();
  }
  function L4() {
    let B4;
    for (; r4._index < i5.length; ) {
      const F4 = i5[r4._index];
      if (typeof F4 == "string")
        for (B4 = r4._index, r4._bufferIndex < 0 && (r4._bufferIndex = 0); r4._index === B4 && r4._bufferIndex < F4.length; )
          x8(F4.charCodeAt(r4._bufferIndex));
      else
        x8(F4);
    }
  }
  function x8(B4) {
    h3 = h3(B4);
  }
  function w6(B4) {
    H4(B4) ? (r4.line++, r4.column = 1, r4.offset += B4 === -3 ? 2 : 1, N5()) : B4 !== -1 && (r4.column++, r4.offset++), r4._bufferIndex < 0 ? r4._index++ : (r4._bufferIndex++, r4._bufferIndex === i5[r4._index].length && (r4._bufferIndex = -1, r4._index++)), c6.previous = B4;
  }
  function D3(B4, F4) {
    const $7 = F4 || {};
    return $7.type = B4, $7.start = A3(), c6.events.push(["enter", $7, c6]), o2.push($7), $7;
  }
  function z4(B4) {
    const F4 = o2.pop();
    return F4.end = A3(), c6.events.push(["exit", F4, c6]), F4;
  }
  function Y5(B4, F4) {
    ee3(B4, F4.from);
  }
  function O4(B4, F4) {
    F4.restore();
  }
  function Q6(B4, F4) {
    return $7;
    function $7(ne6, G3, ce2) {
      let oe4, _e5, Le5, g6;
      return Array.isArray(ne6) ? Re5(ne6) : "tokenize" in ne6 ? (
        // @ts-expect-error Looks like a construct.
        Re5([ne6])
      ) : Ce6(ne6);
      function Ce6(le4) {
        return Ct4;
        function Ct4(Fe6) {
          const it3 = Fe6 !== null && le4[Fe6], Ke4 = Fe6 !== null && le4.null, On2 = [
            // To do: add more extension tests.
            /* c8 ignore next 2 */
            ...Array.isArray(it3) ? it3 : it3 ? [it3] : [],
            ...Array.isArray(Ke4) ? Ke4 : Ke4 ? [Ke4] : []
          ];
          return Re5(On2)(Fe6);
        }
      }
      function Re5(le4) {
        return oe4 = le4, _e5 = 0, le4.length === 0 ? ce2 : b7(le4[_e5]);
      }
      function b7(le4) {
        return Ct4;
        function Ct4(Fe6) {
          return g6 = X6(), Le5 = le4, le4.partial || (c6.currentConstruct = le4), le4.name && c6.parser.constructs.disable.null.includes(le4.name) ? Xe3() : le4.tokenize.call(
            // If we do have fields, create an object w/ `context` as its
            // prototype.
            // This allows a live binding, which is needed for `interrupt`.
            F4 ? Object.assign(Object.create(c6), F4) : c6,
            l3,
            Ie5,
            Xe3
          )(Fe6);
        }
      }
      function Ie5(le4) {
        return B4(Le5, g6), G3;
      }
      function Xe3(le4) {
        return g6.restore(), ++_e5 < oe4.length ? b7(oe4[_e5]) : ce2;
      }
    }
  }
  function ee3(B4, F4) {
    B4.resolveAll && !a3.includes(B4) && a3.push(B4), B4.resolve && Oe3(
      c6.events,
      F4,
      c6.events.length - F4,
      B4.resolve(c6.events.slice(F4), c6)
    ), B4.resolveTo && (c6.events = B4.resolveTo(c6.events, c6));
  }
  function X6() {
    const B4 = A3(), F4 = c6.previous, $7 = c6.currentConstruct, ne6 = c6.events.length, G3 = Array.from(o2);
    return {
      restore: ce2,
      from: ne6
    };
    function ce2() {
      r4 = B4, c6.previous = F4, c6.currentConstruct = $7, c6.events.length = ne6, o2 = G3, N5();
    }
  }
  function N5() {
    r4.line in u5 && r4.column < 2 && (r4.column = u5[r4.line], r4.offset += u5[r4.line] - 1);
  }
}
function Yl2(e, t3) {
  const n4 = t3.start._index, r4 = t3.start._bufferIndex, u5 = t3.end._index, a3 = t3.end._bufferIndex;
  let i5;
  if (n4 === u5)
    i5 = [e[n4].slice(r4, a3)];
  else {
    if (i5 = e.slice(n4, u5), r4 > -1) {
      const o2 = i5[0];
      typeof o2 == "string" ? i5[0] = o2.slice(r4) : i5.shift();
    }
    a3 > 0 && i5.push(e[u5].slice(0, a3));
  }
  return i5;
}
function ql2(e, t3) {
  let n4 = -1;
  const r4 = [];
  let u5;
  for (; ++n4 < e.length; ) {
    const a3 = e[n4];
    let i5;
    if (typeof a3 == "string")
      i5 = a3;
    else
      switch (a3) {
        case -5: {
          i5 = "\r";
          break;
        }
        case -4: {
          i5 = `
`;
          break;
        }
        case -3: {
          i5 = `\r
`;
          break;
        }
        case -2: {
          i5 = t3 ? " " : "	";
          break;
        }
        case -1: {
          if (!t3 && u5) continue;
          i5 = " ";
          break;
        }
        default:
          i5 = String.fromCharCode(a3);
      }
    u5 = a3 === -2, r4.push(i5);
  }
  return r4.join("");
}
var jl2 = {
  42: pe2,
  43: pe2,
  45: pe2,
  48: pe2,
  49: pe2,
  50: pe2,
  51: pe2,
  52: pe2,
  53: pe2,
  54: pe2,
  55: pe2,
  56: pe2,
  57: pe2,
  62: pi2
};
var Vl2 = {
  91: Wo2
};
var Wl2 = {
  [-2]: Rn2,
  [-1]: Rn2,
  32: Rn2
};
var Ql2 = {
  35: Jo2,
  42: rn2,
  45: [eu2, rn2],
  60: nl2,
  61: eu2,
  95: rn2,
  96: Jr2,
  126: Jr2
};
var Gl2 = {
  38: Ti2,
  92: Ei2
};
var Xl2 = {
  [-5]: Dn2,
  [-4]: Dn2,
  [-3]: Dn2,
  33: Al2,
  38: Ti2,
  42: Kn2,
  60: [Io2, ll2],
  91: Cl2,
  92: [Ko2, Ei2],
  93: mr3,
  95: Kn2,
  96: Bo2
};
var Kl2 = {
  null: [Kn2, Fl2]
};
var $l2 = {
  null: [42, 95]
};
var Jl2 = {
  null: []
};
var Zl2 = Object.freeze(Object.defineProperty({
  __proto__: null,
  attentionMarkers: $l2,
  contentInitial: Vl2,
  disable: Jl2,
  document: jl2,
  flow: Ql2,
  flowInitial: Wl2,
  insideSpan: Kl2,
  string: Gl2,
  text: Xl2
}, Symbol.toStringTag, { value: "Module" }));
function ec2(e) {
  const n4 = (
    /** @type {FullNormalizedExtension} */
    lo2([Zl2, ...(e || {}).extensions || []])
  ), r4 = {
    defined: [],
    lazy: {},
    constructs: n4,
    content: u5(Eo2),
    document: u5(go2),
    flow: u5(Ml2),
    string: u5(Hl2),
    text: u5(Ul2)
  };
  return r4;
  function u5(a3) {
    return i5;
    function i5(o2) {
      return zl2(r4, a3, o2);
    }
  }
}
function tc2(e) {
  for (; !gi2(e); )
    ;
  return e;
}
var tu2 = /[\0\t\n\r]/g;
function nc2() {
  let e = 1, t3 = "", n4 = true, r4;
  return u5;
  function u5(a3, i5, o2) {
    const l3 = [];
    let c6, h3, f8, p3, d2;
    for (a3 = t3 + (typeof a3 == "string" ? a3.toString() : new TextDecoder(i5 || void 0).decode(a3)), f8 = 0, t3 = "", n4 && (a3.charCodeAt(0) === 65279 && f8++, n4 = void 0); f8 < a3.length; ) {
      if (tu2.lastIndex = f8, c6 = tu2.exec(a3), p3 = c6 && c6.index !== void 0 ? c6.index : a3.length, d2 = a3.charCodeAt(p3), !c6) {
        t3 = a3.slice(f8);
        break;
      }
      if (d2 === 10 && f8 === p3 && r4)
        l3.push(-3), r4 = void 0;
      else
        switch (r4 && (l3.push(-5), r4 = void 0), f8 < p3 && (l3.push(a3.slice(f8, p3)), e += p3 - f8), d2) {
          case 0: {
            l3.push(65533), e++;
            break;
          }
          case 9: {
            for (h3 = Math.ceil(e / 4) * 4, l3.push(-2); e++ < h3; ) l3.push(-1);
            break;
          }
          case 10: {
            l3.push(-4), e = 1;
            break;
          }
          default:
            r4 = true, e = 1;
        }
      f8 = p3 + 1;
    }
    return o2 && (r4 && l3.push(-5), t3 && l3.push(t3), l3.push(null)), l3;
  }
}
var rc2 = /\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;
function uc2(e) {
  return e.replace(rc2, ic2);
}
function ic2(e, t3, n4) {
  if (t3)
    return t3;
  if (n4.charCodeAt(0) === 35) {
    const u5 = n4.charCodeAt(1), a3 = u5 === 120 || u5 === 88;
    return mi2(n4.slice(a3 ? 2 : 1), a3 ? 16 : 10);
  }
  return hr3(n4) || e;
}
var xi2 = {}.hasOwnProperty;
function ac2(e, t3, n4) {
  return typeof t3 != "string" && (n4 = t3, t3 = void 0), sc2(n4)(
    tc2(
      ec2(n4).document().write(nc2()(e, t3, true))
    )
  );
}
function sc2(e) {
  const t3 = {
    transforms: [],
    canContainEols: ["emphasis", "fragment", "heading", "paragraph", "strong"],
    enter: {
      autolink: a3(vr3),
      autolinkProtocol: X6,
      autolinkEmail: X6,
      atxHeading: a3(Fr2),
      blockQuote: a3(it3),
      characterEscape: X6,
      characterReference: X6,
      codeFenced: a3(Ke4),
      codeFencedFenceInfo: i5,
      codeFencedFenceMeta: i5,
      codeIndented: a3(Ke4, i5),
      codeText: a3(On2, i5),
      codeTextData: X6,
      data: X6,
      codeFlowValue: X6,
      definition: a3(os3),
      definitionDestinationString: i5,
      definitionLabelString: i5,
      definitionTitleString: i5,
      emphasis: a3(ls2),
      hardBreakEscape: a3(Hr2),
      hardBreakTrailing: a3(Hr2),
      htmlFlow: a3(Ur2, i5),
      htmlFlowData: X6,
      htmlText: a3(Ur2, i5),
      htmlTextData: X6,
      image: a3(cs2),
      label: i5,
      link: a3(vr3),
      listItem: a3(fs3),
      listItemValue: p3,
      listOrdered: a3(zr3, f8),
      listUnordered: a3(zr3),
      paragraph: a3(hs3),
      reference: b7,
      referenceString: i5,
      resourceDestinationString: i5,
      resourceTitleString: i5,
      setextHeading: a3(Fr2),
      strong: a3(ds3),
      thematicBreak: a3(ps3)
    },
    exit: {
      atxHeading: l3(),
      atxHeadingSequence: Y5,
      autolink: l3(),
      autolinkEmail: Fe6,
      autolinkProtocol: Ct4,
      blockQuote: l3(),
      characterEscapeValue: N5,
      characterReferenceMarkerHexadecimal: Xe3,
      characterReferenceMarkerNumeric: Xe3,
      characterReferenceValue: le4,
      codeFenced: l3(L4),
      codeFencedFence: I4,
      codeFencedFenceInfo: d2,
      codeFencedFenceMeta: A3,
      codeFlowValue: N5,
      codeIndented: l3(x8),
      codeText: l3(G3),
      codeTextData: N5,
      data: N5,
      definition: l3(),
      definitionDestinationString: z4,
      definitionLabelString: w6,
      definitionTitleString: D3,
      emphasis: l3(),
      hardBreakEscape: l3(F4),
      hardBreakTrailing: l3(F4),
      htmlFlow: l3($7),
      htmlFlowData: N5,
      htmlText: l3(ne6),
      htmlTextData: N5,
      image: l3(oe4),
      label: Le5,
      labelText: _e5,
      lineEnding: B4,
      link: l3(ce2),
      listItem: l3(),
      listOrdered: l3(),
      listUnordered: l3(),
      paragraph: l3(),
      referenceString: Ie5,
      resourceDestinationString: g6,
      resourceTitleString: Ce6,
      resource: Re5,
      setextHeading: l3(ee3),
      setextHeadingLineSequence: Q6,
      setextHeadingText: O4,
      strong: l3(),
      thematicBreak: l3()
    }
  };
  Ni2(t3, (e || {}).mdastExtensions || []);
  const n4 = {};
  return r4;
  function r4(S4) {
    let M5 = {
      type: "root",
      children: []
    };
    const U4 = {
      stack: [M5],
      tokenStack: [],
      config: t3,
      enter: o2,
      exit: c6,
      buffer: i5,
      resume: h3,
      data: n4
    }, V7 = [];
    let K4 = -1;
    for (; ++K4 < S4.length; )
      if (S4[K4][1].type === "listOrdered" || S4[K4][1].type === "listUnordered")
        if (S4[K4][0] === "enter")
          V7.push(K4);
        else {
          const xe5 = V7.pop();
          K4 = u5(S4, xe5, K4);
        }
    for (K4 = -1; ++K4 < S4.length; ) {
      const xe5 = t3[S4[K4][0]];
      xi2.call(xe5, S4[K4][1].type) && xe5[S4[K4][1].type].call(
        Object.assign(
          {
            sliceSerialize: S4[K4][2].sliceSerialize
          },
          U4
        ),
        S4[K4][1]
      );
    }
    if (U4.tokenStack.length > 0) {
      const xe5 = U4.tokenStack[U4.tokenStack.length - 1];
      (xe5[1] || nu2).call(U4, void 0, xe5[0]);
    }
    for (M5.position = {
      start: He3(
        S4.length > 0 ? S4[0][1].start : {
          line: 1,
          column: 1,
          offset: 0
        }
      ),
      end: He3(
        S4.length > 0 ? S4[S4.length - 2][1].end : {
          line: 1,
          column: 1,
          offset: 0
        }
      )
    }, K4 = -1; ++K4 < t3.transforms.length; )
      M5 = t3.transforms[K4](M5) || M5;
    return M5;
  }
  function u5(S4, M5, U4) {
    let V7 = M5 - 1, K4 = -1, xe5 = false, $e5, De5, It3, xt5;
    for (; ++V7 <= U4; ) {
      const Ee6 = S4[V7];
      switch (Ee6[1].type) {
        case "listUnordered":
        case "listOrdered":
        case "blockQuote": {
          Ee6[0] === "enter" ? K4++ : K4--, xt5 = void 0;
          break;
        }
        case "lineEndingBlank": {
          Ee6[0] === "enter" && ($e5 && !xt5 && !K4 && !It3 && (It3 = V7), xt5 = void 0);
          break;
        }
        case "linePrefix":
        case "listItemValue":
        case "listItemMarker":
        case "listItemPrefix":
        case "listItemPrefixWhitespace":
          break;
        default:
          xt5 = void 0;
      }
      if (!K4 && Ee6[0] === "enter" && Ee6[1].type === "listItemPrefix" || K4 === -1 && Ee6[0] === "exit" && (Ee6[1].type === "listUnordered" || Ee6[1].type === "listOrdered")) {
        if ($e5) {
          let at2 = V7;
          for (De5 = void 0; at2--; ) {
            const Pe6 = S4[at2];
            if (Pe6[1].type === "lineEnding" || Pe6[1].type === "lineEndingBlank") {
              if (Pe6[0] === "exit") continue;
              De5 && (S4[De5][1].type = "lineEndingBlank", xe5 = true), Pe6[1].type = "lineEnding", De5 = at2;
            } else if (!(Pe6[1].type === "linePrefix" || Pe6[1].type === "blockQuotePrefix" || Pe6[1].type === "blockQuotePrefixWhitespace" || Pe6[1].type === "blockQuoteMarker" || Pe6[1].type === "listItemIndent")) break;
          }
          It3 && (!De5 || It3 < De5) && ($e5._spread = true), $e5.end = Object.assign(
            {},
            De5 ? S4[De5][1].start : Ee6[1].end
          ), S4.splice(De5 || V7, 0, ["exit", $e5, Ee6[2]]), V7++, U4++;
        }
        if (Ee6[1].type === "listItemPrefix") {
          const at2 = {
            type: "listItem",
            _spread: false,
            start: Object.assign({}, Ee6[1].start),
            // @ts-expect-error: well add `end` in a second.
            end: void 0
          };
          $e5 = at2, S4.splice(V7, 0, ["enter", at2, Ee6[2]]), V7++, U4++, It3 = void 0, xt5 = true;
        }
      }
    }
    return S4[M5][1]._spread = xe5, U4;
  }
  function a3(S4, M5) {
    return U4;
    function U4(V7) {
      o2.call(this, S4(V7), V7), M5 && M5.call(this, V7);
    }
  }
  function i5() {
    this.stack.push({
      type: "fragment",
      children: []
    });
  }
  function o2(S4, M5, U4) {
    this.stack[this.stack.length - 1].children.push(S4), this.stack.push(S4), this.tokenStack.push([M5, U4]), S4.position = {
      start: He3(M5.start),
      // @ts-expect-error: `end` will be patched later.
      end: void 0
    };
  }
  function l3(S4) {
    return M5;
    function M5(U4) {
      S4 && S4.call(this, U4), c6.call(this, U4);
    }
  }
  function c6(S4, M5) {
    const U4 = this.stack.pop(), V7 = this.tokenStack.pop();
    if (V7)
      V7[0].type !== S4.type && (M5 ? M5.call(this, S4, V7[0]) : (V7[1] || nu2).call(this, S4, V7[0]));
    else throw new Error(
      "Cannot close `" + S4.type + "` (" + Ls({
        start: S4.start,
        end: S4.end
      }) + "): its not open"
    );
    U4.position.end = He3(S4.end);
  }
  function h3() {
    return fr2(this.stack.pop());
  }
  function f8() {
    this.data.expectingFirstListItemValue = true;
  }
  function p3(S4) {
    if (this.data.expectingFirstListItemValue) {
      const M5 = this.stack[this.stack.length - 2];
      M5.start = Number.parseInt(this.sliceSerialize(S4), 10), this.data.expectingFirstListItemValue = void 0;
    }
  }
  function d2() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.lang = S4;
  }
  function A3() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.meta = S4;
  }
  function I4() {
    this.data.flowCodeInside || (this.buffer(), this.data.flowCodeInside = true);
  }
  function L4() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.value = S4.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g, ""), this.data.flowCodeInside = void 0;
  }
  function x8() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.value = S4.replace(/(\r?\n|\r)$/g, "");
  }
  function w6(S4) {
    const M5 = this.resume(), U4 = this.stack[this.stack.length - 1];
    U4.label = M5, U4.identifier = ft2(
      this.sliceSerialize(S4)
    ).toLowerCase();
  }
  function D3() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.title = S4;
  }
  function z4() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.url = S4;
  }
  function Y5(S4) {
    const M5 = this.stack[this.stack.length - 1];
    if (!M5.depth) {
      const U4 = this.sliceSerialize(S4).length;
      M5.depth = U4;
    }
  }
  function O4() {
    this.data.setextHeadingSlurpLineEnding = true;
  }
  function Q6(S4) {
    const M5 = this.stack[this.stack.length - 1];
    M5.depth = this.sliceSerialize(S4).codePointAt(0) === 61 ? 1 : 2;
  }
  function ee3() {
    this.data.setextHeadingSlurpLineEnding = void 0;
  }
  function X6(S4) {
    const U4 = this.stack[this.stack.length - 1].children;
    let V7 = U4[U4.length - 1];
    (!V7 || V7.type !== "text") && (V7 = ms3(), V7.position = {
      start: He3(S4.start),
      // @ts-expect-error: well add `end` later.
      end: void 0
    }, U4.push(V7)), this.stack.push(V7);
  }
  function N5(S4) {
    const M5 = this.stack.pop();
    M5.value += this.sliceSerialize(S4), M5.position.end = He3(S4.end);
  }
  function B4(S4) {
    const M5 = this.stack[this.stack.length - 1];
    if (this.data.atHardBreak) {
      const U4 = M5.children[M5.children.length - 1];
      U4.position.end = He3(S4.end), this.data.atHardBreak = void 0;
      return;
    }
    !this.data.setextHeadingSlurpLineEnding && t3.canContainEols.includes(M5.type) && (X6.call(this, S4), N5.call(this, S4));
  }
  function F4() {
    this.data.atHardBreak = true;
  }
  function $7() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.value = S4;
  }
  function ne6() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.value = S4;
  }
  function G3() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.value = S4;
  }
  function ce2() {
    const S4 = this.stack[this.stack.length - 1];
    if (this.data.inReference) {
      const M5 = this.data.referenceType || "shortcut";
      S4.type += "Reference", S4.referenceType = M5, delete S4.url, delete S4.title;
    } else
      delete S4.identifier, delete S4.label;
    this.data.referenceType = void 0;
  }
  function oe4() {
    const S4 = this.stack[this.stack.length - 1];
    if (this.data.inReference) {
      const M5 = this.data.referenceType || "shortcut";
      S4.type += "Reference", S4.referenceType = M5, delete S4.url, delete S4.title;
    } else
      delete S4.identifier, delete S4.label;
    this.data.referenceType = void 0;
  }
  function _e5(S4) {
    const M5 = this.sliceSerialize(S4), U4 = this.stack[this.stack.length - 2];
    U4.label = uc2(M5), U4.identifier = ft2(M5).toLowerCase();
  }
  function Le5() {
    const S4 = this.stack[this.stack.length - 1], M5 = this.resume(), U4 = this.stack[this.stack.length - 1];
    if (this.data.inReference = true, U4.type === "link") {
      const V7 = S4.children;
      U4.children = V7;
    } else
      U4.alt = M5;
  }
  function g6() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.url = S4;
  }
  function Ce6() {
    const S4 = this.resume(), M5 = this.stack[this.stack.length - 1];
    M5.title = S4;
  }
  function Re5() {
    this.data.inReference = void 0;
  }
  function b7() {
    this.data.referenceType = "collapsed";
  }
  function Ie5(S4) {
    const M5 = this.resume(), U4 = this.stack[this.stack.length - 1];
    U4.label = M5, U4.identifier = ft2(
      this.sliceSerialize(S4)
    ).toLowerCase(), this.data.referenceType = "full";
  }
  function Xe3(S4) {
    this.data.characterReferenceType = S4.type;
  }
  function le4(S4) {
    const M5 = this.sliceSerialize(S4), U4 = this.data.characterReferenceType;
    let V7;
    U4 ? (V7 = mi2(
      M5,
      U4 === "characterReferenceMarkerNumeric" ? 10 : 16
    ), this.data.characterReferenceType = void 0) : V7 = hr3(M5);
    const K4 = this.stack.pop();
    K4.value += V7, K4.position.end = He3(S4.end);
  }
  function Ct4(S4) {
    N5.call(this, S4);
    const M5 = this.stack[this.stack.length - 1];
    M5.url = this.sliceSerialize(S4);
  }
  function Fe6(S4) {
    N5.call(this, S4);
    const M5 = this.stack[this.stack.length - 1];
    M5.url = "mailto:" + this.sliceSerialize(S4);
  }
  function it3() {
    return {
      type: "blockquote",
      children: []
    };
  }
  function Ke4() {
    return {
      type: "code",
      lang: null,
      meta: null,
      value: ""
    };
  }
  function On2() {
    return {
      type: "inlineCode",
      value: ""
    };
  }
  function os3() {
    return {
      type: "definition",
      identifier: "",
      label: null,
      title: null,
      url: ""
    };
  }
  function ls2() {
    return {
      type: "emphasis",
      children: []
    };
  }
  function Fr2() {
    return {
      type: "heading",
      // @ts-expect-error `depth` will be set later.
      depth: 0,
      children: []
    };
  }
  function Hr2() {
    return {
      type: "break"
    };
  }
  function Ur2() {
    return {
      type: "html",
      value: ""
    };
  }
  function cs2() {
    return {
      type: "image",
      title: null,
      url: "",
      alt: null
    };
  }
  function vr3() {
    return {
      type: "link",
      title: null,
      url: "",
      children: []
    };
  }
  function zr3(S4) {
    return {
      type: "list",
      ordered: S4.type === "listOrdered",
      start: null,
      spread: S4._spread,
      children: []
    };
  }
  function fs3(S4) {
    return {
      type: "listItem",
      spread: S4._spread,
      checked: null,
      children: []
    };
  }
  function hs3() {
    return {
      type: "paragraph",
      children: []
    };
  }
  function ds3() {
    return {
      type: "strong",
      children: []
    };
  }
  function ms3() {
    return {
      type: "text",
      value: ""
    };
  }
  function ps3() {
    return {
      type: "thematicBreak"
    };
  }
}
function He3(e) {
  return {
    line: e.line,
    column: e.column,
    offset: e.offset
  };
}
function Ni2(e, t3) {
  let n4 = -1;
  for (; ++n4 < t3.length; ) {
    const r4 = t3[n4];
    Array.isArray(r4) ? Ni2(e, r4) : oc2(e, r4);
  }
}
function oc2(e, t3) {
  let n4;
  for (n4 in t3)
    if (xi2.call(t3, n4))
      switch (n4) {
        case "canContainEols": {
          const r4 = t3[n4];
          r4 && e[n4].push(...r4);
          break;
        }
        case "transforms": {
          const r4 = t3[n4];
          r4 && e[n4].push(...r4);
          break;
        }
        case "enter":
        case "exit": {
          const r4 = t3[n4];
          r4 && Object.assign(e[n4], r4);
          break;
        }
      }
}
function nu2(e, t3) {
  throw e ? new Error(
    "Cannot close `" + e.type + "` (" + Ls({
      start: e.start,
      end: e.end
    }) + "): a different token (`" + t3.type + "`, " + Ls({
      start: t3.start,
      end: t3.end
    }) + ") is open"
  ) : new Error(
    "Cannot close document, a token (`" + t3.type + "`, " + Ls({
      start: t3.start,
      end: t3.end
    }) + ") is still open"
  );
}
function lc2(e) {
  const t3 = this;
  t3.parser = n4;
  function n4(r4) {
    return ac2(r4, {
      ...t3.data("settings"),
      ...e,
      // Note: these options are not in the readme.
      // The goal is for them to be set by plugins on `data` instead of being
      // passed by users.
      extensions: t3.data("micromarkExtensions") || [],
      mdastExtensions: t3.data("fromMarkdownExtensions") || []
    });
  }
}
function cc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "blockquote",
    properties: {},
    children: e.wrap(e.all(t3), true)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function fc2(e, t3) {
  const n4 = { type: "element", tagName: "br", properties: {}, children: [] };
  return e.patch(t3, n4), [e.applyData(t3, n4), { type: "text", value: `
` }];
}
function hc2(e, t3) {
  const n4 = t3.value ? t3.value + `
` : "", r4 = {};
  t3.lang && (r4.className = ["language-" + t3.lang]);
  let u5 = {
    type: "element",
    tagName: "code",
    properties: r4,
    children: [{ type: "text", value: n4 }]
  };
  return t3.meta && (u5.data = { meta: t3.meta }), e.patch(t3, u5), u5 = e.applyData(t3, u5), u5 = { type: "element", tagName: "pre", properties: {}, children: [u5] }, e.patch(t3, u5), u5;
}
function dc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "del",
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function mc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "em",
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function Tt3(e) {
  const t3 = [];
  let n4 = -1, r4 = 0, u5 = 0;
  for (; ++n4 < e.length; ) {
    const a3 = e.charCodeAt(n4);
    let i5 = "";
    if (a3 === 37 && fe2(e.charCodeAt(n4 + 1)) && fe2(e.charCodeAt(n4 + 2)))
      u5 = 2;
    else if (a3 < 128)
      /[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a3)) || (i5 = String.fromCharCode(a3));
    else if (a3 > 55295 && a3 < 57344) {
      const o2 = e.charCodeAt(n4 + 1);
      a3 < 56320 && o2 > 56319 && o2 < 57344 ? (i5 = String.fromCharCode(a3, o2), u5 = 1) : i5 = "";
    } else
      i5 = String.fromCharCode(a3);
    i5 && (t3.push(e.slice(r4, n4), encodeURIComponent(i5)), r4 = n4 + u5 + 1, i5 = ""), u5 && (n4 += u5, u5 = 0);
  }
  return t3.join("") + e.slice(r4);
}
function pc2(e, t3) {
  const n4 = typeof e.options.clobberPrefix == "string" ? e.options.clobberPrefix : "user-content-", r4 = String(t3.identifier).toUpperCase(), u5 = Tt3(r4.toLowerCase()), a3 = e.footnoteOrder.indexOf(r4);
  let i5, o2 = e.footnoteCounts.get(r4);
  o2 === void 0 ? (o2 = 0, e.footnoteOrder.push(r4), i5 = e.footnoteOrder.length) : i5 = a3 + 1, o2 += 1, e.footnoteCounts.set(r4, o2);
  const l3 = {
    type: "element",
    tagName: "a",
    properties: {
      href: "#" + n4 + "fn-" + u5,
      id: n4 + "fnref-" + u5 + (o2 > 1 ? "-" + o2 : ""),
      dataFootnoteRef: true,
      ariaDescribedBy: ["footnote-label"]
    },
    children: [{ type: "text", value: String(i5) }]
  };
  e.patch(t3, l3);
  const c6 = {
    type: "element",
    tagName: "sup",
    properties: {},
    children: [l3]
  };
  return e.patch(t3, c6), e.applyData(t3, c6);
}
function Ec2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "h" + t3.depth,
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function Tc2(e, t3) {
  if (e.options.allowDangerousHtml) {
    const n4 = { type: "raw", value: t3.value };
    return e.patch(t3, n4), e.applyData(t3, n4);
  }
}
function Si2(e, t3) {
  const n4 = t3.referenceType;
  let r4 = "]";
  if (n4 === "collapsed" ? r4 += "[]" : n4 === "full" && (r4 += "[" + (t3.label || t3.identifier) + "]"), t3.type === "imageReference")
    return [{ type: "text", value: "![" + t3.alt + r4 }];
  const u5 = e.all(t3), a3 = u5[0];
  a3 && a3.type === "text" ? a3.value = "[" + a3.value : u5.unshift({ type: "text", value: "[" });
  const i5 = u5[u5.length - 1];
  return i5 && i5.type === "text" ? i5.value += r4 : u5.push({ type: "text", value: r4 }), u5;
}
function gc2(e, t3) {
  const n4 = String(t3.identifier).toUpperCase(), r4 = e.definitionById.get(n4);
  if (!r4)
    return Si2(e, t3);
  const u5 = { src: Tt3(r4.url || ""), alt: t3.alt };
  r4.title !== null && r4.title !== void 0 && (u5.title = r4.title);
  const a3 = { type: "element", tagName: "img", properties: u5, children: [] };
  return e.patch(t3, a3), e.applyData(t3, a3);
}
function bc2(e, t3) {
  const n4 = { src: Tt3(t3.url) };
  t3.alt !== null && t3.alt !== void 0 && (n4.alt = t3.alt), t3.title !== null && t3.title !== void 0 && (n4.title = t3.title);
  const r4 = { type: "element", tagName: "img", properties: n4, children: [] };
  return e.patch(t3, r4), e.applyData(t3, r4);
}
function Ac2(e, t3) {
  const n4 = { type: "text", value: t3.value.replace(/\r?\n|\r/g, " ") };
  e.patch(t3, n4);
  const r4 = {
    type: "element",
    tagName: "code",
    properties: {},
    children: [n4]
  };
  return e.patch(t3, r4), e.applyData(t3, r4);
}
function _c2(e, t3) {
  const n4 = String(t3.identifier).toUpperCase(), r4 = e.definitionById.get(n4);
  if (!r4)
    return Si2(e, t3);
  const u5 = { href: Tt3(r4.url || "") };
  r4.title !== null && r4.title !== void 0 && (u5.title = r4.title);
  const a3 = {
    type: "element",
    tagName: "a",
    properties: u5,
    children: e.all(t3)
  };
  return e.patch(t3, a3), e.applyData(t3, a3);
}
function Cc2(e, t3) {
  const n4 = { href: Tt3(t3.url) };
  t3.title !== null && t3.title !== void 0 && (n4.title = t3.title);
  const r4 = {
    type: "element",
    tagName: "a",
    properties: n4,
    children: e.all(t3)
  };
  return e.patch(t3, r4), e.applyData(t3, r4);
}
function Ic2(e, t3, n4) {
  const r4 = e.all(t3), u5 = n4 ? xc2(n4) : ki2(t3), a3 = {}, i5 = [];
  if (typeof t3.checked == "boolean") {
    const h3 = r4[0];
    let f8;
    h3 && h3.type === "element" && h3.tagName === "p" ? f8 = h3 : (f8 = { type: "element", tagName: "p", properties: {}, children: [] }, r4.unshift(f8)), f8.children.length > 0 && f8.children.unshift({ type: "text", value: " " }), f8.children.unshift({
      type: "element",
      tagName: "input",
      properties: { type: "checkbox", checked: t3.checked, disabled: true },
      children: []
    }), a3.className = ["task-list-item"];
  }
  let o2 = -1;
  for (; ++o2 < r4.length; ) {
    const h3 = r4[o2];
    (u5 || o2 !== 0 || h3.type !== "element" || h3.tagName !== "p") && i5.push({ type: "text", value: `
` }), h3.type === "element" && h3.tagName === "p" && !u5 ? i5.push(...h3.children) : i5.push(h3);
  }
  const l3 = r4[r4.length - 1];
  l3 && (u5 || l3.type !== "element" || l3.tagName !== "p") && i5.push({ type: "text", value: `
` });
  const c6 = { type: "element", tagName: "li", properties: a3, children: i5 };
  return e.patch(t3, c6), e.applyData(t3, c6);
}
function xc2(e) {
  let t3 = false;
  if (e.type === "list") {
    t3 = e.spread || false;
    const n4 = e.children;
    let r4 = -1;
    for (; !t3 && ++r4 < n4.length; )
      t3 = ki2(n4[r4]);
  }
  return t3;
}
function ki2(e) {
  const t3 = e.spread;
  return t3 ?? e.children.length > 1;
}
function Nc2(e, t3) {
  const n4 = {}, r4 = e.all(t3);
  let u5 = -1;
  for (typeof t3.start == "number" && t3.start !== 1 && (n4.start = t3.start); ++u5 < r4.length; ) {
    const i5 = r4[u5];
    if (i5.type === "element" && i5.tagName === "li" && i5.properties && Array.isArray(i5.properties.className) && i5.properties.className.includes("task-list-item")) {
      n4.className = ["contains-task-list"];
      break;
    }
  }
  const a3 = {
    type: "element",
    tagName: t3.ordered ? "ol" : "ul",
    properties: n4,
    children: e.wrap(r4, true)
  };
  return e.patch(t3, a3), e.applyData(t3, a3);
}
function Sc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "p",
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function kc2(e, t3) {
  const n4 = { type: "root", children: e.wrap(e.all(t3)) };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function Oc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "strong",
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function yc2(e, t3) {
  const n4 = e.all(t3), r4 = n4.shift(), u5 = [];
  if (r4) {
    const i5 = {
      type: "element",
      tagName: "thead",
      properties: {},
      children: e.wrap([r4], true)
    };
    e.patch(t3.children[0], i5), u5.push(i5);
  }
  if (n4.length > 0) {
    const i5 = {
      type: "element",
      tagName: "tbody",
      properties: {},
      children: e.wrap(n4, true)
    }, o2 = Fr(t3.children[1]), l3 = Ps(t3.children[t3.children.length - 1]);
    o2 && l3 && (i5.position = { start: o2, end: l3 }), u5.push(i5);
  }
  const a3 = {
    type: "element",
    tagName: "table",
    properties: {},
    children: e.wrap(u5, true)
  };
  return e.patch(t3, a3), e.applyData(t3, a3);
}
function Lc2(e, t3, n4) {
  const r4 = n4 ? n4.children : void 0, a3 = (r4 ? r4.indexOf(t3) : 1) === 0 ? "th" : "td", i5 = n4 && n4.type === "table" ? n4.align : void 0, o2 = i5 ? i5.length : t3.children.length;
  let l3 = -1;
  const c6 = [];
  for (; ++l3 < o2; ) {
    const f8 = t3.children[l3], p3 = {}, d2 = i5 ? i5[l3] : void 0;
    d2 && (p3.align = d2);
    let A3 = { type: "element", tagName: a3, properties: p3, children: [] };
    f8 && (A3.children = e.all(f8), e.patch(f8, A3), A3 = e.applyData(f8, A3)), c6.push(A3);
  }
  const h3 = {
    type: "element",
    tagName: "tr",
    properties: {},
    children: e.wrap(c6, true)
  };
  return e.patch(t3, h3), e.applyData(t3, h3);
}
function Rc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "td",
    // Assume body cell.
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
var ru2 = 9;
var uu2 = 32;
function Dc2(e) {
  const t3 = String(e), n4 = /\r?\n|\r/g;
  let r4 = n4.exec(t3), u5 = 0;
  const a3 = [];
  for (; r4; )
    a3.push(
      iu2(t3.slice(u5, r4.index), u5 > 0, true),
      r4[0]
    ), u5 = r4.index + r4[0].length, r4 = n4.exec(t3);
  return a3.push(iu2(t3.slice(u5), u5 > 0, false)), a3.join("");
}
function iu2(e, t3, n4) {
  let r4 = 0, u5 = e.length;
  if (t3) {
    let a3 = e.codePointAt(r4);
    for (; a3 === ru2 || a3 === uu2; )
      r4++, a3 = e.codePointAt(r4);
  }
  if (n4) {
    let a3 = e.codePointAt(u5 - 1);
    for (; a3 === ru2 || a3 === uu2; )
      u5--, a3 = e.codePointAt(u5 - 1);
  }
  return u5 > r4 ? e.slice(r4, u5) : "";
}
function Pc2(e, t3) {
  const n4 = { type: "text", value: Dc2(String(t3.value)) };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
function wc2(e, t3) {
  const n4 = {
    type: "element",
    tagName: "hr",
    properties: {},
    children: []
  };
  return e.patch(t3, n4), e.applyData(t3, n4);
}
var Mc2 = {
  blockquote: cc2,
  break: fc2,
  code: hc2,
  delete: dc2,
  emphasis: mc2,
  footnoteReference: pc2,
  heading: Ec2,
  html: Tc2,
  imageReference: gc2,
  image: bc2,
  inlineCode: Ac2,
  linkReference: _c2,
  link: Cc2,
  listItem: Ic2,
  list: Nc2,
  paragraph: Sc2,
  // @ts-expect-error: root is different, but hard to type.
  root: kc2,
  strong: Oc2,
  table: yc2,
  tableCell: Rc2,
  tableRow: Lc2,
  text: Pc2,
  thematicBreak: wc2,
  toml: Gt2,
  yaml: Gt2,
  definition: Gt2,
  footnoteDefinition: Gt2
};
function Gt2() {
}
var Oi2 = -1;
var _n2 = 0;
var Dt2 = 1;
var ln2 = 2;
var pr2 = 3;
var Er2 = 4;
var Tr2 = 5;
var gr2 = 6;
var yi2 = 7;
var Li2 = 8;
var au2 = typeof self == "object" ? self : globalThis;
var Bc2 = (e, t3) => {
  const n4 = (u5, a3) => (e.set(a3, u5), u5), r4 = (u5) => {
    if (e.has(u5))
      return e.get(u5);
    const [a3, i5] = t3[u5];
    switch (a3) {
      case _n2:
      case Oi2:
        return n4(i5, u5);
      case Dt2: {
        const o2 = n4([], u5);
        for (const l3 of i5)
          o2.push(r4(l3));
        return o2;
      }
      case ln2: {
        const o2 = n4({}, u5);
        for (const [l3, c6] of i5)
          o2[r4(l3)] = r4(c6);
        return o2;
      }
      case pr2:
        return n4(new Date(i5), u5);
      case Er2: {
        const { source: o2, flags: l3 } = i5;
        return n4(new RegExp(o2, l3), u5);
      }
      case Tr2: {
        const o2 = n4(/* @__PURE__ */ new Map(), u5);
        for (const [l3, c6] of i5)
          o2.set(r4(l3), r4(c6));
        return o2;
      }
      case gr2: {
        const o2 = n4(/* @__PURE__ */ new Set(), u5);
        for (const l3 of i5)
          o2.add(r4(l3));
        return o2;
      }
      case yi2: {
        const { name: o2, message: l3 } = i5;
        return n4(new au2[o2](l3), u5);
      }
      case Li2:
        return n4(BigInt(i5), u5);
      case "BigInt":
        return n4(Object(BigInt(i5)), u5);
      case "ArrayBuffer":
        return n4(new Uint8Array(i5).buffer, i5);
      case "DataView": {
        const { buffer: o2 } = new Uint8Array(i5);
        return n4(new DataView(o2), i5);
      }
    }
    return n4(new au2[a3](i5), u5);
  };
  return r4;
};
var su2 = (e) => Bc2(/* @__PURE__ */ new Map(), e)(0);
var st3 = "";
var { toString: Fc2 } = {};
var { keys: Hc2 } = Object;
var Nt2 = (e) => {
  const t3 = typeof e;
  if (t3 !== "object" || !e)
    return [_n2, t3];
  const n4 = Fc2.call(e).slice(8, -1);
  switch (n4) {
    case "Array":
      return [Dt2, st3];
    case "Object":
      return [ln2, st3];
    case "Date":
      return [pr2, st3];
    case "RegExp":
      return [Er2, st3];
    case "Map":
      return [Tr2, st3];
    case "Set":
      return [gr2, st3];
    case "DataView":
      return [Dt2, n4];
  }
  return n4.includes("Array") ? [Dt2, n4] : n4.includes("Error") ? [yi2, n4] : [ln2, n4];
};
var Xt3 = ([e, t3]) => e === _n2 && (t3 === "function" || t3 === "symbol");
var Uc2 = (e, t3, n4, r4) => {
  const u5 = (i5, o2) => {
    const l3 = r4.push(i5) - 1;
    return n4.set(o2, l3), l3;
  }, a3 = (i5) => {
    if (n4.has(i5))
      return n4.get(i5);
    let [o2, l3] = Nt2(i5);
    switch (o2) {
      case _n2: {
        let h3 = i5;
        switch (l3) {
          case "bigint":
            o2 = Li2, h3 = i5.toString();
            break;
          case "function":
          case "symbol":
            if (e)
              throw new TypeError("unable to serialize " + l3);
            h3 = null;
            break;
          case "undefined":
            return u5([Oi2], i5);
        }
        return u5([o2, h3], i5);
      }
      case Dt2: {
        if (l3) {
          let p3 = i5;
          return l3 === "DataView" ? p3 = new Uint8Array(i5.buffer) : l3 === "ArrayBuffer" && (p3 = new Uint8Array(i5)), u5([l3, [...p3]], i5);
        }
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const p3 of i5)
          h3.push(a3(p3));
        return f8;
      }
      case ln2: {
        if (l3)
          switch (l3) {
            case "BigInt":
              return u5([l3, i5.toString()], i5);
            case "Boolean":
            case "Number":
            case "String":
              return u5([l3, i5.valueOf()], i5);
          }
        if (t3 && "toJSON" in i5)
          return a3(i5.toJSON());
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const p3 of Hc2(i5))
          (e || !Xt3(Nt2(i5[p3]))) && h3.push([a3(p3), a3(i5[p3])]);
        return f8;
      }
      case pr2:
        return u5([o2, i5.toISOString()], i5);
      case Er2: {
        const { source: h3, flags: f8 } = i5;
        return u5([o2, { source: h3, flags: f8 }], i5);
      }
      case Tr2: {
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const [p3, d2] of i5)
          (e || !(Xt3(Nt2(p3)) || Xt3(Nt2(d2)))) && h3.push([a3(p3), a3(d2)]);
        return f8;
      }
      case gr2: {
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const p3 of i5)
          (e || !Xt3(Nt2(p3))) && h3.push(a3(p3));
        return f8;
      }
    }
    const { message: c6 } = i5;
    return u5([o2, { name: l3, message: c6 }], i5);
  };
  return a3;
};
var ou2 = (e, { json: t3, lossy: n4 } = {}) => {
  const r4 = [];
  return Uc2(!(t3 || n4), !!t3, /* @__PURE__ */ new Map(), r4)(e), r4;
};
var cn2 = typeof structuredClone == "function" ? (
  /* c8 ignore start */
  ((e, t3) => t3 && ("json" in t3 || "lossy" in t3) ? su2(ou2(e, t3)) : structuredClone(e))
) : (e, t3) => su2(ou2(e, t3));
function vc2(e, t3) {
  const n4 = [{ type: "text", value: "" }];
  return t3 > 1 && n4.push({
    type: "element",
    tagName: "sup",
    properties: {},
    children: [{ type: "text", value: String(t3) }]
  }), n4;
}
function zc2(e, t3) {
  return "Back to reference " + (e + 1) + (t3 > 1 ? "-" + t3 : "");
}
function Yc(e) {
  const t3 = typeof e.options.clobberPrefix == "string" ? e.options.clobberPrefix : "user-content-", n4 = e.options.footnoteBackContent || vc2, r4 = e.options.footnoteBackLabel || zc2, u5 = e.options.footnoteLabel || "Footnotes", a3 = e.options.footnoteLabelTagName || "h2", i5 = e.options.footnoteLabelProperties || {
    className: ["sr-only"]
  }, o2 = [];
  let l3 = -1;
  for (; ++l3 < e.footnoteOrder.length; ) {
    const c6 = e.footnoteById.get(
      e.footnoteOrder[l3]
    );
    if (!c6)
      continue;
    const h3 = e.all(c6), f8 = String(c6.identifier).toUpperCase(), p3 = Tt3(f8.toLowerCase());
    let d2 = 0;
    const A3 = [], I4 = e.footnoteCounts.get(f8);
    for (; I4 !== void 0 && ++d2 <= I4; ) {
      A3.length > 0 && A3.push({ type: "text", value: " " });
      let w6 = typeof n4 == "string" ? n4 : n4(l3, d2);
      typeof w6 == "string" && (w6 = { type: "text", value: w6 }), A3.push({
        type: "element",
        tagName: "a",
        properties: {
          href: "#" + t3 + "fnref-" + p3 + (d2 > 1 ? "-" + d2 : ""),
          dataFootnoteBackref: "",
          ariaLabel: typeof r4 == "string" ? r4 : r4(l3, d2),
          className: ["data-footnote-backref"]
        },
        children: Array.isArray(w6) ? w6 : [w6]
      });
    }
    const L4 = h3[h3.length - 1];
    if (L4 && L4.type === "element" && L4.tagName === "p") {
      const w6 = L4.children[L4.children.length - 1];
      w6 && w6.type === "text" ? w6.value += " " : L4.children.push({ type: "text", value: " " }), L4.children.push(...A3);
    } else
      h3.push(...A3);
    const x8 = {
      type: "element",
      tagName: "li",
      properties: { id: t3 + "fn-" + p3 },
      children: e.wrap(h3, true)
    };
    e.patch(c6, x8), o2.push(x8);
  }
  if (o2.length !== 0)
    return {
      type: "element",
      tagName: "section",
      properties: { dataFootnotes: true, className: ["footnotes"] },
      children: [
        {
          type: "element",
          tagName: a3,
          properties: {
            ...cn2(i5),
            id: "footnote-label"
          },
          children: [{ type: "text", value: u5 }]
        },
        { type: "text", value: `
` },
        {
          type: "element",
          tagName: "ol",
          properties: {},
          children: e.wrap(o2, true)
        },
        { type: "text", value: `
` }
      ]
    };
}
var $n2 = {}.hasOwnProperty;
var qc = {};
function jc2(e, t3) {
  const n4 = t3 || qc, r4 = /* @__PURE__ */ new Map(), u5 = /* @__PURE__ */ new Map(), a3 = /* @__PURE__ */ new Map(), i5 = { ...Mc2, ...n4.handlers }, o2 = {
    all: c6,
    applyData: Wc2,
    definitionById: r4,
    footnoteById: u5,
    footnoteCounts: a3,
    footnoteOrder: [],
    handlers: i5,
    one: l3,
    options: n4,
    patch: Vc,
    wrap: Gc2
  };
  return Vr(e, function(h3) {
    if (h3.type === "definition" || h3.type === "footnoteDefinition") {
      const f8 = h3.type === "definition" ? r4 : u5, p3 = String(h3.identifier).toUpperCase();
      f8.has(p3) || f8.set(p3, h3);
    }
  }), o2;
  function l3(h3, f8) {
    const p3 = h3.type, d2 = o2.handlers[p3];
    if ($n2.call(o2.handlers, p3) && d2)
      return d2(o2, h3, f8);
    if (o2.options.passThrough && o2.options.passThrough.includes(p3)) {
      if ("children" in h3) {
        const { children: I4, ...L4 } = h3, x8 = cn2(L4);
        return x8.children = o2.all(h3), x8;
      }
      return cn2(h3);
    }
    return (o2.options.unknownHandler || Qc2)(o2, h3, f8);
  }
  function c6(h3) {
    const f8 = [];
    if ("children" in h3) {
      const p3 = h3.children;
      let d2 = -1;
      for (; ++d2 < p3.length; ) {
        const A3 = o2.one(p3[d2], h3);
        if (A3) {
          if (d2 && p3[d2 - 1].type === "break" && (!Array.isArray(A3) && A3.type === "text" && (A3.value = lu2(A3.value)), !Array.isArray(A3) && A3.type === "element")) {
            const I4 = A3.children[0];
            I4 && I4.type === "text" && (I4.value = lu2(I4.value));
          }
          Array.isArray(A3) ? f8.push(...A3) : f8.push(A3);
        }
      }
    }
    return f8;
  }
}
function Vc(e, t3) {
  e.position && (t3.position = ah(e));
}
function Wc2(e, t3) {
  let n4 = t3;
  if (e && e.data) {
    const r4 = e.data.hName, u5 = e.data.hChildren, a3 = e.data.hProperties;
    if (typeof r4 == "string")
      if (n4.type === "element")
        n4.tagName = r4;
      else {
        const i5 = "children" in n4 ? n4.children : [n4];
        n4 = { type: "element", tagName: r4, properties: {}, children: i5 };
      }
    n4.type === "element" && a3 && Object.assign(n4.properties, cn2(a3)), "children" in n4 && n4.children && u5 !== null && u5 !== void 0 && (n4.children = u5);
  }
  return n4;
}
function Qc2(e, t3) {
  const n4 = t3.data || {}, r4 = "value" in t3 && !($n2.call(n4, "hProperties") || $n2.call(n4, "hChildren")) ? { type: "text", value: t3.value } : {
    type: "element",
    tagName: "div",
    properties: {},
    children: e.all(t3)
  };
  return e.patch(t3, r4), e.applyData(t3, r4);
}
function Gc2(e, t3) {
  const n4 = [];
  let r4 = -1;
  for (t3 && n4.push({ type: "text", value: `
` }); ++r4 < e.length; )
    r4 && n4.push({ type: "text", value: `
` }), n4.push(e[r4]);
  return t3 && e.length > 0 && n4.push({ type: "text", value: `
` }), n4;
}
function lu2(e) {
  let t3 = 0, n4 = e.charCodeAt(t3);
  for (; n4 === 9 || n4 === 32; )
    t3++, n4 = e.charCodeAt(t3);
  return e.slice(t3);
}
function cu2(e, t3) {
  const n4 = jc2(e, t3), r4 = n4.one(e, void 0), u5 = Yc(n4), a3 = Array.isArray(r4) ? { type: "root", children: r4 } : r4 || { type: "root", children: [] };
  return u5 && a3.children.push({ type: "text", value: `
` }, u5), a3;
}
function Xc(e, t3) {
  return e && "run" in e ? async function(n4, r4) {
    const u5 = (
      /** @type {HastRoot} */
      cu2(n4, { file: r4, ...t3 })
    );
    await e.run(u5, r4);
  } : function(n4, r4) {
    return (
      /** @type {HastRoot} */
      cu2(n4, { file: r4, ...e || t3 })
    );
  };
}
function fu2(e) {
  if (e)
    throw e;
}
var Pn2;
var hu2;
function Kc() {
  if (hu2) return Pn2;
  hu2 = 1;
  var e = Object.prototype.hasOwnProperty, t3 = Object.prototype.toString, n4 = Object.defineProperty, r4 = Object.getOwnPropertyDescriptor, u5 = function(c6) {
    return typeof Array.isArray == "function" ? Array.isArray(c6) : t3.call(c6) === "[object Array]";
  }, a3 = function(c6) {
    if (!c6 || t3.call(c6) !== "[object Object]")
      return false;
    var h3 = e.call(c6, "constructor"), f8 = c6.constructor && c6.constructor.prototype && e.call(c6.constructor.prototype, "isPrototypeOf");
    if (c6.constructor && !h3 && !f8)
      return false;
    var p3;
    for (p3 in c6)
      ;
    return typeof p3 > "u" || e.call(c6, p3);
  }, i5 = function(c6, h3) {
    n4 && h3.name === "__proto__" ? n4(c6, h3.name, {
      enumerable: true,
      configurable: true,
      value: h3.newValue,
      writable: true
    }) : c6[h3.name] = h3.newValue;
  }, o2 = function(c6, h3) {
    if (h3 === "__proto__")
      if (e.call(c6, h3)) {
        if (r4)
          return r4(c6, h3).value;
      } else return;
    return c6[h3];
  };
  return Pn2 = function l3() {
    var c6, h3, f8, p3, d2, A3, I4 = arguments[0], L4 = 1, x8 = arguments.length, w6 = false;
    for (typeof I4 == "boolean" && (w6 = I4, I4 = arguments[1] || {}, L4 = 2), (I4 == null || typeof I4 != "object" && typeof I4 != "function") && (I4 = {}); L4 < x8; ++L4)
      if (c6 = arguments[L4], c6 != null)
        for (h3 in c6)
          f8 = o2(I4, h3), p3 = o2(c6, h3), I4 !== p3 && (w6 && p3 && (a3(p3) || (d2 = u5(p3))) ? (d2 ? (d2 = false, A3 = f8 && u5(f8) ? f8 : []) : A3 = f8 && a3(f8) ? f8 : {}, i5(I4, { name: h3, newValue: l3(w6, A3, p3) })) : typeof p3 < "u" && i5(I4, { name: h3, newValue: p3 }));
    return I4;
  }, Pn2;
}
var $c2 = Kc();
var wn2 = f2($c2);
function Jn2(e) {
  if (typeof e != "object" || e === null)
    return false;
  const t3 = Object.getPrototypeOf(e);
  return (t3 === null || t3 === Object.prototype || Object.getPrototypeOf(t3) === null) && !(Symbol.toStringTag in e) && !(Symbol.iterator in e);
}
function Jc() {
  const e = [], t3 = { run: n4, use: r4 };
  return t3;
  function n4(...u5) {
    let a3 = -1;
    const i5 = u5.pop();
    if (typeof i5 != "function")
      throw new TypeError("Expected function as last argument, not " + i5);
    o2(null, ...u5);
    function o2(l3, ...c6) {
      const h3 = e[++a3];
      let f8 = -1;
      if (l3) {
        i5(l3);
        return;
      }
      for (; ++f8 < u5.length; )
        (c6[f8] === null || c6[f8] === void 0) && (c6[f8] = u5[f8]);
      u5 = c6, h3 ? Zc(h3, o2)(...c6) : i5(null, ...c6);
    }
  }
  function r4(u5) {
    if (typeof u5 != "function")
      throw new TypeError(
        "Expected `middelware` to be a function, not " + u5
      );
    return e.push(u5), t3;
  }
}
function Zc(e, t3) {
  let n4;
  return r4;
  function r4(...i5) {
    const o2 = e.length > i5.length;
    let l3;
    o2 && i5.push(u5);
    try {
      l3 = e.apply(this, i5);
    } catch (c6) {
      const h3 = (
        /** @type {Error} */
        c6
      );
      if (o2 && n4)
        throw h3;
      return u5(h3);
    }
    o2 || (l3 && l3.then && typeof l3.then == "function" ? l3.then(a3, u5) : l3 instanceof Error ? u5(l3) : a3(l3));
  }
  function u5(i5, ...o2) {
    n4 || (n4 = true, t3(i5, ...o2));
  }
  function a3(i5) {
    u5(null, i5);
  }
}
var Se4 = { basename: e0, dirname: t0, extname: n0, join: r0, sep: "/" };
function e0(e, t3) {
  if (t3 !== void 0 && typeof t3 != "string")
    throw new TypeError('"ext" argument must be a string');
  Yt3(e);
  let n4 = 0, r4 = -1, u5 = e.length, a3;
  if (t3 === void 0 || t3.length === 0 || t3.length > e.length) {
    for (; u5--; )
      if (e.codePointAt(u5) === 47) {
        if (a3) {
          n4 = u5 + 1;
          break;
        }
      } else r4 < 0 && (a3 = true, r4 = u5 + 1);
    return r4 < 0 ? "" : e.slice(n4, r4);
  }
  if (t3 === e)
    return "";
  let i5 = -1, o2 = t3.length - 1;
  for (; u5--; )
    if (e.codePointAt(u5) === 47) {
      if (a3) {
        n4 = u5 + 1;
        break;
      }
    } else
      i5 < 0 && (a3 = true, i5 = u5 + 1), o2 > -1 && (e.codePointAt(u5) === t3.codePointAt(o2--) ? o2 < 0 && (r4 = u5) : (o2 = -1, r4 = i5));
  return n4 === r4 ? r4 = i5 : r4 < 0 && (r4 = e.length), e.slice(n4, r4);
}
function t0(e) {
  if (Yt3(e), e.length === 0)
    return ".";
  let t3 = -1, n4 = e.length, r4;
  for (; --n4; )
    if (e.codePointAt(n4) === 47) {
      if (r4) {
        t3 = n4;
        break;
      }
    } else r4 || (r4 = true);
  return t3 < 0 ? e.codePointAt(0) === 47 ? "/" : "." : t3 === 1 && e.codePointAt(0) === 47 ? "//" : e.slice(0, t3);
}
function n0(e) {
  Yt3(e);
  let t3 = e.length, n4 = -1, r4 = 0, u5 = -1, a3 = 0, i5;
  for (; t3--; ) {
    const o2 = e.codePointAt(t3);
    if (o2 === 47) {
      if (i5) {
        r4 = t3 + 1;
        break;
      }
      continue;
    }
    n4 < 0 && (i5 = true, n4 = t3 + 1), o2 === 46 ? u5 < 0 ? u5 = t3 : a3 !== 1 && (a3 = 1) : u5 > -1 && (a3 = -1);
  }
  return u5 < 0 || n4 < 0 || // We saw a non-dot character immediately before the dot.
  a3 === 0 || // The (right-most) trimmed path component is exactly `..`.
  a3 === 1 && u5 === n4 - 1 && u5 === r4 + 1 ? "" : e.slice(u5, n4);
}
function r0(...e) {
  let t3 = -1, n4;
  for (; ++t3 < e.length; )
    Yt3(e[t3]), e[t3] && (n4 = n4 === void 0 ? e[t3] : n4 + "/" + e[t3]);
  return n4 === void 0 ? "." : u0(n4);
}
function u0(e) {
  Yt3(e);
  const t3 = e.codePointAt(0) === 47;
  let n4 = i0(e, !t3);
  return n4.length === 0 && !t3 && (n4 = "."), n4.length > 0 && e.codePointAt(e.length - 1) === 47 && (n4 += "/"), t3 ? "/" + n4 : n4;
}
function i0(e, t3) {
  let n4 = "", r4 = 0, u5 = -1, a3 = 0, i5 = -1, o2, l3;
  for (; ++i5 <= e.length; ) {
    if (i5 < e.length)
      o2 = e.codePointAt(i5);
    else {
      if (o2 === 47)
        break;
      o2 = 47;
    }
    if (o2 === 47) {
      if (!(u5 === i5 - 1 || a3 === 1)) if (u5 !== i5 - 1 && a3 === 2) {
        if (n4.length < 2 || r4 !== 2 || n4.codePointAt(n4.length - 1) !== 46 || n4.codePointAt(n4.length - 2) !== 46) {
          if (n4.length > 2) {
            if (l3 = n4.lastIndexOf("/"), l3 !== n4.length - 1) {
              l3 < 0 ? (n4 = "", r4 = 0) : (n4 = n4.slice(0, l3), r4 = n4.length - 1 - n4.lastIndexOf("/")), u5 = i5, a3 = 0;
              continue;
            }
          } else if (n4.length > 0) {
            n4 = "", r4 = 0, u5 = i5, a3 = 0;
            continue;
          }
        }
        t3 && (n4 = n4.length > 0 ? n4 + "/.." : "..", r4 = 2);
      } else
        n4.length > 0 ? n4 += "/" + e.slice(u5 + 1, i5) : n4 = e.slice(u5 + 1, i5), r4 = i5 - u5 - 1;
      u5 = i5, a3 = 0;
    } else o2 === 46 && a3 > -1 ? a3++ : a3 = -1;
  }
  return n4;
}
function Yt3(e) {
  if (typeof e != "string")
    throw new TypeError(
      "Path must be a string. Received " + JSON.stringify(e)
    );
}
var a0 = { cwd: s0 };
function s0() {
  return "/";
}
function Zn2(e) {
  return !!(e !== null && typeof e == "object" && "href" in e && e.href && "protocol" in e && e.protocol && // @ts-expect-error: indexing is fine.
  e.auth === void 0);
}
function o0(e) {
  if (typeof e == "string")
    e = new URL(e);
  else if (!Zn2(e)) {
    const t3 = new TypeError(
      'The "path" argument must be of type string or an instance of URL. Received `' + e + "`"
    );
    throw t3.code = "ERR_INVALID_ARG_TYPE", t3;
  }
  if (e.protocol !== "file:") {
    const t3 = new TypeError("The URL must be of scheme file");
    throw t3.code = "ERR_INVALID_URL_SCHEME", t3;
  }
  return l0(e);
}
function l0(e) {
  if (e.hostname !== "") {
    const r4 = new TypeError(
      'File URL host must be "localhost" or empty on darwin'
    );
    throw r4.code = "ERR_INVALID_FILE_URL_HOST", r4;
  }
  const t3 = e.pathname;
  let n4 = -1;
  for (; ++n4 < t3.length; )
    if (t3.codePointAt(n4) === 37 && t3.codePointAt(n4 + 1) === 50) {
      const r4 = t3.codePointAt(n4 + 2);
      if (r4 === 70 || r4 === 102) {
        const u5 = new TypeError(
          "File URL path must not include encoded / characters"
        );
        throw u5.code = "ERR_INVALID_FILE_URL_PATH", u5;
      }
    }
  return decodeURIComponent(t3);
}
var Mn2 = (
  /** @type {const} */
  [
    "history",
    "path",
    "basename",
    "stem",
    "extname",
    "dirname"
  ]
);
var Ri2 = class {
  /**
   * Create a new virtual file.
   *
   * `options` is treated as:
   *
   * *   `string` or `Uint8Array`  `{value: options}`
   * *   `URL`  `{path: options}`
   * *   `VFile`  shallow copies its data over to the new file
   * *   `object`  all fields are shallow copied over to the new file
   *
   * Path related fields are set in the following order (least specific to
   * most specific): `history`, `path`, `basename`, `stem`, `extname`,
   * `dirname`.
   *
   * You cannot set `dirname` or `extname` without setting either `history`,
   * `path`, `basename`, or `stem` too.
   *
   * @param {Compatible | null | undefined} [value]
   *   File value.
   * @returns
   *   New instance.
   */
  constructor(t3) {
    let n4;
    t3 ? Zn2(t3) ? n4 = { path: t3 } : typeof t3 == "string" || c0(t3) ? n4 = { value: t3 } : n4 = t3 : n4 = {}, this.cwd = "cwd" in n4 ? "" : a0.cwd(), this.data = {}, this.history = [], this.messages = [], this.value, this.map, this.result, this.stored;
    let r4 = -1;
    for (; ++r4 < Mn2.length; ) {
      const a3 = Mn2[r4];
      a3 in n4 && n4[a3] !== void 0 && n4[a3] !== null && (this[a3] = a3 === "history" ? [...n4[a3]] : n4[a3]);
    }
    let u5;
    for (u5 in n4)
      Mn2.includes(u5) || (this[u5] = n4[u5]);
  }
  /**
   * Get the basename (including extname) (example: `'index.min.js'`).
   *
   * @returns {string | undefined}
   *   Basename.
   */
  get basename() {
    return typeof this.path == "string" ? Se4.basename(this.path) : void 0;
  }
  /**
   * Set basename (including extname) (`'index.min.js'`).
   *
   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\'`
   * on windows).
   * Cannot be nullified (use `file.path = file.dirname` instead).
   *
   * @param {string} basename
   *   Basename.
   * @returns {undefined}
   *   Nothing.
   */
  set basename(t3) {
    Fn2(t3, "basename"), Bn2(t3, "basename"), this.path = Se4.join(this.dirname || "", t3);
  }
  /**
   * Get the parent path (example: `'~'`).
   *
   * @returns {string | undefined}
   *   Dirname.
   */
  get dirname() {
    return typeof this.path == "string" ? Se4.dirname(this.path) : void 0;
  }
  /**
   * Set the parent path (example: `'~'`).
   *
   * Cannot be set if theres no `path` yet.
   *
   * @param {string | undefined} dirname
   *   Dirname.
   * @returns {undefined}
   *   Nothing.
   */
  set dirname(t3) {
    du2(this.basename, "dirname"), this.path = Se4.join(t3 || "", this.basename);
  }
  /**
   * Get the extname (including dot) (example: `'.js'`).
   *
   * @returns {string | undefined}
   *   Extname.
   */
  get extname() {
    return typeof this.path == "string" ? Se4.extname(this.path) : void 0;
  }
  /**
   * Set the extname (including dot) (example: `'.js'`).
   *
   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\'`
   * on windows).
   * Cannot be set if theres no `path` yet.
   *
   * @param {string | undefined} extname
   *   Extname.
   * @returns {undefined}
   *   Nothing.
   */
  set extname(t3) {
    if (Bn2(t3, "extname"), du2(this.dirname, "extname"), t3) {
      if (t3.codePointAt(0) !== 46)
        throw new Error("`extname` must start with `.`");
      if (t3.includes(".", 1))
        throw new Error("`extname` cannot contain multiple dots");
    }
    this.path = Se4.join(this.dirname, this.stem + (t3 || ""));
  }
  /**
   * Get the full path (example: `'~/index.min.js'`).
   *
   * @returns {string}
   *   Path.
   */
  get path() {
    return this.history[this.history.length - 1];
  }
  /**
   * Set the full path (example: `'~/index.min.js'`).
   *
   * Cannot be nullified.
   * You can set a file URL (a `URL` object with a `file:` protocol) which will
   * be turned into a path with `url.fileURLToPath`.
   *
   * @param {URL | string} path
   *   Path.
   * @returns {undefined}
   *   Nothing.
   */
  set path(t3) {
    Zn2(t3) && (t3 = o0(t3)), Fn2(t3, "path"), this.path !== t3 && this.history.push(t3);
  }
  /**
   * Get the stem (basename w/o extname) (example: `'index.min'`).
   *
   * @returns {string | undefined}
   *   Stem.
   */
  get stem() {
    return typeof this.path == "string" ? Se4.basename(this.path, this.extname) : void 0;
  }
  /**
   * Set the stem (basename w/o extname) (example: `'index.min'`).
   *
   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\'`
   * on windows).
   * Cannot be nullified (use `file.path = file.dirname` instead).
   *
   * @param {string} stem
   *   Stem.
   * @returns {undefined}
   *   Nothing.
   */
  set stem(t3) {
    Fn2(t3, "stem"), Bn2(t3, "stem"), this.path = Se4.join(this.dirname || "", t3 + (this.extname || ""));
  }
  // Normal prototypal methods.
  /**
   * Create a fatal message for `reason` associated with the file.
   *
   * The `fatal` field of the message is set to `true` (error; file not usable)
   * and the `file` field is set to the current file path.
   * The message is added to the `messages` field on `file`.
   *
   * >  **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {MessageOptions | null | undefined} [options]
   * @returns {never}
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns {never}
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns {never}
   *   Never.
   * @throws {VFileMessage}
   *   Message.
   */
  fail(t3, n4, r4) {
    const u5 = this.message(t3, n4, r4);
    throw u5.fatal = true, u5;
  }
  /**
   * Create an info message for `reason` associated with the file.
   *
   * The `fatal` field of the message is set to `undefined` (info; change
   * likely not needed) and the `file` field is set to the current file path.
   * The message is added to the `messages` field on `file`.
   *
   * >  **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {MessageOptions | null | undefined} [options]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns {VFileMessage}
   *   Message.
   */
  info(t3, n4, r4) {
    const u5 = this.message(t3, n4, r4);
    return u5.fatal = void 0, u5;
  }
  /**
   * Create a message for `reason` associated with the file.
   *
   * The `fatal` field of the message is set to `false` (warning; change may be
   * needed) and the `file` field is set to the current file path.
   * The message is added to the `messages` field on `file`.
   *
   * >  **Note**: also has obsolete signatures.
   *
   * @overload
   * @param {string} reason
   * @param {MessageOptions | null | undefined} [options]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {string} reason
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Node | NodeLike | null | undefined} parent
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {Point | Position | null | undefined} place
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @overload
   * @param {Error | VFileMessage} cause
   * @param {string | null | undefined} [origin]
   * @returns {VFileMessage}
   *
   * @param {Error | VFileMessage | string} causeOrReason
   *   Reason for message, should use markdown.
   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]
   *   Configuration (optional).
   * @param {string | null | undefined} [origin]
   *   Place in code where the message originates (example:
   *   `'my-package:my-rule'` or `'my-rule'`).
   * @returns {VFileMessage}
   *   Message.
   */
  message(t3, n4, r4) {
    const u5 = new H3(
      // @ts-expect-error: the overloads are fine.
      t3,
      n4,
      r4
    );
    return this.path && (u5.name = this.path + ":" + u5.name, u5.file = this.path), u5.fatal = false, this.messages.push(u5), u5;
  }
  /**
   * Serialize the file.
   *
   * > **Note**: which encodings are supported depends on the engine.
   * > For info on Node.js, see:
   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.
   *
   * @param {string | null | undefined} [encoding='utf8']
   *   Character encoding to understand `value` as when its a `Uint8Array`
   *   (default: `'utf-8'`).
   * @returns {string}
   *   Serialized file.
   */
  toString(t3) {
    return this.value === void 0 ? "" : typeof this.value == "string" ? this.value : new TextDecoder(t3 || void 0).decode(this.value);
  }
};
function Bn2(e, t3) {
  if (e && e.includes(Se4.sep))
    throw new Error(
      "`" + t3 + "` cannot be a path: did not expect `" + Se4.sep + "`"
    );
}
function Fn2(e, t3) {
  if (!e)
    throw new Error("`" + t3 + "` cannot be empty");
}
function du2(e, t3) {
  if (!e)
    throw new Error("Setting `" + t3 + "` requires `path` to be set too");
}
function c0(e) {
  return !!(e && typeof e == "object" && "byteLength" in e && "byteOffset" in e);
}
var f0 = (
  /**
   * @type {new <Parameters extends Array<unknown>, Result>(property: string | symbol) => (...parameters: Parameters) => Result}
   */
  /** @type {unknown} */
  /**
   * @this {Function}
   * @param {string | symbol} property
   * @returns {(...parameters: Array<unknown>) => unknown}
   */
  (function(e) {
    const r4 = (
      /** @type {Record<string | symbol, Function>} */
      // Prototypes do exist.
      // type-coverage:ignore-next-line
      this.constructor.prototype
    ), u5 = r4[e], a3 = function() {
      return u5.apply(a3, arguments);
    };
    return Object.setPrototypeOf(a3, r4), a3;
  })
);
var h0 = {}.hasOwnProperty;
var br2 = class _br extends f0 {
  /**
   * Create a processor.
   */
  constructor() {
    super("copy"), this.Compiler = void 0, this.Parser = void 0, this.attachers = [], this.compiler = void 0, this.freezeIndex = -1, this.frozen = void 0, this.namespace = {}, this.parser = void 0, this.transformers = Jc();
  }
  /**
   * Copy a processor.
   *
   * @deprecated
   *   This is a private internal method and should not be used.
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *   New *unfrozen* processor ({@linkcode Processor}) that is
   *   configured to work the same as its ancestor.
   *   When the descendant processor is configured in the future it does not
   *   affect the ancestral processor.
   */
  copy() {
    const t3 = (
      /** @type {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>} */
      new _br()
    );
    let n4 = -1;
    for (; ++n4 < this.attachers.length; ) {
      const r4 = this.attachers[n4];
      t3.use(...r4);
    }
    return t3.data(wn2(true, {}, this.namespace)), t3;
  }
  /**
   * Configure the processor with info available to all plugins.
   * Information is stored in an object.
   *
   * Typically, options can be given to a specific plugin, but sometimes it
   * makes sense to have information shared with several plugins.
   * For example, a list of HTML elements that are self-closing, which is
   * needed during all phases.
   *
   * > **Note**: setting information cannot occur on *frozen* processors.
   * > Call the processor first to create a new unfrozen processor.
   *
   * > **Note**: to register custom data in TypeScript, augment the
   * > {@linkcode Data} interface.
   *
   * @example
   *   This example show how to get and set info:
   *
   *   ```js
   *   import {unified} from 'unified'
   *
   *   const processor = unified().data('alpha', 'bravo')
   *
   *   processor.data('alpha') // => 'bravo'
   *
   *   processor.data() // => {alpha: 'bravo'}
   *
   *   processor.data({charlie: 'delta'})
   *
   *   processor.data() // => {charlie: 'delta'}
   *   ```
   *
   * @template {keyof Data} Key
   *
   * @overload
   * @returns {Data}
   *
   * @overload
   * @param {Data} dataset
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @overload
   * @param {Key} key
   * @returns {Data[Key]}
   *
   * @overload
   * @param {Key} key
   * @param {Data[Key]} value
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @param {Data | Key} [key]
   *   Key to get or set, or entire dataset to set, or nothing to get the
   *   entire dataset (optional).
   * @param {Data[Key]} [value]
   *   Value to set (optional).
   * @returns {unknown}
   *   The current processor when setting, the value at `key` when getting, or
   *   the entire dataset when getting without key.
   */
  data(t3, n4) {
    return typeof t3 == "string" ? arguments.length === 2 ? (vn2("data", this.frozen), this.namespace[t3] = n4, this) : h0.call(this.namespace, t3) && this.namespace[t3] || void 0 : t3 ? (vn2("data", this.frozen), this.namespace = t3, this) : this.namespace;
  }
  /**
   * Freeze a processor.
   *
   * Frozen processors are meant to be extended and not to be configured
   * directly.
   *
   * When a processor is frozen it cannot be unfrozen.
   * New processors working the same way can be created by calling the
   * processor.
   *
   * Its possible to freeze processors explicitly by calling `.freeze()`.
   * Processors freeze automatically when `.parse()`, `.run()`, `.runSync()`,
   * `.stringify()`, `.process()`, or `.processSync()` are called.
   *
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *   The current processor.
   */
  freeze() {
    if (this.frozen)
      return this;
    const t3 = (
      /** @type {Processor} */
      /** @type {unknown} */
      this
    );
    for (; ++this.freezeIndex < this.attachers.length; ) {
      const [n4, ...r4] = this.attachers[this.freezeIndex];
      if (r4[0] === false)
        continue;
      r4[0] === true && (r4[0] = void 0);
      const u5 = n4.call(t3, ...r4);
      typeof u5 == "function" && this.transformers.use(u5);
    }
    return this.frozen = true, this.freezeIndex = Number.POSITIVE_INFINITY, this;
  }
  /**
   * Parse text to a syntax tree.
   *
   * > **Note**: `parse` freezes the processor if not already *frozen*.
   *
   * > **Note**: `parse` performs the parse phase, not the run phase or other
   * > phases.
   *
   * @param {Compatible | undefined} [file]
   *   file to parse (optional); typically `string` or `VFile`; any value
   *   accepted as `x` in `new VFile(x)`.
   * @returns {ParseTree extends undefined ? Node : ParseTree}
   *   Syntax tree representing `file`.
   */
  parse(t3) {
    this.freeze();
    const n4 = Kt2(t3), r4 = this.parser || this.Parser;
    return Hn2("parse", r4), r4(String(n4), n4);
  }
  /**
   * Process the given file as configured on the processor.
   *
   * > **Note**: `process` freezes the processor if not already *frozen*.
   *
   * > **Note**: `process` performs the parse, run, and stringify phases.
   *
   * @overload
   * @param {Compatible | undefined} file
   * @param {ProcessCallback<VFileWithOutput<CompileResult>>} done
   * @returns {undefined}
   *
   * @overload
   * @param {Compatible | undefined} [file]
   * @returns {Promise<VFileWithOutput<CompileResult>>}
   *
   * @param {Compatible | undefined} [file]
   *   File (optional); typically `string` or `VFile`]; any value accepted as
   *   `x` in `new VFile(x)`.
   * @param {ProcessCallback<VFileWithOutput<CompileResult>> | undefined} [done]
   *   Callback (optional).
   * @returns {Promise<VFile> | undefined}
   *   Nothing if `done` is given.
   *   Otherwise a promise, rejected with a fatal error or resolved with the
   *   processed file.
   *
   *   The parsed, transformed, and compiled value is available at
   *   `file.value` (see note).
   *
   *   > **Note**: unified typically compiles by serializing: most
   *   > compilers return `string` (or `Uint8Array`).
   *   > Some compilers, such as the one configured with
   *   > [`rehype-react`][rehype-react], return other values (in this case, a
   *   > React tree).
   *   > If youre using a compiler that doesnt serialize, expect different
   *   > result values.
   *   >
   *   > To register custom results in TypeScript, add them to
   *   > {@linkcode CompileResultMap}.
   *
   *   [rehype-react]: https://github.com/rehypejs/rehype-react
   */
  process(t3, n4) {
    const r4 = this;
    return this.freeze(), Hn2("process", this.parser || this.Parser), Un2("process", this.compiler || this.Compiler), n4 ? u5(void 0, n4) : new Promise(u5);
    function u5(a3, i5) {
      const o2 = Kt2(t3), l3 = (
        /** @type {HeadTree extends undefined ? Node : HeadTree} */
        /** @type {unknown} */
        r4.parse(o2)
      );
      r4.run(l3, o2, function(h3, f8, p3) {
        if (h3 || !f8 || !p3)
          return c6(h3);
        const d2 = (
          /** @type {CompileTree extends undefined ? Node : CompileTree} */
          /** @type {unknown} */
          f8
        ), A3 = r4.stringify(d2, p3);
        p0(A3) ? p3.value = A3 : p3.result = A3, c6(
          h3,
          /** @type {VFileWithOutput<CompileResult>} */
          p3
        );
      });
      function c6(h3, f8) {
        h3 || !f8 ? i5(h3) : a3 ? a3(f8) : n4(void 0, f8);
      }
    }
  }
  /**
   * Process the given file as configured on the processor.
   *
   * An error is thrown if asynchronous transforms are configured.
   *
   * > **Note**: `processSync` freezes the processor if not already *frozen*.
   *
   * > **Note**: `processSync` performs the parse, run, and stringify phases.
   *
   * @param {Compatible | undefined} [file]
   *   File (optional); typically `string` or `VFile`; any value accepted as
   *   `x` in `new VFile(x)`.
   * @returns {VFileWithOutput<CompileResult>}
   *   The processed file.
   *
   *   The parsed, transformed, and compiled value is available at
   *   `file.value` (see note).
   *
   *   > **Note**: unified typically compiles by serializing: most
   *   > compilers return `string` (or `Uint8Array`).
   *   > Some compilers, such as the one configured with
   *   > [`rehype-react`][rehype-react], return other values (in this case, a
   *   > React tree).
   *   > If youre using a compiler that doesnt serialize, expect different
   *   > result values.
   *   >
   *   > To register custom results in TypeScript, add them to
   *   > {@linkcode CompileResultMap}.
   *
   *   [rehype-react]: https://github.com/rehypejs/rehype-react
   */
  processSync(t3) {
    let n4 = false, r4;
    return this.freeze(), Hn2("processSync", this.parser || this.Parser), Un2("processSync", this.compiler || this.Compiler), this.process(t3, u5), pu2("processSync", "process", n4), r4;
    function u5(a3, i5) {
      n4 = true, fu2(a3), r4 = i5;
    }
  }
  /**
   * Run *transformers* on a syntax tree.
   *
   * > **Note**: `run` freezes the processor if not already *frozen*.
   *
   * > **Note**: `run` performs the run phase, not other phases.
   *
   * @overload
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done
   * @returns {undefined}
   *
   * @overload
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   * @param {Compatible | undefined} file
   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done
   * @returns {undefined}
   *
   * @overload
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   * @param {Compatible | undefined} [file]
   * @returns {Promise<TailTree extends undefined ? Node : TailTree>}
   *
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   *   Tree to transform and inspect.
   * @param {(
   *   RunCallback<TailTree extends undefined ? Node : TailTree> |
   *   Compatible
   * )} [file]
   *   File associated with `node` (optional); any value accepted as `x` in
   *   `new VFile(x)`.
   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} [done]
   *   Callback (optional).
   * @returns {Promise<TailTree extends undefined ? Node : TailTree> | undefined}
   *   Nothing if `done` is given.
   *   Otherwise, a promise rejected with a fatal error or resolved with the
   *   transformed tree.
   */
  run(t3, n4, r4) {
    mu2(t3), this.freeze();
    const u5 = this.transformers;
    return !r4 && typeof n4 == "function" && (r4 = n4, n4 = void 0), r4 ? a3(void 0, r4) : new Promise(a3);
    function a3(i5, o2) {
      const l3 = Kt2(n4);
      u5.run(t3, l3, c6);
      function c6(h3, f8, p3) {
        const d2 = (
          /** @type {TailTree extends undefined ? Node : TailTree} */
          f8 || t3
        );
        h3 ? o2(h3) : i5 ? i5(d2) : r4(void 0, d2, p3);
      }
    }
  }
  /**
   * Run *transformers* on a syntax tree.
   *
   * An error is thrown if asynchronous transforms are configured.
   *
   * > **Note**: `runSync` freezes the processor if not already *frozen*.
   *
   * > **Note**: `runSync` performs the run phase, not other phases.
   *
   * @param {HeadTree extends undefined ? Node : HeadTree} tree
   *   Tree to transform and inspect.
   * @param {Compatible | undefined} [file]
   *   File associated with `node` (optional); any value accepted as `x` in
   *   `new VFile(x)`.
   * @returns {TailTree extends undefined ? Node : TailTree}
   *   Transformed tree.
   */
  runSync(t3, n4) {
    let r4 = false, u5;
    return this.run(t3, n4, a3), pu2("runSync", "run", r4), u5;
    function a3(i5, o2) {
      fu2(i5), u5 = o2, r4 = true;
    }
  }
  /**
   * Compile a syntax tree.
   *
   * > **Note**: `stringify` freezes the processor if not already *frozen*.
   *
   * > **Note**: `stringify` performs the stringify phase, not the run phase
   * > or other phases.
   *
   * @param {CompileTree extends undefined ? Node : CompileTree} tree
   *   Tree to compile.
   * @param {Compatible | undefined} [file]
   *   File associated with `node` (optional); any value accepted as `x` in
   *   `new VFile(x)`.
   * @returns {CompileResult extends undefined ? Value : CompileResult}
   *   Textual representation of the tree (see note).
   *
   *   > **Note**: unified typically compiles by serializing: most compilers
   *   > return `string` (or `Uint8Array`).
   *   > Some compilers, such as the one configured with
   *   > [`rehype-react`][rehype-react], return other values (in this case, a
   *   > React tree).
   *   > If youre using a compiler that doesnt serialize, expect different
   *   > result values.
   *   >
   *   > To register custom results in TypeScript, add them to
   *   > {@linkcode CompileResultMap}.
   *
   *   [rehype-react]: https://github.com/rehypejs/rehype-react
   */
  stringify(t3, n4) {
    this.freeze();
    const r4 = Kt2(n4), u5 = this.compiler || this.Compiler;
    return Un2("stringify", u5), mu2(t3), u5(t3, r4);
  }
  /**
   * Configure the processor to use a plugin, a list of usable values, or a
   * preset.
   *
   * If the processor is already using a plugin, the previous plugin
   * configuration is changed based on the options that are passed in.
   * In other words, the plugin is not added a second time.
   *
   * > **Note**: `use` cannot be called on *frozen* processors.
   * > Call the processor first to create a new unfrozen processor.
   *
   * @example
   *   There are many ways to pass plugins to `.use()`.
   *   This example gives an overview:
   *
   *   ```js
   *   import {unified} from 'unified'
   *
   *   unified()
   *     // Plugin with options:
   *     .use(pluginA, {x: true, y: true})
   *     // Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):
   *     .use(pluginA, {y: false, z: true})
   *     // Plugins:
   *     .use([pluginB, pluginC])
   *     // Two plugins, the second with options:
   *     .use([pluginD, [pluginE, {}]])
   *     // Preset with plugins and settings:
   *     .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})
   *     // Settings only:
   *     .use({settings: {position: false}})
   *   ```
   *
   * @template {Array<unknown>} [Parameters=[]]
   * @template {Node | string | undefined} [Input=undefined]
   * @template [Output=Input]
   *
   * @overload
   * @param {Preset | null | undefined} [preset]
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @overload
   * @param {PluggableList} list
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *
   * @overload
   * @param {Plugin<Parameters, Input, Output>} plugin
   * @param {...(Parameters | [boolean])} parameters
   * @returns {UsePlugin<ParseTree, HeadTree, TailTree, CompileTree, CompileResult, Input, Output>}
   *
   * @param {PluggableList | Plugin | Preset | null | undefined} value
   *   Usable value.
   * @param {...unknown} parameters
   *   Parameters, when a plugin is given as a usable value.
   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}
   *   Current processor.
   */
  use(t3, ...n4) {
    const r4 = this.attachers, u5 = this.namespace;
    if (vn2("use", this.frozen), t3 != null) if (typeof t3 == "function")
      l3(t3, n4);
    else if (typeof t3 == "object")
      Array.isArray(t3) ? o2(t3) : i5(t3);
    else
      throw new TypeError("Expected usable value, not `" + t3 + "`");
    return this;
    function a3(c6) {
      if (typeof c6 == "function")
        l3(c6, []);
      else if (typeof c6 == "object")
        if (Array.isArray(c6)) {
          const [h3, ...f8] = (
            /** @type {PluginTuple<Array<unknown>>} */
            c6
          );
          l3(h3, f8);
        } else
          i5(c6);
      else
        throw new TypeError("Expected usable value, not `" + c6 + "`");
    }
    function i5(c6) {
      if (!("plugins" in c6) && !("settings" in c6))
        throw new Error(
          "Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither"
        );
      o2(c6.plugins), c6.settings && (u5.settings = wn2(true, u5.settings, c6.settings));
    }
    function o2(c6) {
      let h3 = -1;
      if (c6 != null) if (Array.isArray(c6))
        for (; ++h3 < c6.length; ) {
          const f8 = c6[h3];
          a3(f8);
        }
      else
        throw new TypeError("Expected a list of plugins, not `" + c6 + "`");
    }
    function l3(c6, h3) {
      let f8 = -1, p3 = -1;
      for (; ++f8 < r4.length; )
        if (r4[f8][0] === c6) {
          p3 = f8;
          break;
        }
      if (p3 === -1)
        r4.push([c6, ...h3]);
      else if (h3.length > 0) {
        let [d2, ...A3] = h3;
        const I4 = r4[p3][1];
        Jn2(I4) && Jn2(d2) && (d2 = wn2(true, I4, d2)), r4[p3] = [c6, d2, ...A3];
      }
    }
  }
};
var d0 = new br2().freeze();
function Hn2(e, t3) {
  if (typeof t3 != "function")
    throw new TypeError("Cannot `" + e + "` without `parser`");
}
function Un2(e, t3) {
  if (typeof t3 != "function")
    throw new TypeError("Cannot `" + e + "` without `compiler`");
}
function vn2(e, t3) {
  if (t3)
    throw new Error(
      "Cannot call `" + e + "` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`."
    );
}
function mu2(e) {
  if (!Jn2(e) || typeof e.type != "string")
    throw new TypeError("Expected node, got `" + e + "`");
}
function pu2(e, t3, n4) {
  if (!n4)
    throw new Error(
      "`" + e + "` finished async. Use `" + t3 + "` instead"
    );
}
function Kt2(e) {
  return m0(e) ? e : new Ri2(e);
}
function m0(e) {
  return !!(e && typeof e == "object" && "message" in e && "messages" in e);
}
function p0(e) {
  return typeof e == "string" || E0(e);
}
function E0(e) {
  return !!(e && typeof e == "object" && "byteLength" in e && "byteOffset" in e);
}
var T0 = "https://github.com/remarkjs/react-markdown/blob/main/changelog.md";
var Eu2 = [];
var Tu2 = { allowDangerousHtml: true };
var g0 = /^(https?|ircs?|mailto|xmpp)$/i;
var b0 = [
  { from: "astPlugins", id: "remove-buggy-html-in-markdown-parser" },
  { from: "allowDangerousHtml", id: "remove-buggy-html-in-markdown-parser" },
  {
    from: "allowNode",
    id: "replace-allownode-allowedtypes-and-disallowedtypes",
    to: "allowElement"
  },
  {
    from: "allowedTypes",
    id: "replace-allownode-allowedtypes-and-disallowedtypes",
    to: "allowedElements"
  },
  { from: "className", id: "remove-classname" },
  {
    from: "disallowedTypes",
    id: "replace-allownode-allowedtypes-and-disallowedtypes",
    to: "disallowedElements"
  },
  { from: "escapeHtml", id: "remove-buggy-html-in-markdown-parser" },
  { from: "includeElementIndex", id: "#remove-includeelementindex" },
  {
    from: "includeNodeIndex",
    id: "change-includenodeindex-to-includeelementindex"
  },
  { from: "linkTarget", id: "remove-linktarget" },
  { from: "plugins", id: "change-plugins-to-remarkplugins", to: "remarkPlugins" },
  { from: "rawSourcePos", id: "#remove-rawsourcepos" },
  { from: "renderers", id: "change-renderers-to-components", to: "components" },
  { from: "source", id: "change-source-to-children", to: "children" },
  { from: "sourcePos", id: "#remove-sourcepos" },
  { from: "transformImageUri", id: "#add-urltransform", to: "urlTransform" },
  { from: "transformLinkUri", id: "#add-urltransform", to: "urlTransform" }
];
function A0(e) {
  const t3 = _0(e), [n4, r4] = (0, import_react6.useState)(
    /** @type {Error | undefined} */
    void 0
  ), [u5, a3] = (0, import_react6.useState)(
    /** @type {Root | undefined} */
    void 0
  );
  if ((0, import_react6.useEffect)(
    function() {
      let i5 = false;
      const o2 = C0(e);
      return t3.run(t3.parse(o2), o2, function(l3, c6) {
        i5 || (r4(l3), a3(c6));
      }), function() {
        i5 = true;
      };
    },
    [
      e.children,
      e.rehypePlugins,
      e.remarkPlugins,
      e.remarkRehypeOptions
    ]
  ), n4) throw n4;
  return u5 ? I0(u5, e) : e.fallback;
}
function _0(e) {
  const t3 = e.rehypePlugins || Eu2, n4 = e.remarkPlugins || Eu2, r4 = e.remarkRehypeOptions ? { ...e.remarkRehypeOptions, ...Tu2 } : Tu2;
  return d0().use(lc2).use(n4).use(Xc, r4).use(t3);
}
function C0(e) {
  const t3 = e.children || "", n4 = new Ri2();
  return typeof t3 == "string" && (n4.value = t3), n4;
}
function I0(e, t3) {
  const n4 = t3.allowedElements, r4 = t3.allowElement, u5 = t3.components, a3 = t3.disallowedElements, i5 = t3.skipHtml, o2 = t3.unwrapDisallowed, l3 = t3.urlTransform || x0;
  for (const h3 of b0)
    Object.hasOwn(t3, h3.from) && eh(
      "Unexpected `" + h3.from + "` prop, " + (h3.to ? "use `" + h3.to + "` instead" : "remove it") + " (see <" + T0 + "#" + h3.id + "> for more info)"
    );
  return Vr(e, c6), Ds(e, {
    Fragment: ae.Fragment,
    components: u5,
    ignoreInvalidStyle: true,
    jsx: ae.jsx,
    jsxs: ae.jsxs,
    passKeys: true,
    passNode: true
  });
  function c6(h3, f8, p3) {
    if (h3.type === "raw" && p3 && typeof f8 == "number")
      return i5 ? p3.children.splice(f8, 1) : p3.children[f8] = { type: "text", value: h3.value }, f8;
    if (h3.type === "element") {
      let d2;
      for (d2 in Ln2)
        if (Object.hasOwn(Ln2, d2) && Object.hasOwn(h3.properties, d2)) {
          const A3 = h3.properties[d2], I4 = Ln2[d2];
          (I4 === null || I4.includes(h3.tagName)) && (h3.properties[d2] = l3(String(A3 || ""), d2, h3));
        }
    }
    if (h3.type === "element") {
      let d2 = n4 ? !n4.includes(h3.tagName) : a3 ? a3.includes(h3.tagName) : false;
      if (!d2 && r4 && typeof f8 == "number" && (d2 = !r4(h3, f8, p3)), d2 && p3 && typeof f8 == "number")
        return o2 && h3.children ? p3.children.splice(f8, 1, ...h3.children) : p3.children.splice(f8, 1), f8;
    }
  }
}
function x0(e) {
  const t3 = e.indexOf(":"), n4 = e.indexOf("?"), r4 = e.indexOf("#"), u5 = e.indexOf("/");
  return (
    // If there is no protocol, its relative.
    t3 === -1 || // If the first colon is after a `?`, `#`, or `/`, its not a protocol.
    u5 !== -1 && t3 > u5 || n4 !== -1 && t3 > n4 || r4 !== -1 && t3 > r4 || // It is a protocol, it should be allowed.
    g0.test(e.slice(0, t3)) ? e : ""
  );
}
var Di2 = -1;
var Cn2 = 0;
var fn2 = 1;
var hn2 = 2;
var Ar2 = 3;
var _r2 = 4;
var Cr2 = 5;
var Ir2 = 6;
var Pi2 = 7;
var wi2 = 8;
var gu2 = typeof self == "object" ? self : globalThis;
var N0 = (e, t3) => {
  const n4 = (u5, a3) => (e.set(a3, u5), u5), r4 = (u5) => {
    if (e.has(u5))
      return e.get(u5);
    const [a3, i5] = t3[u5];
    switch (a3) {
      case Cn2:
      case Di2:
        return n4(i5, u5);
      case fn2: {
        const o2 = n4([], u5);
        for (const l3 of i5)
          o2.push(r4(l3));
        return o2;
      }
      case hn2: {
        const o2 = n4({}, u5);
        for (const [l3, c6] of i5)
          o2[r4(l3)] = r4(c6);
        return o2;
      }
      case Ar2:
        return n4(new Date(i5), u5);
      case _r2: {
        const { source: o2, flags: l3 } = i5;
        return n4(new RegExp(o2, l3), u5);
      }
      case Cr2: {
        const o2 = n4(/* @__PURE__ */ new Map(), u5);
        for (const [l3, c6] of i5)
          o2.set(r4(l3), r4(c6));
        return o2;
      }
      case Ir2: {
        const o2 = n4(/* @__PURE__ */ new Set(), u5);
        for (const l3 of i5)
          o2.add(r4(l3));
        return o2;
      }
      case Pi2: {
        const { name: o2, message: l3 } = i5;
        return n4(new gu2[o2](l3), u5);
      }
      case wi2:
        return n4(BigInt(i5), u5);
      case "BigInt":
        return n4(Object(BigInt(i5)), u5);
    }
    return n4(new gu2[a3](i5), u5);
  };
  return r4;
};
var bu2 = (e) => N0(/* @__PURE__ */ new Map(), e)(0);
var ot2 = "";
var { toString: S0 } = {};
var { keys: k0 } = Object;
var St3 = (e) => {
  const t3 = typeof e;
  if (t3 !== "object" || !e)
    return [Cn2, t3];
  const n4 = S0.call(e).slice(8, -1);
  switch (n4) {
    case "Array":
      return [fn2, ot2];
    case "Object":
      return [hn2, ot2];
    case "Date":
      return [Ar2, ot2];
    case "RegExp":
      return [_r2, ot2];
    case "Map":
      return [Cr2, ot2];
    case "Set":
      return [Ir2, ot2];
  }
  return n4.includes("Array") ? [fn2, n4] : n4.includes("Error") ? [Pi2, n4] : [hn2, n4];
};
var $t2 = ([e, t3]) => e === Cn2 && (t3 === "function" || t3 === "symbol");
var O0 = (e, t3, n4, r4) => {
  const u5 = (i5, o2) => {
    const l3 = r4.push(i5) - 1;
    return n4.set(o2, l3), l3;
  }, a3 = (i5) => {
    if (n4.has(i5))
      return n4.get(i5);
    let [o2, l3] = St3(i5);
    switch (o2) {
      case Cn2: {
        let h3 = i5;
        switch (l3) {
          case "bigint":
            o2 = wi2, h3 = i5.toString();
            break;
          case "function":
          case "symbol":
            if (e)
              throw new TypeError("unable to serialize " + l3);
            h3 = null;
            break;
          case "undefined":
            return u5([Di2], i5);
        }
        return u5([o2, h3], i5);
      }
      case fn2: {
        if (l3)
          return u5([l3, [...i5]], i5);
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const p3 of i5)
          h3.push(a3(p3));
        return f8;
      }
      case hn2: {
        if (l3)
          switch (l3) {
            case "BigInt":
              return u5([l3, i5.toString()], i5);
            case "Boolean":
            case "Number":
            case "String":
              return u5([l3, i5.valueOf()], i5);
          }
        if (t3 && "toJSON" in i5)
          return a3(i5.toJSON());
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const p3 of k0(i5))
          (e || !$t2(St3(i5[p3]))) && h3.push([a3(p3), a3(i5[p3])]);
        return f8;
      }
      case Ar2:
        return u5([o2, i5.toISOString()], i5);
      case _r2: {
        const { source: h3, flags: f8 } = i5;
        return u5([o2, { source: h3, flags: f8 }], i5);
      }
      case Cr2: {
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const [p3, d2] of i5)
          (e || !($t2(St3(p3)) || $t2(St3(d2)))) && h3.push([a3(p3), a3(d2)]);
        return f8;
      }
      case Ir2: {
        const h3 = [], f8 = u5([o2, h3], i5);
        for (const p3 of i5)
          (e || !$t2(St3(p3))) && h3.push(a3(p3));
        return f8;
      }
    }
    const { message: c6 } = i5;
    return u5([o2, { name: l3, message: c6 }], i5);
  };
  return a3;
};
var Au2 = (e, { json: t3, lossy: n4 } = {}) => {
  const r4 = [];
  return O0(!(t3 || n4), !!t3, /* @__PURE__ */ new Map(), r4)(e), r4;
};
var _u2 = typeof structuredClone == "function" ? (
  /* c8 ignore start */
  ((e, t3) => t3 && ("json" in t3 || "lossy" in t3) ? bu2(Au2(e, t3)) : structuredClone(e))
) : (e, t3) => bu2(Au2(e, t3));
var qt2 = class {
  /**
   * @constructor
   * @param {Properties} property
   * @param {Normal} normal
   * @param {string} [space]
   */
  constructor(t3, n4, r4) {
    this.property = t3, this.normal = n4, r4 && (this.space = r4);
  }
};
qt2.prototype.property = {};
qt2.prototype.normal = {};
qt2.prototype.space = null;
function Mi2(e, t3) {
  const n4 = {}, r4 = {};
  let u5 = -1;
  for (; ++u5 < e.length; )
    Object.assign(n4, e[u5].property), Object.assign(r4, e[u5].normal);
  return new qt2(n4, r4, t3);
}
function Ut3(e) {
  return e.toLowerCase();
}
var Ae2 = class {
  /**
   * @constructor
   * @param {string} property
   * @param {string} attribute
   */
  constructor(t3, n4) {
    this.property = t3, this.attribute = n4;
  }
};
Ae2.prototype.space = null;
Ae2.prototype.boolean = false;
Ae2.prototype.booleanish = false;
Ae2.prototype.overloadedBoolean = false;
Ae2.prototype.number = false;
Ae2.prototype.commaSeparated = false;
Ae2.prototype.spaceSeparated = false;
Ae2.prototype.commaOrSpaceSeparated = false;
Ae2.prototype.mustUseProperty = false;
Ae2.prototype.defined = false;
var y0 = 0;
var v3 = nt2();
var ue3 = nt2();
var Bi2 = nt2();
var P2 = nt2();
var Z2 = nt2();
var ht3 = nt2();
var Te = nt2();
function nt2() {
  return 2 ** ++y0;
}
var er2 = Object.freeze(Object.defineProperty({
  __proto__: null,
  boolean: v3,
  booleanish: ue3,
  commaOrSpaceSeparated: Te,
  commaSeparated: ht3,
  number: P2,
  overloadedBoolean: Bi2,
  spaceSeparated: Z2
}, Symbol.toStringTag, { value: "Module" }));
var zn2 = Object.keys(er2);
var xr2 = class extends Ae2 {
  /**
   * @constructor
   * @param {string} property
   * @param {string} attribute
   * @param {number|null} [mask]
   * @param {string} [space]
   */
  constructor(t3, n4, r4, u5) {
    let a3 = -1;
    if (super(t3, n4), Cu2(this, "space", u5), typeof r4 == "number")
      for (; ++a3 < zn2.length; ) {
        const i5 = zn2[a3];
        Cu2(this, zn2[a3], (r4 & er2[i5]) === er2[i5]);
      }
  }
};
xr2.prototype.defined = true;
function Cu2(e, t3, n4) {
  n4 && (e[t3] = n4);
}
var L0 = {}.hasOwnProperty;
function gt2(e) {
  const t3 = {}, n4 = {};
  let r4;
  for (r4 in e.properties)
    if (L0.call(e.properties, r4)) {
      const u5 = e.properties[r4], a3 = new xr2(
        r4,
        e.transform(e.attributes || {}, r4),
        u5,
        e.space
      );
      e.mustUseProperty && e.mustUseProperty.includes(r4) && (a3.mustUseProperty = true), t3[r4] = a3, n4[Ut3(r4)] = r4, n4[Ut3(a3.attribute)] = r4;
    }
  return new qt2(t3, n4, e.space);
}
var Fi2 = gt2({
  space: "xlink",
  transform(e, t3) {
    return "xlink:" + t3.slice(5).toLowerCase();
  },
  properties: {
    xLinkActuate: null,
    xLinkArcRole: null,
    xLinkHref: null,
    xLinkRole: null,
    xLinkShow: null,
    xLinkTitle: null,
    xLinkType: null
  }
});
var Hi2 = gt2({
  space: "xml",
  transform(e, t3) {
    return "xml:" + t3.slice(3).toLowerCase();
  },
  properties: { xmlLang: null, xmlBase: null, xmlSpace: null }
});
function Ui2(e, t3) {
  return t3 in e ? e[t3] : t3;
}
function vi2(e, t3) {
  return Ui2(e, t3.toLowerCase());
}
var zi2 = gt2({
  space: "xmlns",
  attributes: { xmlnsxlink: "xmlns:xlink" },
  transform: vi2,
  properties: { xmlns: null, xmlnsXLink: null }
});
var Yi2 = gt2({
  transform(e, t3) {
    return t3 === "role" ? t3 : "aria-" + t3.slice(4).toLowerCase();
  },
  properties: {
    ariaActiveDescendant: null,
    ariaAtomic: ue3,
    ariaAutoComplete: null,
    ariaBusy: ue3,
    ariaChecked: ue3,
    ariaColCount: P2,
    ariaColIndex: P2,
    ariaColSpan: P2,
    ariaControls: Z2,
    ariaCurrent: null,
    ariaDescribedBy: Z2,
    ariaDetails: null,
    ariaDisabled: ue3,
    ariaDropEffect: Z2,
    ariaErrorMessage: null,
    ariaExpanded: ue3,
    ariaFlowTo: Z2,
    ariaGrabbed: ue3,
    ariaHasPopup: null,
    ariaHidden: ue3,
    ariaInvalid: null,
    ariaKeyShortcuts: null,
    ariaLabel: null,
    ariaLabelledBy: Z2,
    ariaLevel: P2,
    ariaLive: null,
    ariaModal: ue3,
    ariaMultiLine: ue3,
    ariaMultiSelectable: ue3,
    ariaOrientation: null,
    ariaOwns: Z2,
    ariaPlaceholder: null,
    ariaPosInSet: P2,
    ariaPressed: ue3,
    ariaReadOnly: ue3,
    ariaRelevant: null,
    ariaRequired: ue3,
    ariaRoleDescription: Z2,
    ariaRowCount: P2,
    ariaRowIndex: P2,
    ariaRowSpan: P2,
    ariaSelected: ue3,
    ariaSetSize: P2,
    ariaSort: null,
    ariaValueMax: P2,
    ariaValueMin: P2,
    ariaValueNow: P2,
    ariaValueText: null,
    role: null
  }
});
var R0 = gt2({
  space: "html",
  attributes: {
    acceptcharset: "accept-charset",
    classname: "class",
    htmlfor: "for",
    httpequiv: "http-equiv"
  },
  transform: vi2,
  mustUseProperty: ["checked", "multiple", "muted", "selected"],
  properties: {
    // Standard Properties.
    abbr: null,
    accept: ht3,
    acceptCharset: Z2,
    accessKey: Z2,
    action: null,
    allow: null,
    allowFullScreen: v3,
    allowPaymentRequest: v3,
    allowUserMedia: v3,
    alt: null,
    as: null,
    async: v3,
    autoCapitalize: null,
    autoComplete: Z2,
    autoFocus: v3,
    autoPlay: v3,
    blocking: Z2,
    capture: null,
    charSet: null,
    checked: v3,
    cite: null,
    className: Z2,
    cols: P2,
    colSpan: null,
    content: null,
    contentEditable: ue3,
    controls: v3,
    controlsList: Z2,
    coords: P2 | ht3,
    crossOrigin: null,
    data: null,
    dateTime: null,
    decoding: null,
    default: v3,
    defer: v3,
    dir: null,
    dirName: null,
    disabled: v3,
    download: Bi2,
    draggable: ue3,
    encType: null,
    enterKeyHint: null,
    fetchPriority: null,
    form: null,
    formAction: null,
    formEncType: null,
    formMethod: null,
    formNoValidate: v3,
    formTarget: null,
    headers: Z2,
    height: P2,
    hidden: v3,
    high: P2,
    href: null,
    hrefLang: null,
    htmlFor: Z2,
    httpEquiv: Z2,
    id: null,
    imageSizes: null,
    imageSrcSet: null,
    inert: v3,
    inputMode: null,
    integrity: null,
    is: null,
    isMap: v3,
    itemId: null,
    itemProp: Z2,
    itemRef: Z2,
    itemScope: v3,
    itemType: Z2,
    kind: null,
    label: null,
    lang: null,
    language: null,
    list: null,
    loading: null,
    loop: v3,
    low: P2,
    manifest: null,
    max: null,
    maxLength: P2,
    media: null,
    method: null,
    min: null,
    minLength: P2,
    multiple: v3,
    muted: v3,
    name: null,
    nonce: null,
    noModule: v3,
    noValidate: v3,
    onAbort: null,
    onAfterPrint: null,
    onAuxClick: null,
    onBeforeMatch: null,
    onBeforePrint: null,
    onBeforeToggle: null,
    onBeforeUnload: null,
    onBlur: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onContextLost: null,
    onContextMenu: null,
    onContextRestored: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFormData: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLanguageChange: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadEnd: null,
    onLoadStart: null,
    onMessage: null,
    onMessageError: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRejectionHandled: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onScrollEnd: null,
    onSecurityPolicyViolation: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onSlotChange: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnhandledRejection: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onWheel: null,
    open: v3,
    optimum: P2,
    pattern: null,
    ping: Z2,
    placeholder: null,
    playsInline: v3,
    popover: null,
    popoverTarget: null,
    popoverTargetAction: null,
    poster: null,
    preload: null,
    readOnly: v3,
    referrerPolicy: null,
    rel: Z2,
    required: v3,
    reversed: v3,
    rows: P2,
    rowSpan: P2,
    sandbox: Z2,
    scope: null,
    scoped: v3,
    seamless: v3,
    selected: v3,
    shadowRootClonable: v3,
    shadowRootDelegatesFocus: v3,
    shadowRootMode: null,
    shape: null,
    size: P2,
    sizes: null,
    slot: null,
    span: P2,
    spellCheck: ue3,
    src: null,
    srcDoc: null,
    srcLang: null,
    srcSet: null,
    start: P2,
    step: null,
    style: null,
    tabIndex: P2,
    target: null,
    title: null,
    translate: null,
    type: null,
    typeMustMatch: v3,
    useMap: null,
    value: ue3,
    width: P2,
    wrap: null,
    writingSuggestions: null,
    // Legacy.
    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis
    align: null,
    // Several. Use CSS `text-align` instead,
    aLink: null,
    // `<body>`. Use CSS `a:active {color}` instead
    archive: Z2,
    // `<object>`. List of URIs to archives
    axis: null,
    // `<td>` and `<th>`. Use `scope` on `<th>`
    background: null,
    // `<body>`. Use CSS `background-image` instead
    bgColor: null,
    // `<body>` and table elements. Use CSS `background-color` instead
    border: P2,
    // `<table>`. Use CSS `border-width` instead,
    borderColor: null,
    // `<table>`. Use CSS `border-color` instead,
    bottomMargin: P2,
    // `<body>`
    cellPadding: null,
    // `<table>`
    cellSpacing: null,
    // `<table>`
    char: null,
    // Several table elements. When `align=char`, sets the character to align on
    charOff: null,
    // Several table elements. When `char`, offsets the alignment
    classId: null,
    // `<object>`
    clear: null,
    // `<br>`. Use CSS `clear` instead
    code: null,
    // `<object>`
    codeBase: null,
    // `<object>`
    codeType: null,
    // `<object>`
    color: null,
    // `<font>` and `<hr>`. Use CSS instead
    compact: v3,
    // Lists. Use CSS to reduce space between items instead
    declare: v3,
    // `<object>`
    event: null,
    // `<script>`
    face: null,
    // `<font>`. Use CSS instead
    frame: null,
    // `<table>`
    frameBorder: null,
    // `<iframe>`. Use CSS `border` instead
    hSpace: P2,
    // `<img>` and `<object>`
    leftMargin: P2,
    // `<body>`
    link: null,
    // `<body>`. Use CSS `a:link {color: *}` instead
    longDesc: null,
    // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`
    lowSrc: null,
    // `<img>`. Use a `<picture>`
    marginHeight: P2,
    // `<body>`
    marginWidth: P2,
    // `<body>`
    noResize: v3,
    // `<frame>`
    noHref: v3,
    // `<area>`. Use no href instead of an explicit `nohref`
    noShade: v3,
    // `<hr>`. Use background-color and height instead of borders
    noWrap: v3,
    // `<td>` and `<th>`
    object: null,
    // `<applet>`
    profile: null,
    // `<head>`
    prompt: null,
    // `<isindex>`
    rev: null,
    // `<link>`
    rightMargin: P2,
    // `<body>`
    rules: null,
    // `<table>`
    scheme: null,
    // `<meta>`
    scrolling: ue3,
    // `<frame>`. Use overflow in the child context
    standby: null,
    // `<object>`
    summary: null,
    // `<table>`
    text: null,
    // `<body>`. Use CSS `color` instead
    topMargin: P2,
    // `<body>`
    valueType: null,
    // `<param>`
    version: null,
    // `<html>`. Use a doctype.
    vAlign: null,
    // Several. Use CSS `vertical-align` instead
    vLink: null,
    // `<body>`. Use CSS `a:visited {color}` instead
    vSpace: P2,
    // `<img>` and `<object>`
    // Non-standard Properties.
    allowTransparency: null,
    autoCorrect: null,
    autoSave: null,
    disablePictureInPicture: v3,
    disableRemotePlayback: v3,
    prefix: null,
    property: null,
    results: P2,
    security: null,
    unselectable: null
  }
});
var D0 = gt2({
  space: "svg",
  attributes: {
    accentHeight: "accent-height",
    alignmentBaseline: "alignment-baseline",
    arabicForm: "arabic-form",
    baselineShift: "baseline-shift",
    capHeight: "cap-height",
    className: "class",
    clipPath: "clip-path",
    clipRule: "clip-rule",
    colorInterpolation: "color-interpolation",
    colorInterpolationFilters: "color-interpolation-filters",
    colorProfile: "color-profile",
    colorRendering: "color-rendering",
    crossOrigin: "crossorigin",
    dataType: "datatype",
    dominantBaseline: "dominant-baseline",
    enableBackground: "enable-background",
    fillOpacity: "fill-opacity",
    fillRule: "fill-rule",
    floodColor: "flood-color",
    floodOpacity: "flood-opacity",
    fontFamily: "font-family",
    fontSize: "font-size",
    fontSizeAdjust: "font-size-adjust",
    fontStretch: "font-stretch",
    fontStyle: "font-style",
    fontVariant: "font-variant",
    fontWeight: "font-weight",
    glyphName: "glyph-name",
    glyphOrientationHorizontal: "glyph-orientation-horizontal",
    glyphOrientationVertical: "glyph-orientation-vertical",
    hrefLang: "hreflang",
    horizAdvX: "horiz-adv-x",
    horizOriginX: "horiz-origin-x",
    horizOriginY: "horiz-origin-y",
    imageRendering: "image-rendering",
    letterSpacing: "letter-spacing",
    lightingColor: "lighting-color",
    markerEnd: "marker-end",
    markerMid: "marker-mid",
    markerStart: "marker-start",
    navDown: "nav-down",
    navDownLeft: "nav-down-left",
    navDownRight: "nav-down-right",
    navLeft: "nav-left",
    navNext: "nav-next",
    navPrev: "nav-prev",
    navRight: "nav-right",
    navUp: "nav-up",
    navUpLeft: "nav-up-left",
    navUpRight: "nav-up-right",
    onAbort: "onabort",
    onActivate: "onactivate",
    onAfterPrint: "onafterprint",
    onBeforePrint: "onbeforeprint",
    onBegin: "onbegin",
    onCancel: "oncancel",
    onCanPlay: "oncanplay",
    onCanPlayThrough: "oncanplaythrough",
    onChange: "onchange",
    onClick: "onclick",
    onClose: "onclose",
    onCopy: "oncopy",
    onCueChange: "oncuechange",
    onCut: "oncut",
    onDblClick: "ondblclick",
    onDrag: "ondrag",
    onDragEnd: "ondragend",
    onDragEnter: "ondragenter",
    onDragExit: "ondragexit",
    onDragLeave: "ondragleave",
    onDragOver: "ondragover",
    onDragStart: "ondragstart",
    onDrop: "ondrop",
    onDurationChange: "ondurationchange",
    onEmptied: "onemptied",
    onEnd: "onend",
    onEnded: "onended",
    onError: "onerror",
    onFocus: "onfocus",
    onFocusIn: "onfocusin",
    onFocusOut: "onfocusout",
    onHashChange: "onhashchange",
    onInput: "oninput",
    onInvalid: "oninvalid",
    onKeyDown: "onkeydown",
    onKeyPress: "onkeypress",
    onKeyUp: "onkeyup",
    onLoad: "onload",
    onLoadedData: "onloadeddata",
    onLoadedMetadata: "onloadedmetadata",
    onLoadStart: "onloadstart",
    onMessage: "onmessage",
    onMouseDown: "onmousedown",
    onMouseEnter: "onmouseenter",
    onMouseLeave: "onmouseleave",
    onMouseMove: "onmousemove",
    onMouseOut: "onmouseout",
    onMouseOver: "onmouseover",
    onMouseUp: "onmouseup",
    onMouseWheel: "onmousewheel",
    onOffline: "onoffline",
    onOnline: "ononline",
    onPageHide: "onpagehide",
    onPageShow: "onpageshow",
    onPaste: "onpaste",
    onPause: "onpause",
    onPlay: "onplay",
    onPlaying: "onplaying",
    onPopState: "onpopstate",
    onProgress: "onprogress",
    onRateChange: "onratechange",
    onRepeat: "onrepeat",
    onReset: "onreset",
    onResize: "onresize",
    onScroll: "onscroll",
    onSeeked: "onseeked",
    onSeeking: "onseeking",
    onSelect: "onselect",
    onShow: "onshow",
    onStalled: "onstalled",
    onStorage: "onstorage",
    onSubmit: "onsubmit",
    onSuspend: "onsuspend",
    onTimeUpdate: "ontimeupdate",
    onToggle: "ontoggle",
    onUnload: "onunload",
    onVolumeChange: "onvolumechange",
    onWaiting: "onwaiting",
    onZoom: "onzoom",
    overlinePosition: "overline-position",
    overlineThickness: "overline-thickness",
    paintOrder: "paint-order",
    panose1: "panose-1",
    pointerEvents: "pointer-events",
    referrerPolicy: "referrerpolicy",
    renderingIntent: "rendering-intent",
    shapeRendering: "shape-rendering",
    stopColor: "stop-color",
    stopOpacity: "stop-opacity",
    strikethroughPosition: "strikethrough-position",
    strikethroughThickness: "strikethrough-thickness",
    strokeDashArray: "stroke-dasharray",
    strokeDashOffset: "stroke-dashoffset",
    strokeLineCap: "stroke-linecap",
    strokeLineJoin: "stroke-linejoin",
    strokeMiterLimit: "stroke-miterlimit",
    strokeOpacity: "stroke-opacity",
    strokeWidth: "stroke-width",
    tabIndex: "tabindex",
    textAnchor: "text-anchor",
    textDecoration: "text-decoration",
    textRendering: "text-rendering",
    transformOrigin: "transform-origin",
    typeOf: "typeof",
    underlinePosition: "underline-position",
    underlineThickness: "underline-thickness",
    unicodeBidi: "unicode-bidi",
    unicodeRange: "unicode-range",
    unitsPerEm: "units-per-em",
    vAlphabetic: "v-alphabetic",
    vHanging: "v-hanging",
    vIdeographic: "v-ideographic",
    vMathematical: "v-mathematical",
    vectorEffect: "vector-effect",
    vertAdvY: "vert-adv-y",
    vertOriginX: "vert-origin-x",
    vertOriginY: "vert-origin-y",
    wordSpacing: "word-spacing",
    writingMode: "writing-mode",
    xHeight: "x-height",
    // These were camelcased in Tiny. Now lowercased in SVG 2
    playbackOrder: "playbackorder",
    timelineBegin: "timelinebegin"
  },
  transform: Ui2,
  properties: {
    about: Te,
    accentHeight: P2,
    accumulate: null,
    additive: null,
    alignmentBaseline: null,
    alphabetic: P2,
    amplitude: P2,
    arabicForm: null,
    ascent: P2,
    attributeName: null,
    attributeType: null,
    azimuth: P2,
    bandwidth: null,
    baselineShift: null,
    baseFrequency: null,
    baseProfile: null,
    bbox: null,
    begin: null,
    bias: P2,
    by: null,
    calcMode: null,
    capHeight: P2,
    className: Z2,
    clip: null,
    clipPath: null,
    clipPathUnits: null,
    clipRule: null,
    color: null,
    colorInterpolation: null,
    colorInterpolationFilters: null,
    colorProfile: null,
    colorRendering: null,
    content: null,
    contentScriptType: null,
    contentStyleType: null,
    crossOrigin: null,
    cursor: null,
    cx: null,
    cy: null,
    d: null,
    dataType: null,
    defaultAction: null,
    descent: P2,
    diffuseConstant: P2,
    direction: null,
    display: null,
    dur: null,
    divisor: P2,
    dominantBaseline: null,
    download: v3,
    dx: null,
    dy: null,
    edgeMode: null,
    editable: null,
    elevation: P2,
    enableBackground: null,
    end: null,
    event: null,
    exponent: P2,
    externalResourcesRequired: null,
    fill: null,
    fillOpacity: P2,
    fillRule: null,
    filter: null,
    filterRes: null,
    filterUnits: null,
    floodColor: null,
    floodOpacity: null,
    focusable: null,
    focusHighlight: null,
    fontFamily: null,
    fontSize: null,
    fontSizeAdjust: null,
    fontStretch: null,
    fontStyle: null,
    fontVariant: null,
    fontWeight: null,
    format: null,
    fr: null,
    from: null,
    fx: null,
    fy: null,
    g1: ht3,
    g2: ht3,
    glyphName: ht3,
    glyphOrientationHorizontal: null,
    glyphOrientationVertical: null,
    glyphRef: null,
    gradientTransform: null,
    gradientUnits: null,
    handler: null,
    hanging: P2,
    hatchContentUnits: null,
    hatchUnits: null,
    height: null,
    href: null,
    hrefLang: null,
    horizAdvX: P2,
    horizOriginX: P2,
    horizOriginY: P2,
    id: null,
    ideographic: P2,
    imageRendering: null,
    initialVisibility: null,
    in: null,
    in2: null,
    intercept: P2,
    k: P2,
    k1: P2,
    k2: P2,
    k3: P2,
    k4: P2,
    kernelMatrix: Te,
    kernelUnitLength: null,
    keyPoints: null,
    // SEMI_COLON_SEPARATED
    keySplines: null,
    // SEMI_COLON_SEPARATED
    keyTimes: null,
    // SEMI_COLON_SEPARATED
    kerning: null,
    lang: null,
    lengthAdjust: null,
    letterSpacing: null,
    lightingColor: null,
    limitingConeAngle: P2,
    local: null,
    markerEnd: null,
    markerMid: null,
    markerStart: null,
    markerHeight: null,
    markerUnits: null,
    markerWidth: null,
    mask: null,
    maskContentUnits: null,
    maskUnits: null,
    mathematical: null,
    max: null,
    media: null,
    mediaCharacterEncoding: null,
    mediaContentEncodings: null,
    mediaSize: P2,
    mediaTime: null,
    method: null,
    min: null,
    mode: null,
    name: null,
    navDown: null,
    navDownLeft: null,
    navDownRight: null,
    navLeft: null,
    navNext: null,
    navPrev: null,
    navRight: null,
    navUp: null,
    navUpLeft: null,
    navUpRight: null,
    numOctaves: null,
    observer: null,
    offset: null,
    onAbort: null,
    onActivate: null,
    onAfterPrint: null,
    onBeforePrint: null,
    onBegin: null,
    onCancel: null,
    onCanPlay: null,
    onCanPlayThrough: null,
    onChange: null,
    onClick: null,
    onClose: null,
    onCopy: null,
    onCueChange: null,
    onCut: null,
    onDblClick: null,
    onDrag: null,
    onDragEnd: null,
    onDragEnter: null,
    onDragExit: null,
    onDragLeave: null,
    onDragOver: null,
    onDragStart: null,
    onDrop: null,
    onDurationChange: null,
    onEmptied: null,
    onEnd: null,
    onEnded: null,
    onError: null,
    onFocus: null,
    onFocusIn: null,
    onFocusOut: null,
    onHashChange: null,
    onInput: null,
    onInvalid: null,
    onKeyDown: null,
    onKeyPress: null,
    onKeyUp: null,
    onLoad: null,
    onLoadedData: null,
    onLoadedMetadata: null,
    onLoadStart: null,
    onMessage: null,
    onMouseDown: null,
    onMouseEnter: null,
    onMouseLeave: null,
    onMouseMove: null,
    onMouseOut: null,
    onMouseOver: null,
    onMouseUp: null,
    onMouseWheel: null,
    onOffline: null,
    onOnline: null,
    onPageHide: null,
    onPageShow: null,
    onPaste: null,
    onPause: null,
    onPlay: null,
    onPlaying: null,
    onPopState: null,
    onProgress: null,
    onRateChange: null,
    onRepeat: null,
    onReset: null,
    onResize: null,
    onScroll: null,
    onSeeked: null,
    onSeeking: null,
    onSelect: null,
    onShow: null,
    onStalled: null,
    onStorage: null,
    onSubmit: null,
    onSuspend: null,
    onTimeUpdate: null,
    onToggle: null,
    onUnload: null,
    onVolumeChange: null,
    onWaiting: null,
    onZoom: null,
    opacity: null,
    operator: null,
    order: null,
    orient: null,
    orientation: null,
    origin: null,
    overflow: null,
    overlay: null,
    overlinePosition: P2,
    overlineThickness: P2,
    paintOrder: null,
    panose1: null,
    path: null,
    pathLength: P2,
    patternContentUnits: null,
    patternTransform: null,
    patternUnits: null,
    phase: null,
    ping: Z2,
    pitch: null,
    playbackOrder: null,
    pointerEvents: null,
    points: null,
    pointsAtX: P2,
    pointsAtY: P2,
    pointsAtZ: P2,
    preserveAlpha: null,
    preserveAspectRatio: null,
    primitiveUnits: null,
    propagate: null,
    property: Te,
    r: null,
    radius: null,
    referrerPolicy: null,
    refX: null,
    refY: null,
    rel: Te,
    rev: Te,
    renderingIntent: null,
    repeatCount: null,
    repeatDur: null,
    requiredExtensions: Te,
    requiredFeatures: Te,
    requiredFonts: Te,
    requiredFormats: Te,
    resource: null,
    restart: null,
    result: null,
    rotate: null,
    rx: null,
    ry: null,
    scale: null,
    seed: null,
    shapeRendering: null,
    side: null,
    slope: null,
    snapshotTime: null,
    specularConstant: P2,
    specularExponent: P2,
    spreadMethod: null,
    spacing: null,
    startOffset: null,
    stdDeviation: null,
    stemh: null,
    stemv: null,
    stitchTiles: null,
    stopColor: null,
    stopOpacity: null,
    strikethroughPosition: P2,
    strikethroughThickness: P2,
    string: null,
    stroke: null,
    strokeDashArray: Te,
    strokeDashOffset: null,
    strokeLineCap: null,
    strokeLineJoin: null,
    strokeMiterLimit: P2,
    strokeOpacity: P2,
    strokeWidth: null,
    style: null,
    surfaceScale: P2,
    syncBehavior: null,
    syncBehaviorDefault: null,
    syncMaster: null,
    syncTolerance: null,
    syncToleranceDefault: null,
    systemLanguage: Te,
    tabIndex: P2,
    tableValues: null,
    target: null,
    targetX: P2,
    targetY: P2,
    textAnchor: null,
    textDecoration: null,
    textRendering: null,
    textLength: null,
    timelineBegin: null,
    title: null,
    transformBehavior: null,
    type: null,
    typeOf: Te,
    to: null,
    transform: null,
    transformOrigin: null,
    u1: null,
    u2: null,
    underlinePosition: P2,
    underlineThickness: P2,
    unicode: null,
    unicodeBidi: null,
    unicodeRange: null,
    unitsPerEm: P2,
    values: null,
    vAlphabetic: P2,
    vMathematical: P2,
    vectorEffect: null,
    vHanging: P2,
    vIdeographic: P2,
    version: null,
    vertAdvY: P2,
    vertOriginX: P2,
    vertOriginY: P2,
    viewBox: null,
    viewTarget: null,
    visibility: null,
    width: null,
    widths: null,
    wordSpacing: null,
    writingMode: null,
    x: null,
    x1: null,
    x2: null,
    xChannelSelector: null,
    xHeight: P2,
    y: null,
    y1: null,
    y2: null,
    yChannelSelector: null,
    z: null,
    zoomAndPan: null
  }
});
var P0 = /^data[-\w.:]+$/i;
var Iu2 = /-[a-z]/g;
var w0 = /[A-Z]/g;
function Nr2(e, t3) {
  const n4 = Ut3(t3);
  let r4 = t3, u5 = Ae2;
  if (n4 in e.normal)
    return e.property[e.normal[n4]];
  if (n4.length > 4 && n4.slice(0, 4) === "data" && P0.test(t3)) {
    if (t3.charAt(4) === "-") {
      const a3 = t3.slice(5).replace(Iu2, B0);
      r4 = "data" + a3.charAt(0).toUpperCase() + a3.slice(1);
    } else {
      const a3 = t3.slice(4);
      if (!Iu2.test(a3)) {
        let i5 = a3.replace(w0, M0);
        i5.charAt(0) !== "-" && (i5 = "-" + i5), t3 = "data" + i5;
      }
    }
    u5 = xr2;
  }
  return new u5(r4, t3);
}
function M0(e) {
  return "-" + e.toLowerCase();
}
function B0(e) {
  return e.charAt(1).toUpperCase();
}
var In2 = Mi2([Hi2, Fi2, zi2, Yi2, R0], "html");
var jt2 = Mi2([Hi2, Fi2, zi2, Yi2, D0], "svg");
var xu2 = /[#.]/g;
function F0(e, t3) {
  const n4 = e || "", r4 = {};
  let u5 = 0, a3, i5;
  for (; u5 < n4.length; ) {
    xu2.lastIndex = u5;
    const o2 = xu2.exec(n4), l3 = n4.slice(u5, o2 ? o2.index : n4.length);
    l3 && (a3 ? a3 === "#" ? r4.id = l3 : Array.isArray(r4.className) ? r4.className.push(l3) : r4.className = [l3] : i5 = l3, u5 += l3.length), o2 && (a3 = o2[0], u5++);
  }
  return {
    type: "element",
    // @ts-expect-error: tag name is parsed.
    tagName: i5 || t3 || "div",
    properties: r4,
    children: []
  };
}
var tr2 = {}.hasOwnProperty;
function qi2(e, t3, n4) {
  const r4 = n4 && z0(n4);
  function u5(a3, i5, ...o2) {
    let l3 = -1, c6;
    if (a3 == null) {
      c6 = { type: "root", children: [] };
      const h3 = (
        /** @type {Child} */
        i5
      );
      o2.unshift(h3);
    } else if (c6 = F0(a3, t3), c6.tagName = c6.tagName.toLowerCase(), r4 && tr2.call(r4, c6.tagName) && (c6.tagName = r4[c6.tagName]), H0(i5))
      o2.unshift(i5);
    else {
      let h3;
      for (h3 in i5)
        tr2.call(i5, h3) && U0(e, c6.properties, h3, i5[h3]);
    }
    for (; ++l3 < o2.length; )
      nr2(c6.children, o2[l3]);
    return c6.type === "element" && c6.tagName === "template" && (c6.content = { type: "root", children: c6.children }, c6.children = []), c6;
  }
  return u5;
}
function H0(e) {
  if (e === null || typeof e != "object" || Array.isArray(e))
    return true;
  if (typeof e.type != "string") return false;
  const t3 = (
    /** @type {Record<string, unknown>} */
    e
  ), n4 = Object.keys(e);
  for (const r4 of n4) {
    const u5 = t3[r4];
    if (u5 && typeof u5 == "object") {
      if (!Array.isArray(u5)) return true;
      const a3 = (
        /** @type {Array<unknown>} */
        u5
      );
      for (const i5 of a3)
        if (typeof i5 != "number" && typeof i5 != "string")
          return true;
    }
  }
  return !!("children" in e && Array.isArray(e.children));
}
function U0(e, t3, n4, r4) {
  const u5 = Nr2(e, n4);
  let a3 = -1, i5;
  if (r4 != null) {
    if (typeof r4 == "number") {
      if (Number.isNaN(r4)) return;
      i5 = r4;
    } else typeof r4 == "boolean" ? i5 = r4 : typeof r4 == "string" ? u5.spaceSeparated ? i5 = sh(r4) : u5.commaSeparated ? i5 = th(r4) : u5.commaOrSpaceSeparated ? i5 = sh(th(r4).join(" ")) : i5 = Nu2(u5, u5.property, r4) : Array.isArray(r4) ? i5 = r4.concat() : i5 = u5.property === "style" ? v0(r4) : String(r4);
    if (Array.isArray(i5)) {
      const o2 = [];
      for (; ++a3 < i5.length; ) {
        const l3 = (
          /** @type {number | string} */
          Nu2(u5, u5.property, i5[a3])
        );
        o2[a3] = l3;
      }
      i5 = o2;
    }
    if (u5.property === "className" && Array.isArray(t3.className)) {
      const o2 = (
        /** @type {number | string} */
        i5
      );
      i5 = t3.className.concat(o2);
    }
    t3[u5.property] = i5;
  }
}
function nr2(e, t3) {
  let n4 = -1;
  if (t3 != null) if (typeof t3 == "string" || typeof t3 == "number")
    e.push({ type: "text", value: String(t3) });
  else if (Array.isArray(t3))
    for (; ++n4 < t3.length; )
      nr2(e, t3[n4]);
  else if (typeof t3 == "object" && "type" in t3)
    t3.type === "root" ? nr2(e, t3.children) : e.push(t3);
  else
    throw new Error("Expected node, nodes, or string, got `" + t3 + "`");
}
function Nu2(e, t3, n4) {
  if (typeof n4 == "string") {
    if (e.number && n4 && !Number.isNaN(Number(n4)))
      return Number(n4);
    if ((e.boolean || e.overloadedBoolean) && (n4 === "" || Ut3(n4) === Ut3(t3)))
      return true;
  }
  return n4;
}
function v0(e) {
  const t3 = [];
  let n4;
  for (n4 in e)
    tr2.call(e, n4) && t3.push([n4, e[n4]].join(": "));
  return t3.join("; ");
}
function z0(e) {
  const t3 = {};
  let n4 = -1;
  for (; ++n4 < e.length; )
    t3[e[n4].toLowerCase()] = e[n4];
  return t3;
}
var Y0 = [
  "altGlyph",
  "altGlyphDef",
  "altGlyphItem",
  "animateColor",
  "animateMotion",
  "animateTransform",
  "clipPath",
  "feBlend",
  "feColorMatrix",
  "feComponentTransfer",
  "feComposite",
  "feConvolveMatrix",
  "feDiffuseLighting",
  "feDisplacementMap",
  "feDistantLight",
  "feDropShadow",
  "feFlood",
  "feFuncA",
  "feFuncB",
  "feFuncG",
  "feFuncR",
  "feGaussianBlur",
  "feImage",
  "feMerge",
  "feMergeNode",
  "feMorphology",
  "feOffset",
  "fePointLight",
  "feSpecularLighting",
  "feSpotLight",
  "feTile",
  "feTurbulence",
  "foreignObject",
  "glyphRef",
  "linearGradient",
  "radialGradient",
  "solidColor",
  "textArea",
  "textPath"
];
var q0 = qi2(In2, "div");
var j0 = qi2(jt2, "g", Y0);
function V0(e) {
  const t3 = String(e), n4 = [];
  return { toOffset: u5, toPoint: r4 };
  function r4(a3) {
    if (typeof a3 == "number" && a3 > -1 && a3 <= t3.length) {
      let i5 = 0;
      for (; ; ) {
        let o2 = n4[i5];
        if (o2 === void 0) {
          const l3 = Su2(t3, n4[i5 - 1]);
          o2 = l3 === -1 ? t3.length + 1 : l3 + 1, n4[i5] = o2;
        }
        if (o2 > a3)
          return {
            line: i5 + 1,
            column: a3 - (i5 > 0 ? n4[i5 - 1] : 0) + 1,
            offset: a3
          };
        i5++;
      }
    }
  }
  function u5(a3) {
    if (a3 && typeof a3.line == "number" && typeof a3.column == "number" && !Number.isNaN(a3.line) && !Number.isNaN(a3.column)) {
      for (; n4.length < a3.line; ) {
        const o2 = n4[n4.length - 1], l3 = Su2(t3, o2), c6 = l3 === -1 ? t3.length + 1 : l3 + 1;
        if (o2 === c6) break;
        n4.push(c6);
      }
      const i5 = (a3.line > 1 ? n4[a3.line - 2] : 0) + a3.column - 1;
      if (i5 < n4[a3.line - 1]) return i5;
    }
  }
}
function Su2(e, t3) {
  const n4 = e.indexOf("\r", t3), r4 = e.indexOf(`
`, t3);
  return r4 === -1 ? n4 : n4 === -1 || n4 + 1 === r4 ? r4 : n4 < r4 ? n4 : r4;
}
var Ze3 = {
  html: "http://www.w3.org/1999/xhtml",
  mathml: "http://www.w3.org/1998/Math/MathML",
  svg: "http://www.w3.org/2000/svg",
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};
var ji2 = {}.hasOwnProperty;
var W0 = Object.prototype;
function Q0(e, t3) {
  const n4 = t3 || {};
  return Sr2(
    {
      file: n4.file || void 0,
      location: false,
      schema: n4.space === "svg" ? jt2 : In2,
      verbose: n4.verbose || false
    },
    e
  );
}
function Sr2(e, t3) {
  let n4;
  switch (t3.nodeName) {
    case "#comment": {
      const r4 = (
        /** @type {DefaultTreeAdapterMap['commentNode']} */
        t3
      );
      return n4 = { type: "comment", value: r4.data }, un2(e, r4, n4), n4;
    }
    case "#document":
    case "#document-fragment": {
      const r4 = (
        /** @type {DefaultTreeAdapterMap['document'] | DefaultTreeAdapterMap['documentFragment']} */
        t3
      ), u5 = "mode" in r4 ? r4.mode === "quirks" || r4.mode === "limited-quirks" : false;
      if (n4 = {
        type: "root",
        children: Vi2(e, t3.childNodes),
        data: { quirksMode: u5 }
      }, e.file && e.location) {
        const a3 = String(e.file), i5 = V0(a3), o2 = i5.toPoint(0), l3 = i5.toPoint(a3.length);
        n4.position = { start: o2, end: l3 };
      }
      return n4;
    }
    case "#documentType": {
      const r4 = (
        /** @type {DefaultTreeAdapterMap['documentType']} */
        t3
      );
      return n4 = { type: "doctype" }, un2(e, r4, n4), n4;
    }
    case "#text": {
      const r4 = (
        /** @type {DefaultTreeAdapterMap['textNode']} */
        t3
      );
      return n4 = { type: "text", value: r4.value }, un2(e, r4, n4), n4;
    }
    // Element.
    default:
      return n4 = G0(
        e,
        /** @type {DefaultTreeAdapterMap['element']} */
        t3
      ), n4;
  }
}
function Vi2(e, t3) {
  let n4 = -1;
  const r4 = [];
  for (; ++n4 < t3.length; ) {
    const u5 = (
      /** @type {RootContent} */
      Sr2(e, t3[n4])
    );
    r4.push(u5);
  }
  return r4;
}
function G0(e, t3) {
  const n4 = e.schema;
  e.schema = t3.namespaceURI === Ze3.svg ? jt2 : In2;
  let r4 = -1;
  const u5 = {};
  for (; ++r4 < t3.attrs.length; ) {
    const o2 = t3.attrs[r4], l3 = (o2.prefix ? o2.prefix + ":" : "") + o2.name;
    ji2.call(W0, l3) || (u5[l3] = o2.value);
  }
  const i5 = (e.schema.space === "svg" ? j0 : q0)(t3.tagName, u5, Vi2(e, t3.childNodes));
  if (un2(e, t3, i5), i5.tagName === "template") {
    const o2 = (
      /** @type {DefaultTreeAdapterMap['template']} */
      t3
    ), l3 = o2.sourceCodeLocation, c6 = l3 && l3.startTag && ct3(l3.startTag), h3 = l3 && l3.endTag && ct3(l3.endTag), f8 = (
      /** @type {Root} */
      Sr2(e, o2.content)
    );
    c6 && h3 && e.file && (f8.position = { start: c6.end, end: h3.start }), i5.content = f8;
  }
  return e.schema = n4, i5;
}
function un2(e, t3, n4) {
  if ("sourceCodeLocation" in t3 && t3.sourceCodeLocation && e.file) {
    const r4 = X0(e, n4, t3.sourceCodeLocation);
    r4 && (e.location = true, n4.position = r4);
  }
}
function X0(e, t3, n4) {
  const r4 = ct3(n4);
  if (t3.type === "element") {
    const u5 = t3.children[t3.children.length - 1];
    if (r4 && !n4.endTag && u5 && u5.position && u5.position.end && (r4.end = Object.assign({}, u5.position.end)), e.verbose) {
      const a3 = {};
      let i5;
      if (n4.attrs)
        for (i5 in n4.attrs)
          ji2.call(n4.attrs, i5) && (a3[Nr2(e.schema, i5).property] = ct3(
            n4.attrs[i5]
          ));
      Qc(n4.startTag);
      const o2 = ct3(n4.startTag), l3 = n4.endTag ? ct3(n4.endTag) : void 0, c6 = { opening: o2 };
      l3 && (c6.closing = l3), c6.properties = a3, t3.data = { position: c6 };
    }
  }
  return r4;
}
function ct3(e) {
  const t3 = ku2({
    line: e.startLine,
    column: e.startCol,
    offset: e.startOffset
  }), n4 = ku2({
    line: e.endLine,
    column: e.endCol,
    offset: e.endOffset
  });
  return t3 || n4 ? { start: t3, end: n4 } : void 0;
}
function ku2(e) {
  return e.line && e.column ? e : void 0;
}
var K0 = {};
var $0 = {}.hasOwnProperty;
var Wi2 = la("type", { handlers: { root: Z0, element: uf, text: nf, comment: rf, doctype: tf } });
function J0(e, t3) {
  const r4 = (t3 || K0).space;
  return Wi2(e, r4 === "svg" ? jt2 : In2);
}
function Z0(e, t3) {
  const n4 = {
    nodeName: "#document",
    // @ts-expect-error: `parse5` uses enums, which are actually strings.
    mode: (e.data || {}).quirksMode ? "quirks" : "no-quirks",
    childNodes: []
  };
  return n4.childNodes = kr2(e.children, n4, t3), bt3(e, n4), n4;
}
function ef(e, t3) {
  const n4 = { nodeName: "#document-fragment", childNodes: [] };
  return n4.childNodes = kr2(e.children, n4, t3), bt3(e, n4), n4;
}
function tf(e) {
  const t3 = {
    nodeName: "#documentType",
    name: "html",
    publicId: "",
    systemId: "",
    parentNode: null
  };
  return bt3(e, t3), t3;
}
function nf(e) {
  const t3 = {
    nodeName: "#text",
    value: e.value,
    parentNode: null
  };
  return bt3(e, t3), t3;
}
function rf(e) {
  const t3 = {
    nodeName: "#comment",
    data: e.value,
    parentNode: null
  };
  return bt3(e, t3), t3;
}
function uf(e, t3) {
  const n4 = t3;
  let r4 = n4;
  e.type === "element" && e.tagName.toLowerCase() === "svg" && n4.space === "html" && (r4 = jt2);
  const u5 = [];
  let a3;
  if (e.properties) {
    for (a3 in e.properties)
      if (a3 !== "children" && $0.call(e.properties, a3)) {
        const l3 = af(
          r4,
          a3,
          e.properties[a3]
        );
        l3 && u5.push(l3);
      }
  }
  const i5 = r4.space, o2 = {
    nodeName: e.tagName,
    tagName: e.tagName,
    attrs: u5,
    // @ts-expect-error: `parse5` types are wrong.
    namespaceURI: Ze3[i5],
    childNodes: [],
    parentNode: null
  };
  return o2.childNodes = kr2(e.children, o2, r4), bt3(e, o2), e.tagName === "template" && e.content && (o2.content = ef(e.content, r4)), o2;
}
function af(e, t3, n4) {
  const r4 = Nr2(e, t3);
  if (n4 === false || n4 === null || n4 === void 0 || typeof n4 == "number" && Number.isNaN(n4) || !n4 && r4.boolean)
    return;
  Array.isArray(n4) && (n4 = r4.commaSeparated ? Ir(n4) : Gr(n4));
  const u5 = {
    name: r4.attribute,
    value: n4 === true ? "" : String(n4)
  };
  if (r4.space && r4.space !== "html" && r4.space !== "svg") {
    const a3 = u5.name.indexOf(":");
    a3 < 0 ? u5.prefix = "" : (u5.name = u5.name.slice(a3 + 1), u5.prefix = r4.attribute.slice(0, a3)), u5.namespace = Ze3[r4.space];
  }
  return u5;
}
function kr2(e, t3, n4) {
  let r4 = -1;
  const u5 = [];
  if (e)
    for (; ++r4 < e.length; ) {
      const a3 = Wi2(e[r4], n4);
      a3.parentNode = t3, u5.push(a3);
    }
  return u5;
}
function bt3(e, t3) {
  const n4 = e.position;
  n4 && n4.start && n4.end && (Qc(typeof n4.start.offset == "number"), Qc(typeof n4.end.offset == "number"), t3.sourceCodeLocation = {
    startLine: n4.start.line,
    startCol: n4.start.column,
    startOffset: n4.start.offset,
    endLine: n4.end.line,
    endCol: n4.end.column,
    endOffset: n4.end.offset
  });
}
var sf = /* @__PURE__ */ new Set([
  65534,
  65535,
  131070,
  131071,
  196606,
  196607,
  262142,
  262143,
  327678,
  327679,
  393214,
  393215,
  458750,
  458751,
  524286,
  524287,
  589822,
  589823,
  655358,
  655359,
  720894,
  720895,
  786430,
  786431,
  851966,
  851967,
  917502,
  917503,
  983038,
  983039,
  1048574,
  1048575,
  1114110,
  1114111
]);
var te2 = "";
var m2;
(function(e) {
  e[e.EOF = -1] = "EOF", e[e.NULL = 0] = "NULL", e[e.TABULATION = 9] = "TABULATION", e[e.CARRIAGE_RETURN = 13] = "CARRIAGE_RETURN", e[e.LINE_FEED = 10] = "LINE_FEED", e[e.FORM_FEED = 12] = "FORM_FEED", e[e.SPACE = 32] = "SPACE", e[e.EXCLAMATION_MARK = 33] = "EXCLAMATION_MARK", e[e.QUOTATION_MARK = 34] = "QUOTATION_MARK", e[e.AMPERSAND = 38] = "AMPERSAND", e[e.APOSTROPHE = 39] = "APOSTROPHE", e[e.HYPHEN_MINUS = 45] = "HYPHEN_MINUS", e[e.SOLIDUS = 47] = "SOLIDUS", e[e.DIGIT_0 = 48] = "DIGIT_0", e[e.DIGIT_9 = 57] = "DIGIT_9", e[e.SEMICOLON = 59] = "SEMICOLON", e[e.LESS_THAN_SIGN = 60] = "LESS_THAN_SIGN", e[e.EQUALS_SIGN = 61] = "EQUALS_SIGN", e[e.GREATER_THAN_SIGN = 62] = "GREATER_THAN_SIGN", e[e.QUESTION_MARK = 63] = "QUESTION_MARK", e[e.LATIN_CAPITAL_A = 65] = "LATIN_CAPITAL_A", e[e.LATIN_CAPITAL_Z = 90] = "LATIN_CAPITAL_Z", e[e.RIGHT_SQUARE_BRACKET = 93] = "RIGHT_SQUARE_BRACKET", e[e.GRAVE_ACCENT = 96] = "GRAVE_ACCENT", e[e.LATIN_SMALL_A = 97] = "LATIN_SMALL_A", e[e.LATIN_SMALL_Z = 122] = "LATIN_SMALL_Z";
})(m2 || (m2 = {}));
var me2 = {
  DASH_DASH: "--",
  CDATA_START: "[CDATA[",
  DOCTYPE: "doctype",
  SCRIPT: "script",
  PUBLIC: "public",
  SYSTEM: "system"
};
function Qi2(e) {
  return e >= 55296 && e <= 57343;
}
function of(e) {
  return e >= 56320 && e <= 57343;
}
function lf(e, t3) {
  return (e - 55296) * 1024 + 9216 + t3;
}
function Gi2(e) {
  return e !== 32 && e !== 10 && e !== 13 && e !== 9 && e !== 12 && e >= 1 && e <= 31 || e >= 127 && e <= 159;
}
function Xi2(e) {
  return e >= 64976 && e <= 65007 || sf.has(e);
}
var C3;
(function(e) {
  e.controlCharacterInInputStream = "control-character-in-input-stream", e.noncharacterInInputStream = "noncharacter-in-input-stream", e.surrogateInInputStream = "surrogate-in-input-stream", e.nonVoidHtmlElementStartTagWithTrailingSolidus = "non-void-html-element-start-tag-with-trailing-solidus", e.endTagWithAttributes = "end-tag-with-attributes", e.endTagWithTrailingSolidus = "end-tag-with-trailing-solidus", e.unexpectedSolidusInTag = "unexpected-solidus-in-tag", e.unexpectedNullCharacter = "unexpected-null-character", e.unexpectedQuestionMarkInsteadOfTagName = "unexpected-question-mark-instead-of-tag-name", e.invalidFirstCharacterOfTagName = "invalid-first-character-of-tag-name", e.unexpectedEqualsSignBeforeAttributeName = "unexpected-equals-sign-before-attribute-name", e.missingEndTagName = "missing-end-tag-name", e.unexpectedCharacterInAttributeName = "unexpected-character-in-attribute-name", e.unknownNamedCharacterReference = "unknown-named-character-reference", e.missingSemicolonAfterCharacterReference = "missing-semicolon-after-character-reference", e.unexpectedCharacterAfterDoctypeSystemIdentifier = "unexpected-character-after-doctype-system-identifier", e.unexpectedCharacterInUnquotedAttributeValue = "unexpected-character-in-unquoted-attribute-value", e.eofBeforeTagName = "eof-before-tag-name", e.eofInTag = "eof-in-tag", e.missingAttributeValue = "missing-attribute-value", e.missingWhitespaceBetweenAttributes = "missing-whitespace-between-attributes", e.missingWhitespaceAfterDoctypePublicKeyword = "missing-whitespace-after-doctype-public-keyword", e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers = "missing-whitespace-between-doctype-public-and-system-identifiers", e.missingWhitespaceAfterDoctypeSystemKeyword = "missing-whitespace-after-doctype-system-keyword", e.missingQuoteBeforeDoctypePublicIdentifier = "missing-quote-before-doctype-public-identifier", e.missingQuoteBeforeDoctypeSystemIdentifier = "missing-quote-before-doctype-system-identifier", e.missingDoctypePublicIdentifier = "missing-doctype-public-identifier", e.missingDoctypeSystemIdentifier = "missing-doctype-system-identifier", e.abruptDoctypePublicIdentifier = "abrupt-doctype-public-identifier", e.abruptDoctypeSystemIdentifier = "abrupt-doctype-system-identifier", e.cdataInHtmlContent = "cdata-in-html-content", e.incorrectlyOpenedComment = "incorrectly-opened-comment", e.eofInScriptHtmlCommentLikeText = "eof-in-script-html-comment-like-text", e.eofInDoctype = "eof-in-doctype", e.nestedComment = "nested-comment", e.abruptClosingOfEmptyComment = "abrupt-closing-of-empty-comment", e.eofInComment = "eof-in-comment", e.incorrectlyClosedComment = "incorrectly-closed-comment", e.eofInCdata = "eof-in-cdata", e.absenceOfDigitsInNumericCharacterReference = "absence-of-digits-in-numeric-character-reference", e.nullCharacterReference = "null-character-reference", e.surrogateCharacterReference = "surrogate-character-reference", e.characterReferenceOutsideUnicodeRange = "character-reference-outside-unicode-range", e.controlCharacterReference = "control-character-reference", e.noncharacterCharacterReference = "noncharacter-character-reference", e.missingWhitespaceBeforeDoctypeName = "missing-whitespace-before-doctype-name", e.missingDoctypeName = "missing-doctype-name", e.invalidCharacterSequenceAfterDoctypeName = "invalid-character-sequence-after-doctype-name", e.duplicateAttribute = "duplicate-attribute", e.nonConformingDoctype = "non-conforming-doctype", e.missingDoctype = "missing-doctype", e.misplacedDoctype = "misplaced-doctype", e.endTagWithoutMatchingOpenElement = "end-tag-without-matching-open-element", e.closingOfElementWithOpenChildElements = "closing-of-element-with-open-child-elements", e.disallowedContentInNoscriptInHead = "disallowed-content-in-noscript-in-head", e.openElementsLeftAfterEof = "open-elements-left-after-eof", e.abandonedHeadElementChild = "abandoned-head-element-child", e.misplacedStartTagForHeadElement = "misplaced-start-tag-for-head-element", e.nestedNoscriptInHead = "nested-noscript-in-head", e.eofInElementThatCanContainOnlyText = "eof-in-element-that-can-contain-only-text";
})(C3 || (C3 = {}));
var cf = 65536;
var ff = class {
  constructor(t3) {
    this.handler = t3, this.html = "", this.pos = -1, this.lastGapPos = -2, this.gapStack = [], this.skipNextNewLine = false, this.lastChunkWritten = false, this.endOfChunkHit = false, this.bufferWaterline = cf, this.isEol = false, this.lineStartPos = 0, this.droppedBufferSize = 0, this.line = 1, this.lastErrOffset = -1;
  }
  /** The column on the current line. If we just saw a gap (eg. a surrogate pair), return the index before. */
  get col() {
    return this.pos - this.lineStartPos + +(this.lastGapPos !== this.pos);
  }
  get offset() {
    return this.droppedBufferSize + this.pos;
  }
  getError(t3, n4) {
    const { line: r4, col: u5, offset: a3 } = this, i5 = u5 + n4, o2 = a3 + n4;
    return {
      code: t3,
      startLine: r4,
      endLine: r4,
      startCol: i5,
      endCol: i5,
      startOffset: o2,
      endOffset: o2
    };
  }
  _err(t3) {
    this.handler.onParseError && this.lastErrOffset !== this.offset && (this.lastErrOffset = this.offset, this.handler.onParseError(this.getError(t3, 0)));
  }
  _addGap() {
    this.gapStack.push(this.lastGapPos), this.lastGapPos = this.pos;
  }
  _processSurrogate(t3) {
    if (this.pos !== this.html.length - 1) {
      const n4 = this.html.charCodeAt(this.pos + 1);
      if (of(n4))
        return this.pos++, this._addGap(), lf(t3, n4);
    } else if (!this.lastChunkWritten)
      return this.endOfChunkHit = true, m2.EOF;
    return this._err(C3.surrogateInInputStream), t3;
  }
  willDropParsedChunk() {
    return this.pos > this.bufferWaterline;
  }
  dropParsedChunk() {
    this.willDropParsedChunk() && (this.html = this.html.substring(this.pos), this.lineStartPos -= this.pos, this.droppedBufferSize += this.pos, this.pos = 0, this.lastGapPos = -2, this.gapStack.length = 0);
  }
  write(t3, n4) {
    this.html.length > 0 ? this.html += t3 : this.html = t3, this.endOfChunkHit = false, this.lastChunkWritten = n4;
  }
  insertHtmlAtCurrentPos(t3) {
    this.html = this.html.substring(0, this.pos + 1) + t3 + this.html.substring(this.pos + 1), this.endOfChunkHit = false;
  }
  startsWith(t3, n4) {
    if (this.pos + t3.length > this.html.length)
      return this.endOfChunkHit = !this.lastChunkWritten, false;
    if (n4)
      return this.html.startsWith(t3, this.pos);
    for (let r4 = 0; r4 < t3.length; r4++)
      if ((this.html.charCodeAt(this.pos + r4) | 32) !== t3.charCodeAt(r4))
        return false;
    return true;
  }
  peek(t3) {
    const n4 = this.pos + t3;
    if (n4 >= this.html.length)
      return this.endOfChunkHit = !this.lastChunkWritten, m2.EOF;
    const r4 = this.html.charCodeAt(n4);
    return r4 === m2.CARRIAGE_RETURN ? m2.LINE_FEED : r4;
  }
  advance() {
    if (this.pos++, this.isEol && (this.isEol = false, this.line++, this.lineStartPos = this.pos), this.pos >= this.html.length)
      return this.endOfChunkHit = !this.lastChunkWritten, m2.EOF;
    let t3 = this.html.charCodeAt(this.pos);
    return t3 === m2.CARRIAGE_RETURN ? (this.isEol = true, this.skipNextNewLine = true, m2.LINE_FEED) : t3 === m2.LINE_FEED && (this.isEol = true, this.skipNextNewLine) ? (this.line--, this.skipNextNewLine = false, this._addGap(), this.advance()) : (this.skipNextNewLine = false, Qi2(t3) && (t3 = this._processSurrogate(t3)), this.handler.onParseError === null || t3 > 31 && t3 < 127 || t3 === m2.LINE_FEED || t3 === m2.CARRIAGE_RETURN || t3 > 159 && t3 < 64976 || this._checkForProblematicCharacters(t3), t3);
  }
  _checkForProblematicCharacters(t3) {
    Gi2(t3) ? this._err(C3.controlCharacterInInputStream) : Xi2(t3) && this._err(C3.noncharacterInInputStream);
  }
  retreat(t3) {
    for (this.pos -= t3; this.pos < this.lastGapPos; )
      this.lastGapPos = this.gapStack.pop(), this.pos--;
    this.isEol = false;
  }
};
var q4;
(function(e) {
  e[e.CHARACTER = 0] = "CHARACTER", e[e.NULL_CHARACTER = 1] = "NULL_CHARACTER", e[e.WHITESPACE_CHARACTER = 2] = "WHITESPACE_CHARACTER", e[e.START_TAG = 3] = "START_TAG", e[e.END_TAG = 4] = "END_TAG", e[e.COMMENT = 5] = "COMMENT", e[e.DOCTYPE = 6] = "DOCTYPE", e[e.EOF = 7] = "EOF", e[e.HIBERNATION = 8] = "HIBERNATION";
})(q4 || (q4 = {}));
function Ki2(e, t3) {
  for (let n4 = e.attrs.length - 1; n4 >= 0; n4--)
    if (e.attrs[n4].name === t3)
      return e.attrs[n4].value;
  return null;
}
var $i2 = new Uint16Array(
  // prettier-ignore
  '<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e) => e.charCodeAt(0))
);
var hf = new Uint16Array(
  // prettier-ignore
  "aglq	\x1B\0\0p;os;t;t;uot;".split("").map((e) => e.charCodeAt(0))
);
var Yn2;
var df = /* @__PURE__ */ new Map([
  [0, 65533],
  // C1 Unicode control character reference replacements
  [128, 8364],
  [130, 8218],
  [131, 402],
  [132, 8222],
  [133, 8230],
  [134, 8224],
  [135, 8225],
  [136, 710],
  [137, 8240],
  [138, 352],
  [139, 8249],
  [140, 338],
  [142, 381],
  [145, 8216],
  [146, 8217],
  [147, 8220],
  [148, 8221],
  [149, 8226],
  [150, 8211],
  [151, 8212],
  [152, 732],
  [153, 8482],
  [154, 353],
  [155, 8250],
  [156, 339],
  [158, 382],
  [159, 376]
]);
var mf = (
  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins
  (Yn2 = String.fromCodePoint) !== null && Yn2 !== void 0 ? Yn2 : function(e) {
    let t3 = "";
    return e > 65535 && (e -= 65536, t3 += String.fromCharCode(e >>> 10 & 1023 | 55296), e = 56320 | e & 1023), t3 += String.fromCharCode(e), t3;
  }
);
function pf(e) {
  var t3;
  return e >= 55296 && e <= 57343 || e > 1114111 ? 65533 : (t3 = df.get(e)) !== null && t3 !== void 0 ? t3 : e;
}
var se2;
(function(e) {
  e[e.NUM = 35] = "NUM", e[e.SEMI = 59] = "SEMI", e[e.EQUALS = 61] = "EQUALS", e[e.ZERO = 48] = "ZERO", e[e.NINE = 57] = "NINE", e[e.LOWER_A = 97] = "LOWER_A", e[e.LOWER_F = 102] = "LOWER_F", e[e.LOWER_X = 120] = "LOWER_X", e[e.LOWER_Z = 122] = "LOWER_Z", e[e.UPPER_A = 65] = "UPPER_A", e[e.UPPER_F = 70] = "UPPER_F", e[e.UPPER_Z = 90] = "UPPER_Z";
})(se2 || (se2 = {}));
var Ef = 32;
var qe3;
(function(e) {
  e[e.VALUE_LENGTH = 49152] = "VALUE_LENGTH", e[e.BRANCH_LENGTH = 16256] = "BRANCH_LENGTH", e[e.JUMP_TABLE = 127] = "JUMP_TABLE";
})(qe3 || (qe3 = {}));
function rr2(e) {
  return e >= se2.ZERO && e <= se2.NINE;
}
function Tf(e) {
  return e >= se2.UPPER_A && e <= se2.UPPER_F || e >= se2.LOWER_A && e <= se2.LOWER_F;
}
function gf(e) {
  return e >= se2.UPPER_A && e <= se2.UPPER_Z || e >= se2.LOWER_A && e <= se2.LOWER_Z || rr2(e);
}
function bf(e) {
  return e === se2.EQUALS || gf(e);
}
var ae3;
(function(e) {
  e[e.EntityStart = 0] = "EntityStart", e[e.NumericStart = 1] = "NumericStart", e[e.NumericDecimal = 2] = "NumericDecimal", e[e.NumericHex = 3] = "NumericHex", e[e.NamedEntity = 4] = "NamedEntity";
})(ae3 || (ae3 = {}));
var we5;
(function(e) {
  e[e.Legacy = 0] = "Legacy", e[e.Strict = 1] = "Strict", e[e.Attribute = 2] = "Attribute";
})(we5 || (we5 = {}));
var Ji2 = class {
  constructor(t3, n4, r4) {
    this.decodeTree = t3, this.emitCodePoint = n4, this.errors = r4, this.state = ae3.EntityStart, this.consumed = 1, this.result = 0, this.treeIndex = 0, this.excess = 1, this.decodeMode = we5.Strict;
  }
  /** Resets the instance to make it reusable. */
  startEntity(t3) {
    this.decodeMode = t3, this.state = ae3.EntityStart, this.result = 0, this.treeIndex = 0, this.excess = 1, this.consumed = 1;
  }
  /**
   * Write an entity to the decoder. This can be called multiple times with partial entities.
   * If the entity is incomplete, the decoder will return -1.
   *
   * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the
   * entity is incomplete, and resume when the next string is written.
   *
   * @param string The string containing the entity (or a continuation of the entity).
   * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.
   * @returns The number of characters that were consumed, or -1 if the entity is incomplete.
   */
  write(t3, n4) {
    switch (this.state) {
      case ae3.EntityStart:
        return t3.charCodeAt(n4) === se2.NUM ? (this.state = ae3.NumericStart, this.consumed += 1, this.stateNumericStart(t3, n4 + 1)) : (this.state = ae3.NamedEntity, this.stateNamedEntity(t3, n4));
      case ae3.NumericStart:
        return this.stateNumericStart(t3, n4);
      case ae3.NumericDecimal:
        return this.stateNumericDecimal(t3, n4);
      case ae3.NumericHex:
        return this.stateNumericHex(t3, n4);
      case ae3.NamedEntity:
        return this.stateNamedEntity(t3, n4);
    }
  }
  /**
   * Switches between the numeric decimal and hexadecimal states.
   *
   * Equivalent to the `Numeric character reference state` in the HTML spec.
   *
   * @param str The string containing the entity (or a continuation of the entity).
   * @param offset The current offset.
   * @returns The number of characters that were consumed, or -1 if the entity is incomplete.
   */
  stateNumericStart(t3, n4) {
    return n4 >= t3.length ? -1 : (t3.charCodeAt(n4) | Ef) === se2.LOWER_X ? (this.state = ae3.NumericHex, this.consumed += 1, this.stateNumericHex(t3, n4 + 1)) : (this.state = ae3.NumericDecimal, this.stateNumericDecimal(t3, n4));
  }
  addToNumericResult(t3, n4, r4, u5) {
    if (n4 !== r4) {
      const a3 = r4 - n4;
      this.result = this.result * Math.pow(u5, a3) + parseInt(t3.substr(n4, a3), u5), this.consumed += a3;
    }
  }
  /**
   * Parses a hexadecimal numeric entity.
   *
   * Equivalent to the `Hexademical character reference state` in the HTML spec.
   *
   * @param str The string containing the entity (or a continuation of the entity).
   * @param offset The current offset.
   * @returns The number of characters that were consumed, or -1 if the entity is incomplete.
   */
  stateNumericHex(t3, n4) {
    const r4 = n4;
    for (; n4 < t3.length; ) {
      const u5 = t3.charCodeAt(n4);
      if (rr2(u5) || Tf(u5))
        n4 += 1;
      else
        return this.addToNumericResult(t3, r4, n4, 16), this.emitNumericEntity(u5, 3);
    }
    return this.addToNumericResult(t3, r4, n4, 16), -1;
  }
  /**
   * Parses a decimal numeric entity.
   *
   * Equivalent to the `Decimal character reference state` in the HTML spec.
   *
   * @param str The string containing the entity (or a continuation of the entity).
   * @param offset The current offset.
   * @returns The number of characters that were consumed, or -1 if the entity is incomplete.
   */
  stateNumericDecimal(t3, n4) {
    const r4 = n4;
    for (; n4 < t3.length; ) {
      const u5 = t3.charCodeAt(n4);
      if (rr2(u5))
        n4 += 1;
      else
        return this.addToNumericResult(t3, r4, n4, 10), this.emitNumericEntity(u5, 2);
    }
    return this.addToNumericResult(t3, r4, n4, 10), -1;
  }
  /**
   * Validate and emit a numeric entity.
   *
   * Implements the logic from the `Hexademical character reference start
   * state` and `Numeric character reference end state` in the HTML spec.
   *
   * @param lastCp The last code point of the entity. Used to see if the
   *               entity was terminated with a semicolon.
   * @param expectedLength The minimum number of characters that should be
   *                       consumed. Used to validate that at least one digit
   *                       was consumed.
   * @returns The number of characters that were consumed.
   */
  emitNumericEntity(t3, n4) {
    var r4;
    if (this.consumed <= n4)
      return (r4 = this.errors) === null || r4 === void 0 || r4.absenceOfDigitsInNumericCharacterReference(this.consumed), 0;
    if (t3 === se2.SEMI)
      this.consumed += 1;
    else if (this.decodeMode === we5.Strict)
      return 0;
    return this.emitCodePoint(pf(this.result), this.consumed), this.errors && (t3 !== se2.SEMI && this.errors.missingSemicolonAfterCharacterReference(), this.errors.validateNumericCharacterReference(this.result)), this.consumed;
  }
  /**
   * Parses a named entity.
   *
   * Equivalent to the `Named character reference state` in the HTML spec.
   *
   * @param str The string containing the entity (or a continuation of the entity).
   * @param offset The current offset.
   * @returns The number of characters that were consumed, or -1 if the entity is incomplete.
   */
  stateNamedEntity(t3, n4) {
    const { decodeTree: r4 } = this;
    let u5 = r4[this.treeIndex], a3 = (u5 & qe3.VALUE_LENGTH) >> 14;
    for (; n4 < t3.length; n4++, this.excess++) {
      const i5 = t3.charCodeAt(n4);
      if (this.treeIndex = Af(r4, u5, this.treeIndex + Math.max(1, a3), i5), this.treeIndex < 0)
        return this.result === 0 || // If we are parsing an attribute
        this.decodeMode === we5.Attribute && // We shouldn't have consumed any characters after the entity,
        (a3 === 0 || // And there should be no invalid characters.
        bf(i5)) ? 0 : this.emitNotTerminatedNamedEntity();
      if (u5 = r4[this.treeIndex], a3 = (u5 & qe3.VALUE_LENGTH) >> 14, a3 !== 0) {
        if (i5 === se2.SEMI)
          return this.emitNamedEntityData(this.treeIndex, a3, this.consumed + this.excess);
        this.decodeMode !== we5.Strict && (this.result = this.treeIndex, this.consumed += this.excess, this.excess = 0);
      }
    }
    return -1;
  }
  /**
   * Emit a named entity that was not terminated with a semicolon.
   *
   * @returns The number of characters consumed.
   */
  emitNotTerminatedNamedEntity() {
    var t3;
    const { result: n4, decodeTree: r4 } = this, u5 = (r4[n4] & qe3.VALUE_LENGTH) >> 14;
    return this.emitNamedEntityData(n4, u5, this.consumed), (t3 = this.errors) === null || t3 === void 0 || t3.missingSemicolonAfterCharacterReference(), this.consumed;
  }
  /**
   * Emit a named entity.
   *
   * @param result The index of the entity in the decode tree.
   * @param valueLength The number of bytes in the entity.
   * @param consumed The number of characters consumed.
   *
   * @returns The number of characters consumed.
   */
  emitNamedEntityData(t3, n4, r4) {
    const { decodeTree: u5 } = this;
    return this.emitCodePoint(n4 === 1 ? u5[t3] & ~qe3.VALUE_LENGTH : u5[t3 + 1], r4), n4 === 3 && this.emitCodePoint(u5[t3 + 2], r4), r4;
  }
  /**
   * Signal to the parser that the end of the input was reached.
   *
   * Remaining data will be emitted and relevant errors will be produced.
   *
   * @returns The number of characters consumed.
   */
  end() {
    var t3;
    switch (this.state) {
      case ae3.NamedEntity:
        return this.result !== 0 && (this.decodeMode !== we5.Attribute || this.result === this.treeIndex) ? this.emitNotTerminatedNamedEntity() : 0;
      // Otherwise, emit a numeric entity if we have one.
      case ae3.NumericDecimal:
        return this.emitNumericEntity(0, 2);
      case ae3.NumericHex:
        return this.emitNumericEntity(0, 3);
      case ae3.NumericStart:
        return (t3 = this.errors) === null || t3 === void 0 || t3.absenceOfDigitsInNumericCharacterReference(this.consumed), 0;
      case ae3.EntityStart:
        return 0;
    }
  }
};
function Zi2(e) {
  let t3 = "";
  const n4 = new Ji2(e, (r4) => t3 += mf(r4));
  return function(u5, a3) {
    let i5 = 0, o2 = 0;
    for (; (o2 = u5.indexOf("&", o2)) >= 0; ) {
      t3 += u5.slice(i5, o2), n4.startEntity(a3);
      const c6 = n4.write(
        u5,
        // Skip the "&"
        o2 + 1
      );
      if (c6 < 0) {
        i5 = o2 + n4.end();
        break;
      }
      i5 = o2 + c6, o2 = c6 === 0 ? i5 + 1 : i5;
    }
    const l3 = t3 + u5.slice(i5);
    return t3 = "", l3;
  };
}
function Af(e, t3, n4, r4) {
  const u5 = (t3 & qe3.BRANCH_LENGTH) >> 7, a3 = t3 & qe3.JUMP_TABLE;
  if (u5 === 0)
    return a3 !== 0 && r4 === a3 ? n4 : -1;
  if (a3) {
    const l3 = r4 - a3;
    return l3 < 0 || l3 >= u5 ? -1 : e[n4 + l3] - 1;
  }
  let i5 = n4, o2 = i5 + u5 - 1;
  for (; i5 <= o2; ) {
    const l3 = i5 + o2 >>> 1, c6 = e[l3];
    if (c6 < r4)
      i5 = l3 + 1;
    else if (c6 > r4)
      o2 = l3 - 1;
    else
      return e[l3 + u5];
  }
  return -1;
}
Zi2($i2);
Zi2(hf);
var y3;
(function(e) {
  e.HTML = "http://www.w3.org/1999/xhtml", e.MATHML = "http://www.w3.org/1998/Math/MathML", e.SVG = "http://www.w3.org/2000/svg", e.XLINK = "http://www.w3.org/1999/xlink", e.XML = "http://www.w3.org/XML/1998/namespace", e.XMLNS = "http://www.w3.org/2000/xmlns/";
})(y3 || (y3 = {}));
var et3;
(function(e) {
  e.TYPE = "type", e.ACTION = "action", e.ENCODING = "encoding", e.PROMPT = "prompt", e.NAME = "name", e.COLOR = "color", e.FACE = "face", e.SIZE = "size";
})(et3 || (et3 = {}));
var be4;
(function(e) {
  e.NO_QUIRKS = "no-quirks", e.QUIRKS = "quirks", e.LIMITED_QUIRKS = "limited-quirks";
})(be4 || (be4 = {}));
var _3;
(function(e) {
  e.A = "a", e.ADDRESS = "address", e.ANNOTATION_XML = "annotation-xml", e.APPLET = "applet", e.AREA = "area", e.ARTICLE = "article", e.ASIDE = "aside", e.B = "b", e.BASE = "base", e.BASEFONT = "basefont", e.BGSOUND = "bgsound", e.BIG = "big", e.BLOCKQUOTE = "blockquote", e.BODY = "body", e.BR = "br", e.BUTTON = "button", e.CAPTION = "caption", e.CENTER = "center", e.CODE = "code", e.COL = "col", e.COLGROUP = "colgroup", e.DD = "dd", e.DESC = "desc", e.DETAILS = "details", e.DIALOG = "dialog", e.DIR = "dir", e.DIV = "div", e.DL = "dl", e.DT = "dt", e.EM = "em", e.EMBED = "embed", e.FIELDSET = "fieldset", e.FIGCAPTION = "figcaption", e.FIGURE = "figure", e.FONT = "font", e.FOOTER = "footer", e.FOREIGN_OBJECT = "foreignObject", e.FORM = "form", e.FRAME = "frame", e.FRAMESET = "frameset", e.H1 = "h1", e.H2 = "h2", e.H3 = "h3", e.H4 = "h4", e.H5 = "h5", e.H6 = "h6", e.HEAD = "head", e.HEADER = "header", e.HGROUP = "hgroup", e.HR = "hr", e.HTML = "html", e.I = "i", e.IMG = "img", e.IMAGE = "image", e.INPUT = "input", e.IFRAME = "iframe", e.KEYGEN = "keygen", e.LABEL = "label", e.LI = "li", e.LINK = "link", e.LISTING = "listing", e.MAIN = "main", e.MALIGNMARK = "malignmark", e.MARQUEE = "marquee", e.MATH = "math", e.MENU = "menu", e.META = "meta", e.MGLYPH = "mglyph", e.MI = "mi", e.MO = "mo", e.MN = "mn", e.MS = "ms", e.MTEXT = "mtext", e.NAV = "nav", e.NOBR = "nobr", e.NOFRAMES = "noframes", e.NOEMBED = "noembed", e.NOSCRIPT = "noscript", e.OBJECT = "object", e.OL = "ol", e.OPTGROUP = "optgroup", e.OPTION = "option", e.P = "p", e.PARAM = "param", e.PLAINTEXT = "plaintext", e.PRE = "pre", e.RB = "rb", e.RP = "rp", e.RT = "rt", e.RTC = "rtc", e.RUBY = "ruby", e.S = "s", e.SCRIPT = "script", e.SEARCH = "search", e.SECTION = "section", e.SELECT = "select", e.SOURCE = "source", e.SMALL = "small", e.SPAN = "span", e.STRIKE = "strike", e.STRONG = "strong", e.STYLE = "style", e.SUB = "sub", e.SUMMARY = "summary", e.SUP = "sup", e.TABLE = "table", e.TBODY = "tbody", e.TEMPLATE = "template", e.TEXTAREA = "textarea", e.TFOOT = "tfoot", e.TD = "td", e.TH = "th", e.THEAD = "thead", e.TITLE = "title", e.TR = "tr", e.TRACK = "track", e.TT = "tt", e.U = "u", e.UL = "ul", e.SVG = "svg", e.VAR = "var", e.WBR = "wbr", e.XMP = "xmp";
})(_3 || (_3 = {}));
var s;
(function(e) {
  e[e.UNKNOWN = 0] = "UNKNOWN", e[e.A = 1] = "A", e[e.ADDRESS = 2] = "ADDRESS", e[e.ANNOTATION_XML = 3] = "ANNOTATION_XML", e[e.APPLET = 4] = "APPLET", e[e.AREA = 5] = "AREA", e[e.ARTICLE = 6] = "ARTICLE", e[e.ASIDE = 7] = "ASIDE", e[e.B = 8] = "B", e[e.BASE = 9] = "BASE", e[e.BASEFONT = 10] = "BASEFONT", e[e.BGSOUND = 11] = "BGSOUND", e[e.BIG = 12] = "BIG", e[e.BLOCKQUOTE = 13] = "BLOCKQUOTE", e[e.BODY = 14] = "BODY", e[e.BR = 15] = "BR", e[e.BUTTON = 16] = "BUTTON", e[e.CAPTION = 17] = "CAPTION", e[e.CENTER = 18] = "CENTER", e[e.CODE = 19] = "CODE", e[e.COL = 20] = "COL", e[e.COLGROUP = 21] = "COLGROUP", e[e.DD = 22] = "DD", e[e.DESC = 23] = "DESC", e[e.DETAILS = 24] = "DETAILS", e[e.DIALOG = 25] = "DIALOG", e[e.DIR = 26] = "DIR", e[e.DIV = 27] = "DIV", e[e.DL = 28] = "DL", e[e.DT = 29] = "DT", e[e.EM = 30] = "EM", e[e.EMBED = 31] = "EMBED", e[e.FIELDSET = 32] = "FIELDSET", e[e.FIGCAPTION = 33] = "FIGCAPTION", e[e.FIGURE = 34] = "FIGURE", e[e.FONT = 35] = "FONT", e[e.FOOTER = 36] = "FOOTER", e[e.FOREIGN_OBJECT = 37] = "FOREIGN_OBJECT", e[e.FORM = 38] = "FORM", e[e.FRAME = 39] = "FRAME", e[e.FRAMESET = 40] = "FRAMESET", e[e.H1 = 41] = "H1", e[e.H2 = 42] = "H2", e[e.H3 = 43] = "H3", e[e.H4 = 44] = "H4", e[e.H5 = 45] = "H5", e[e.H6 = 46] = "H6", e[e.HEAD = 47] = "HEAD", e[e.HEADER = 48] = "HEADER", e[e.HGROUP = 49] = "HGROUP", e[e.HR = 50] = "HR", e[e.HTML = 51] = "HTML", e[e.I = 52] = "I", e[e.IMG = 53] = "IMG", e[e.IMAGE = 54] = "IMAGE", e[e.INPUT = 55] = "INPUT", e[e.IFRAME = 56] = "IFRAME", e[e.KEYGEN = 57] = "KEYGEN", e[e.LABEL = 58] = "LABEL", e[e.LI = 59] = "LI", e[e.LINK = 60] = "LINK", e[e.LISTING = 61] = "LISTING", e[e.MAIN = 62] = "MAIN", e[e.MALIGNMARK = 63] = "MALIGNMARK", e[e.MARQUEE = 64] = "MARQUEE", e[e.MATH = 65] = "MATH", e[e.MENU = 66] = "MENU", e[e.META = 67] = "META", e[e.MGLYPH = 68] = "MGLYPH", e[e.MI = 69] = "MI", e[e.MO = 70] = "MO", e[e.MN = 71] = "MN", e[e.MS = 72] = "MS", e[e.MTEXT = 73] = "MTEXT", e[e.NAV = 74] = "NAV", e[e.NOBR = 75] = "NOBR", e[e.NOFRAMES = 76] = "NOFRAMES", e[e.NOEMBED = 77] = "NOEMBED", e[e.NOSCRIPT = 78] = "NOSCRIPT", e[e.OBJECT = 79] = "OBJECT", e[e.OL = 80] = "OL", e[e.OPTGROUP = 81] = "OPTGROUP", e[e.OPTION = 82] = "OPTION", e[e.P = 83] = "P", e[e.PARAM = 84] = "PARAM", e[e.PLAINTEXT = 85] = "PLAINTEXT", e[e.PRE = 86] = "PRE", e[e.RB = 87] = "RB", e[e.RP = 88] = "RP", e[e.RT = 89] = "RT", e[e.RTC = 90] = "RTC", e[e.RUBY = 91] = "RUBY", e[e.S = 92] = "S", e[e.SCRIPT = 93] = "SCRIPT", e[e.SEARCH = 94] = "SEARCH", e[e.SECTION = 95] = "SECTION", e[e.SELECT = 96] = "SELECT", e[e.SOURCE = 97] = "SOURCE", e[e.SMALL = 98] = "SMALL", e[e.SPAN = 99] = "SPAN", e[e.STRIKE = 100] = "STRIKE", e[e.STRONG = 101] = "STRONG", e[e.STYLE = 102] = "STYLE", e[e.SUB = 103] = "SUB", e[e.SUMMARY = 104] = "SUMMARY", e[e.SUP = 105] = "SUP", e[e.TABLE = 106] = "TABLE", e[e.TBODY = 107] = "TBODY", e[e.TEMPLATE = 108] = "TEMPLATE", e[e.TEXTAREA = 109] = "TEXTAREA", e[e.TFOOT = 110] = "TFOOT", e[e.TD = 111] = "TD", e[e.TH = 112] = "TH", e[e.THEAD = 113] = "THEAD", e[e.TITLE = 114] = "TITLE", e[e.TR = 115] = "TR", e[e.TRACK = 116] = "TRACK", e[e.TT = 117] = "TT", e[e.U = 118] = "U", e[e.UL = 119] = "UL", e[e.SVG = 120] = "SVG", e[e.VAR = 121] = "VAR", e[e.WBR = 122] = "WBR", e[e.XMP = 123] = "XMP";
})(s || (s = {}));
var _f = /* @__PURE__ */ new Map([
  [_3.A, s.A],
  [_3.ADDRESS, s.ADDRESS],
  [_3.ANNOTATION_XML, s.ANNOTATION_XML],
  [_3.APPLET, s.APPLET],
  [_3.AREA, s.AREA],
  [_3.ARTICLE, s.ARTICLE],
  [_3.ASIDE, s.ASIDE],
  [_3.B, s.B],
  [_3.BASE, s.BASE],
  [_3.BASEFONT, s.BASEFONT],
  [_3.BGSOUND, s.BGSOUND],
  [_3.BIG, s.BIG],
  [_3.BLOCKQUOTE, s.BLOCKQUOTE],
  [_3.BODY, s.BODY],
  [_3.BR, s.BR],
  [_3.BUTTON, s.BUTTON],
  [_3.CAPTION, s.CAPTION],
  [_3.CENTER, s.CENTER],
  [_3.CODE, s.CODE],
  [_3.COL, s.COL],
  [_3.COLGROUP, s.COLGROUP],
  [_3.DD, s.DD],
  [_3.DESC, s.DESC],
  [_3.DETAILS, s.DETAILS],
  [_3.DIALOG, s.DIALOG],
  [_3.DIR, s.DIR],
  [_3.DIV, s.DIV],
  [_3.DL, s.DL],
  [_3.DT, s.DT],
  [_3.EM, s.EM],
  [_3.EMBED, s.EMBED],
  [_3.FIELDSET, s.FIELDSET],
  [_3.FIGCAPTION, s.FIGCAPTION],
  [_3.FIGURE, s.FIGURE],
  [_3.FONT, s.FONT],
  [_3.FOOTER, s.FOOTER],
  [_3.FOREIGN_OBJECT, s.FOREIGN_OBJECT],
  [_3.FORM, s.FORM],
  [_3.FRAME, s.FRAME],
  [_3.FRAMESET, s.FRAMESET],
  [_3.H1, s.H1],
  [_3.H2, s.H2],
  [_3.H3, s.H3],
  [_3.H4, s.H4],
  [_3.H5, s.H5],
  [_3.H6, s.H6],
  [_3.HEAD, s.HEAD],
  [_3.HEADER, s.HEADER],
  [_3.HGROUP, s.HGROUP],
  [_3.HR, s.HR],
  [_3.HTML, s.HTML],
  [_3.I, s.I],
  [_3.IMG, s.IMG],
  [_3.IMAGE, s.IMAGE],
  [_3.INPUT, s.INPUT],
  [_3.IFRAME, s.IFRAME],
  [_3.KEYGEN, s.KEYGEN],
  [_3.LABEL, s.LABEL],
  [_3.LI, s.LI],
  [_3.LINK, s.LINK],
  [_3.LISTING, s.LISTING],
  [_3.MAIN, s.MAIN],
  [_3.MALIGNMARK, s.MALIGNMARK],
  [_3.MARQUEE, s.MARQUEE],
  [_3.MATH, s.MATH],
  [_3.MENU, s.MENU],
  [_3.META, s.META],
  [_3.MGLYPH, s.MGLYPH],
  [_3.MI, s.MI],
  [_3.MO, s.MO],
  [_3.MN, s.MN],
  [_3.MS, s.MS],
  [_3.MTEXT, s.MTEXT],
  [_3.NAV, s.NAV],
  [_3.NOBR, s.NOBR],
  [_3.NOFRAMES, s.NOFRAMES],
  [_3.NOEMBED, s.NOEMBED],
  [_3.NOSCRIPT, s.NOSCRIPT],
  [_3.OBJECT, s.OBJECT],
  [_3.OL, s.OL],
  [_3.OPTGROUP, s.OPTGROUP],
  [_3.OPTION, s.OPTION],
  [_3.P, s.P],
  [_3.PARAM, s.PARAM],
  [_3.PLAINTEXT, s.PLAINTEXT],
  [_3.PRE, s.PRE],
  [_3.RB, s.RB],
  [_3.RP, s.RP],
  [_3.RT, s.RT],
  [_3.RTC, s.RTC],
  [_3.RUBY, s.RUBY],
  [_3.S, s.S],
  [_3.SCRIPT, s.SCRIPT],
  [_3.SEARCH, s.SEARCH],
  [_3.SECTION, s.SECTION],
  [_3.SELECT, s.SELECT],
  [_3.SOURCE, s.SOURCE],
  [_3.SMALL, s.SMALL],
  [_3.SPAN, s.SPAN],
  [_3.STRIKE, s.STRIKE],
  [_3.STRONG, s.STRONG],
  [_3.STYLE, s.STYLE],
  [_3.SUB, s.SUB],
  [_3.SUMMARY, s.SUMMARY],
  [_3.SUP, s.SUP],
  [_3.TABLE, s.TABLE],
  [_3.TBODY, s.TBODY],
  [_3.TEMPLATE, s.TEMPLATE],
  [_3.TEXTAREA, s.TEXTAREA],
  [_3.TFOOT, s.TFOOT],
  [_3.TD, s.TD],
  [_3.TH, s.TH],
  [_3.THEAD, s.THEAD],
  [_3.TITLE, s.TITLE],
  [_3.TR, s.TR],
  [_3.TRACK, s.TRACK],
  [_3.TT, s.TT],
  [_3.U, s.U],
  [_3.UL, s.UL],
  [_3.SVG, s.SVG],
  [_3.VAR, s.VAR],
  [_3.WBR, s.WBR],
  [_3.XMP, s.XMP]
]);
function At2(e) {
  var t3;
  return (t3 = _f.get(e)) !== null && t3 !== void 0 ? t3 : s.UNKNOWN;
}
var R3 = s;
var Cf = {
  [y3.HTML]: /* @__PURE__ */ new Set([
    R3.ADDRESS,
    R3.APPLET,
    R3.AREA,
    R3.ARTICLE,
    R3.ASIDE,
    R3.BASE,
    R3.BASEFONT,
    R3.BGSOUND,
    R3.BLOCKQUOTE,
    R3.BODY,
    R3.BR,
    R3.BUTTON,
    R3.CAPTION,
    R3.CENTER,
    R3.COL,
    R3.COLGROUP,
    R3.DD,
    R3.DETAILS,
    R3.DIR,
    R3.DIV,
    R3.DL,
    R3.DT,
    R3.EMBED,
    R3.FIELDSET,
    R3.FIGCAPTION,
    R3.FIGURE,
    R3.FOOTER,
    R3.FORM,
    R3.FRAME,
    R3.FRAMESET,
    R3.H1,
    R3.H2,
    R3.H3,
    R3.H4,
    R3.H5,
    R3.H6,
    R3.HEAD,
    R3.HEADER,
    R3.HGROUP,
    R3.HR,
    R3.HTML,
    R3.IFRAME,
    R3.IMG,
    R3.INPUT,
    R3.LI,
    R3.LINK,
    R3.LISTING,
    R3.MAIN,
    R3.MARQUEE,
    R3.MENU,
    R3.META,
    R3.NAV,
    R3.NOEMBED,
    R3.NOFRAMES,
    R3.NOSCRIPT,
    R3.OBJECT,
    R3.OL,
    R3.P,
    R3.PARAM,
    R3.PLAINTEXT,
    R3.PRE,
    R3.SCRIPT,
    R3.SECTION,
    R3.SELECT,
    R3.SOURCE,
    R3.STYLE,
    R3.SUMMARY,
    R3.TABLE,
    R3.TBODY,
    R3.TD,
    R3.TEMPLATE,
    R3.TEXTAREA,
    R3.TFOOT,
    R3.TH,
    R3.THEAD,
    R3.TITLE,
    R3.TR,
    R3.TRACK,
    R3.UL,
    R3.WBR,
    R3.XMP
  ]),
  [y3.MATHML]: /* @__PURE__ */ new Set([R3.MI, R3.MO, R3.MN, R3.MS, R3.MTEXT, R3.ANNOTATION_XML]),
  [y3.SVG]: /* @__PURE__ */ new Set([R3.TITLE, R3.FOREIGN_OBJECT, R3.DESC]),
  [y3.XLINK]: /* @__PURE__ */ new Set(),
  [y3.XML]: /* @__PURE__ */ new Set(),
  [y3.XMLNS]: /* @__PURE__ */ new Set()
};
var ur3 = /* @__PURE__ */ new Set([R3.H1, R3.H2, R3.H3, R3.H4, R3.H5, R3.H6]);
_3.STYLE, _3.SCRIPT, _3.XMP, _3.IFRAME, _3.NOEMBED, _3.NOFRAMES, _3.PLAINTEXT;
var E3;
(function(e) {
  e[e.DATA = 0] = "DATA", e[e.RCDATA = 1] = "RCDATA", e[e.RAWTEXT = 2] = "RAWTEXT", e[e.SCRIPT_DATA = 3] = "SCRIPT_DATA", e[e.PLAINTEXT = 4] = "PLAINTEXT", e[e.TAG_OPEN = 5] = "TAG_OPEN", e[e.END_TAG_OPEN = 6] = "END_TAG_OPEN", e[e.TAG_NAME = 7] = "TAG_NAME", e[e.RCDATA_LESS_THAN_SIGN = 8] = "RCDATA_LESS_THAN_SIGN", e[e.RCDATA_END_TAG_OPEN = 9] = "RCDATA_END_TAG_OPEN", e[e.RCDATA_END_TAG_NAME = 10] = "RCDATA_END_TAG_NAME", e[e.RAWTEXT_LESS_THAN_SIGN = 11] = "RAWTEXT_LESS_THAN_SIGN", e[e.RAWTEXT_END_TAG_OPEN = 12] = "RAWTEXT_END_TAG_OPEN", e[e.RAWTEXT_END_TAG_NAME = 13] = "RAWTEXT_END_TAG_NAME", e[e.SCRIPT_DATA_LESS_THAN_SIGN = 14] = "SCRIPT_DATA_LESS_THAN_SIGN", e[e.SCRIPT_DATA_END_TAG_OPEN = 15] = "SCRIPT_DATA_END_TAG_OPEN", e[e.SCRIPT_DATA_END_TAG_NAME = 16] = "SCRIPT_DATA_END_TAG_NAME", e[e.SCRIPT_DATA_ESCAPE_START = 17] = "SCRIPT_DATA_ESCAPE_START", e[e.SCRIPT_DATA_ESCAPE_START_DASH = 18] = "SCRIPT_DATA_ESCAPE_START_DASH", e[e.SCRIPT_DATA_ESCAPED = 19] = "SCRIPT_DATA_ESCAPED", e[e.SCRIPT_DATA_ESCAPED_DASH = 20] = "SCRIPT_DATA_ESCAPED_DASH", e[e.SCRIPT_DATA_ESCAPED_DASH_DASH = 21] = "SCRIPT_DATA_ESCAPED_DASH_DASH", e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN = 22] = "SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN", e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN = 23] = "SCRIPT_DATA_ESCAPED_END_TAG_OPEN", e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME = 24] = "SCRIPT_DATA_ESCAPED_END_TAG_NAME", e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START = 25] = "SCRIPT_DATA_DOUBLE_ESCAPE_START", e[e.SCRIPT_DATA_DOUBLE_ESCAPED = 26] = "SCRIPT_DATA_DOUBLE_ESCAPED", e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH = 27] = "SCRIPT_DATA_DOUBLE_ESCAPED_DASH", e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH = 28] = "SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH", e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN = 29] = "SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN", e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END = 30] = "SCRIPT_DATA_DOUBLE_ESCAPE_END", e[e.BEFORE_ATTRIBUTE_NAME = 31] = "BEFORE_ATTRIBUTE_NAME", e[e.ATTRIBUTE_NAME = 32] = "ATTRIBUTE_NAME", e[e.AFTER_ATTRIBUTE_NAME = 33] = "AFTER_ATTRIBUTE_NAME", e[e.BEFORE_ATTRIBUTE_VALUE = 34] = "BEFORE_ATTRIBUTE_VALUE", e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED = 35] = "ATTRIBUTE_VALUE_DOUBLE_QUOTED", e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED = 36] = "ATTRIBUTE_VALUE_SINGLE_QUOTED", e[e.ATTRIBUTE_VALUE_UNQUOTED = 37] = "ATTRIBUTE_VALUE_UNQUOTED", e[e.AFTER_ATTRIBUTE_VALUE_QUOTED = 38] = "AFTER_ATTRIBUTE_VALUE_QUOTED", e[e.SELF_CLOSING_START_TAG = 39] = "SELF_CLOSING_START_TAG", e[e.BOGUS_COMMENT = 40] = "BOGUS_COMMENT", e[e.MARKUP_DECLARATION_OPEN = 41] = "MARKUP_DECLARATION_OPEN", e[e.COMMENT_START = 42] = "COMMENT_START", e[e.COMMENT_START_DASH = 43] = "COMMENT_START_DASH", e[e.COMMENT = 44] = "COMMENT", e[e.COMMENT_LESS_THAN_SIGN = 45] = "COMMENT_LESS_THAN_SIGN", e[e.COMMENT_LESS_THAN_SIGN_BANG = 46] = "COMMENT_LESS_THAN_SIGN_BANG", e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH = 47] = "COMMENT_LESS_THAN_SIGN_BANG_DASH", e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH = 48] = "COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH", e[e.COMMENT_END_DASH = 49] = "COMMENT_END_DASH", e[e.COMMENT_END = 50] = "COMMENT_END", e[e.COMMENT_END_BANG = 51] = "COMMENT_END_BANG", e[e.DOCTYPE = 52] = "DOCTYPE", e[e.BEFORE_DOCTYPE_NAME = 53] = "BEFORE_DOCTYPE_NAME", e[e.DOCTYPE_NAME = 54] = "DOCTYPE_NAME", e[e.AFTER_DOCTYPE_NAME = 55] = "AFTER_DOCTYPE_NAME", e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD = 56] = "AFTER_DOCTYPE_PUBLIC_KEYWORD", e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER = 57] = "BEFORE_DOCTYPE_PUBLIC_IDENTIFIER", e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED = 58] = "DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED", e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED = 59] = "DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED", e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER = 60] = "AFTER_DOCTYPE_PUBLIC_IDENTIFIER", e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS = 61] = "BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS", e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD = 62] = "AFTER_DOCTYPE_SYSTEM_KEYWORD", e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER = 63] = "BEFORE_DOCTYPE_SYSTEM_IDENTIFIER", e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED = 64] = "DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED", e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED = 65] = "DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED", e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER = 66] = "AFTER_DOCTYPE_SYSTEM_IDENTIFIER", e[e.BOGUS_DOCTYPE = 67] = "BOGUS_DOCTYPE", e[e.CDATA_SECTION = 68] = "CDATA_SECTION", e[e.CDATA_SECTION_BRACKET = 69] = "CDATA_SECTION_BRACKET", e[e.CDATA_SECTION_END = 70] = "CDATA_SECTION_END", e[e.CHARACTER_REFERENCE = 71] = "CHARACTER_REFERENCE", e[e.AMBIGUOUS_AMPERSAND = 72] = "AMBIGUOUS_AMPERSAND";
})(E3 || (E3 = {}));
var re3 = {
  DATA: E3.DATA,
  RCDATA: E3.RCDATA,
  RAWTEXT: E3.RAWTEXT,
  SCRIPT_DATA: E3.SCRIPT_DATA,
  PLAINTEXT: E3.PLAINTEXT,
  CDATA_SECTION: E3.CDATA_SECTION
};
function If(e) {
  return e >= m2.DIGIT_0 && e <= m2.DIGIT_9;
}
function Lt2(e) {
  return e >= m2.LATIN_CAPITAL_A && e <= m2.LATIN_CAPITAL_Z;
}
function xf(e) {
  return e >= m2.LATIN_SMALL_A && e <= m2.LATIN_SMALL_Z;
}
function ve2(e) {
  return xf(e) || Lt2(e);
}
function Ou2(e) {
  return ve2(e) || If(e);
}
function Jt2(e) {
  return e + 32;
}
function ea2(e) {
  return e === m2.SPACE || e === m2.LINE_FEED || e === m2.TABULATION || e === m2.FORM_FEED;
}
function yu2(e) {
  return ea2(e) || e === m2.SOLIDUS || e === m2.GREATER_THAN_SIGN;
}
function Nf(e) {
  return e === m2.NULL ? C3.nullCharacterReference : e > 1114111 ? C3.characterReferenceOutsideUnicodeRange : Qi2(e) ? C3.surrogateCharacterReference : Xi2(e) ? C3.noncharacterCharacterReference : Gi2(e) || e === m2.CARRIAGE_RETURN ? C3.controlCharacterReference : null;
}
var Sf = class {
  constructor(t3, n4) {
    this.options = t3, this.handler = n4, this.paused = false, this.inLoop = false, this.inForeignNode = false, this.lastStartTagName = "", this.active = false, this.state = E3.DATA, this.returnState = E3.DATA, this.entityStartPos = 0, this.consumedAfterSnapshot = -1, this.currentCharacterToken = null, this.currentToken = null, this.currentAttr = { name: "", value: "" }, this.preprocessor = new ff(n4), this.currentLocation = this.getCurrentLocation(-1), this.entityDecoder = new Ji2($i2, (r4, u5) => {
      this.preprocessor.pos = this.entityStartPos + u5 - 1, this._flushCodePointConsumedAsCharacterReference(r4);
    }, n4.onParseError ? {
      missingSemicolonAfterCharacterReference: () => {
        this._err(C3.missingSemicolonAfterCharacterReference, 1);
      },
      absenceOfDigitsInNumericCharacterReference: (r4) => {
        this._err(C3.absenceOfDigitsInNumericCharacterReference, this.entityStartPos - this.preprocessor.pos + r4);
      },
      validateNumericCharacterReference: (r4) => {
        const u5 = Nf(r4);
        u5 && this._err(u5, 1);
      }
    } : void 0);
  }
  //Errors
  _err(t3, n4 = 0) {
    var r4, u5;
    (u5 = (r4 = this.handler).onParseError) === null || u5 === void 0 || u5.call(r4, this.preprocessor.getError(t3, n4));
  }
  // NOTE: `offset` may never run across line boundaries.
  getCurrentLocation(t3) {
    return this.options.sourceCodeLocationInfo ? {
      startLine: this.preprocessor.line,
      startCol: this.preprocessor.col - t3,
      startOffset: this.preprocessor.offset - t3,
      endLine: -1,
      endCol: -1,
      endOffset: -1
    } : null;
  }
  _runParsingLoop() {
    if (!this.inLoop) {
      for (this.inLoop = true; this.active && !this.paused; ) {
        this.consumedAfterSnapshot = 0;
        const t3 = this._consume();
        this._ensureHibernation() || this._callState(t3);
      }
      this.inLoop = false;
    }
  }
  //API
  pause() {
    this.paused = true;
  }
  resume(t3) {
    if (!this.paused)
      throw new Error("Parser was already resumed");
    this.paused = false, !this.inLoop && (this._runParsingLoop(), this.paused || t3?.());
  }
  write(t3, n4, r4) {
    this.active = true, this.preprocessor.write(t3, n4), this._runParsingLoop(), this.paused || r4?.();
  }
  insertHtmlAtCurrentPos(t3) {
    this.active = true, this.preprocessor.insertHtmlAtCurrentPos(t3), this._runParsingLoop();
  }
  //Hibernation
  _ensureHibernation() {
    return this.preprocessor.endOfChunkHit ? (this.preprocessor.retreat(this.consumedAfterSnapshot), this.consumedAfterSnapshot = 0, this.active = false, true) : false;
  }
  //Consumption
  _consume() {
    return this.consumedAfterSnapshot++, this.preprocessor.advance();
  }
  _advanceBy(t3) {
    this.consumedAfterSnapshot += t3;
    for (let n4 = 0; n4 < t3; n4++)
      this.preprocessor.advance();
  }
  _consumeSequenceIfMatch(t3, n4) {
    return this.preprocessor.startsWith(t3, n4) ? (this._advanceBy(t3.length - 1), true) : false;
  }
  //Token creation
  _createStartTagToken() {
    this.currentToken = {
      type: q4.START_TAG,
      tagName: "",
      tagID: s.UNKNOWN,
      selfClosing: false,
      ackSelfClosing: false,
      attrs: [],
      location: this.getCurrentLocation(1)
    };
  }
  _createEndTagToken() {
    this.currentToken = {
      type: q4.END_TAG,
      tagName: "",
      tagID: s.UNKNOWN,
      selfClosing: false,
      ackSelfClosing: false,
      attrs: [],
      location: this.getCurrentLocation(2)
    };
  }
  _createCommentToken(t3) {
    this.currentToken = {
      type: q4.COMMENT,
      data: "",
      location: this.getCurrentLocation(t3)
    };
  }
  _createDoctypeToken(t3) {
    this.currentToken = {
      type: q4.DOCTYPE,
      name: t3,
      forceQuirks: false,
      publicId: null,
      systemId: null,
      location: this.currentLocation
    };
  }
  _createCharacterToken(t3, n4) {
    this.currentCharacterToken = {
      type: t3,
      chars: n4,
      location: this.currentLocation
    };
  }
  //Tag attributes
  _createAttr(t3) {
    this.currentAttr = {
      name: t3,
      value: ""
    }, this.currentLocation = this.getCurrentLocation(0);
  }
  _leaveAttrName() {
    var t3, n4;
    const r4 = this.currentToken;
    if (Ki2(r4, this.currentAttr.name) === null) {
      if (r4.attrs.push(this.currentAttr), r4.location && this.currentLocation) {
        const u5 = (t3 = (n4 = r4.location).attrs) !== null && t3 !== void 0 ? t3 : n4.attrs = /* @__PURE__ */ Object.create(null);
        u5[this.currentAttr.name] = this.currentLocation, this._leaveAttrValue();
      }
    } else
      this._err(C3.duplicateAttribute);
  }
  _leaveAttrValue() {
    this.currentLocation && (this.currentLocation.endLine = this.preprocessor.line, this.currentLocation.endCol = this.preprocessor.col, this.currentLocation.endOffset = this.preprocessor.offset);
  }
  //Token emission
  prepareToken(t3) {
    this._emitCurrentCharacterToken(t3.location), this.currentToken = null, t3.location && (t3.location.endLine = this.preprocessor.line, t3.location.endCol = this.preprocessor.col + 1, t3.location.endOffset = this.preprocessor.offset + 1), this.currentLocation = this.getCurrentLocation(-1);
  }
  emitCurrentTagToken() {
    const t3 = this.currentToken;
    this.prepareToken(t3), t3.tagID = At2(t3.tagName), t3.type === q4.START_TAG ? (this.lastStartTagName = t3.tagName, this.handler.onStartTag(t3)) : (t3.attrs.length > 0 && this._err(C3.endTagWithAttributes), t3.selfClosing && this._err(C3.endTagWithTrailingSolidus), this.handler.onEndTag(t3)), this.preprocessor.dropParsedChunk();
  }
  emitCurrentComment(t3) {
    this.prepareToken(t3), this.handler.onComment(t3), this.preprocessor.dropParsedChunk();
  }
  emitCurrentDoctype(t3) {
    this.prepareToken(t3), this.handler.onDoctype(t3), this.preprocessor.dropParsedChunk();
  }
  _emitCurrentCharacterToken(t3) {
    if (this.currentCharacterToken) {
      switch (t3 && this.currentCharacterToken.location && (this.currentCharacterToken.location.endLine = t3.startLine, this.currentCharacterToken.location.endCol = t3.startCol, this.currentCharacterToken.location.endOffset = t3.startOffset), this.currentCharacterToken.type) {
        case q4.CHARACTER: {
          this.handler.onCharacter(this.currentCharacterToken);
          break;
        }
        case q4.NULL_CHARACTER: {
          this.handler.onNullCharacter(this.currentCharacterToken);
          break;
        }
        case q4.WHITESPACE_CHARACTER: {
          this.handler.onWhitespaceCharacter(this.currentCharacterToken);
          break;
        }
      }
      this.currentCharacterToken = null;
    }
  }
  _emitEOFToken() {
    const t3 = this.getCurrentLocation(0);
    t3 && (t3.endLine = t3.startLine, t3.endCol = t3.startCol, t3.endOffset = t3.startOffset), this._emitCurrentCharacterToken(t3), this.handler.onEof({ type: q4.EOF, location: t3 }), this.active = false;
  }
  //Characters emission
  //OPTIMIZATION: The specification uses only one type of character token (one token per character).
  //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.
  //If we have a sequence of characters that belong to the same group, the parser can process it
  //as a single solid character token.
  //So, there are 3 types of character tokens in parse5:
  //1)TokenType.NULL_CHARACTER - \u0000-character sequences (e.g. '\u0000\u0000\u0000')
  //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\n  \r\t   \f')
  //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')
  _appendCharToCurrentCharacterToken(t3, n4) {
    if (this.currentCharacterToken)
      if (this.currentCharacterToken.type === t3) {
        this.currentCharacterToken.chars += n4;
        return;
      } else
        this.currentLocation = this.getCurrentLocation(0), this._emitCurrentCharacterToken(this.currentLocation), this.preprocessor.dropParsedChunk();
    this._createCharacterToken(t3, n4);
  }
  _emitCodePoint(t3) {
    const n4 = ea2(t3) ? q4.WHITESPACE_CHARACTER : t3 === m2.NULL ? q4.NULL_CHARACTER : q4.CHARACTER;
    this._appendCharToCurrentCharacterToken(n4, String.fromCodePoint(t3));
  }
  //NOTE: used when we emit characters explicitly.
  //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.
  _emitChars(t3) {
    this._appendCharToCurrentCharacterToken(q4.CHARACTER, t3);
  }
  // Character reference helpers
  _startCharacterReference() {
    this.returnState = this.state, this.state = E3.CHARACTER_REFERENCE, this.entityStartPos = this.preprocessor.pos, this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute() ? we5.Attribute : we5.Legacy);
  }
  _isCharacterReferenceInAttribute() {
    return this.returnState === E3.ATTRIBUTE_VALUE_DOUBLE_QUOTED || this.returnState === E3.ATTRIBUTE_VALUE_SINGLE_QUOTED || this.returnState === E3.ATTRIBUTE_VALUE_UNQUOTED;
  }
  _flushCodePointConsumedAsCharacterReference(t3) {
    this._isCharacterReferenceInAttribute() ? this.currentAttr.value += String.fromCodePoint(t3) : this._emitCodePoint(t3);
  }
  // Calling states this way turns out to be much faster than any other approach.
  _callState(t3) {
    switch (this.state) {
      case E3.DATA: {
        this._stateData(t3);
        break;
      }
      case E3.RCDATA: {
        this._stateRcdata(t3);
        break;
      }
      case E3.RAWTEXT: {
        this._stateRawtext(t3);
        break;
      }
      case E3.SCRIPT_DATA: {
        this._stateScriptData(t3);
        break;
      }
      case E3.PLAINTEXT: {
        this._statePlaintext(t3);
        break;
      }
      case E3.TAG_OPEN: {
        this._stateTagOpen(t3);
        break;
      }
      case E3.END_TAG_OPEN: {
        this._stateEndTagOpen(t3);
        break;
      }
      case E3.TAG_NAME: {
        this._stateTagName(t3);
        break;
      }
      case E3.RCDATA_LESS_THAN_SIGN: {
        this._stateRcdataLessThanSign(t3);
        break;
      }
      case E3.RCDATA_END_TAG_OPEN: {
        this._stateRcdataEndTagOpen(t3);
        break;
      }
      case E3.RCDATA_END_TAG_NAME: {
        this._stateRcdataEndTagName(t3);
        break;
      }
      case E3.RAWTEXT_LESS_THAN_SIGN: {
        this._stateRawtextLessThanSign(t3);
        break;
      }
      case E3.RAWTEXT_END_TAG_OPEN: {
        this._stateRawtextEndTagOpen(t3);
        break;
      }
      case E3.RAWTEXT_END_TAG_NAME: {
        this._stateRawtextEndTagName(t3);
        break;
      }
      case E3.SCRIPT_DATA_LESS_THAN_SIGN: {
        this._stateScriptDataLessThanSign(t3);
        break;
      }
      case E3.SCRIPT_DATA_END_TAG_OPEN: {
        this._stateScriptDataEndTagOpen(t3);
        break;
      }
      case E3.SCRIPT_DATA_END_TAG_NAME: {
        this._stateScriptDataEndTagName(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPE_START: {
        this._stateScriptDataEscapeStart(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPE_START_DASH: {
        this._stateScriptDataEscapeStartDash(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPED: {
        this._stateScriptDataEscaped(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPED_DASH: {
        this._stateScriptDataEscapedDash(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPED_DASH_DASH: {
        this._stateScriptDataEscapedDashDash(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {
        this._stateScriptDataEscapedLessThanSign(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {
        this._stateScriptDataEscapedEndTagOpen(t3);
        break;
      }
      case E3.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {
        this._stateScriptDataEscapedEndTagName(t3);
        break;
      }
      case E3.SCRIPT_DATA_DOUBLE_ESCAPE_START: {
        this._stateScriptDataDoubleEscapeStart(t3);
        break;
      }
      case E3.SCRIPT_DATA_DOUBLE_ESCAPED: {
        this._stateScriptDataDoubleEscaped(t3);
        break;
      }
      case E3.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {
        this._stateScriptDataDoubleEscapedDash(t3);
        break;
      }
      case E3.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {
        this._stateScriptDataDoubleEscapedDashDash(t3);
        break;
      }
      case E3.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {
        this._stateScriptDataDoubleEscapedLessThanSign(t3);
        break;
      }
      case E3.SCRIPT_DATA_DOUBLE_ESCAPE_END: {
        this._stateScriptDataDoubleEscapeEnd(t3);
        break;
      }
      case E3.BEFORE_ATTRIBUTE_NAME: {
        this._stateBeforeAttributeName(t3);
        break;
      }
      case E3.ATTRIBUTE_NAME: {
        this._stateAttributeName(t3);
        break;
      }
      case E3.AFTER_ATTRIBUTE_NAME: {
        this._stateAfterAttributeName(t3);
        break;
      }
      case E3.BEFORE_ATTRIBUTE_VALUE: {
        this._stateBeforeAttributeValue(t3);
        break;
      }
      case E3.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {
        this._stateAttributeValueDoubleQuoted(t3);
        break;
      }
      case E3.ATTRIBUTE_VALUE_SINGLE_QUOTED: {
        this._stateAttributeValueSingleQuoted(t3);
        break;
      }
      case E3.ATTRIBUTE_VALUE_UNQUOTED: {
        this._stateAttributeValueUnquoted(t3);
        break;
      }
      case E3.AFTER_ATTRIBUTE_VALUE_QUOTED: {
        this._stateAfterAttributeValueQuoted(t3);
        break;
      }
      case E3.SELF_CLOSING_START_TAG: {
        this._stateSelfClosingStartTag(t3);
        break;
      }
      case E3.BOGUS_COMMENT: {
        this._stateBogusComment(t3);
        break;
      }
      case E3.MARKUP_DECLARATION_OPEN: {
        this._stateMarkupDeclarationOpen(t3);
        break;
      }
      case E3.COMMENT_START: {
        this._stateCommentStart(t3);
        break;
      }
      case E3.COMMENT_START_DASH: {
        this._stateCommentStartDash(t3);
        break;
      }
      case E3.COMMENT: {
        this._stateComment(t3);
        break;
      }
      case E3.COMMENT_LESS_THAN_SIGN: {
        this._stateCommentLessThanSign(t3);
        break;
      }
      case E3.COMMENT_LESS_THAN_SIGN_BANG: {
        this._stateCommentLessThanSignBang(t3);
        break;
      }
      case E3.COMMENT_LESS_THAN_SIGN_BANG_DASH: {
        this._stateCommentLessThanSignBangDash(t3);
        break;
      }
      case E3.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {
        this._stateCommentLessThanSignBangDashDash(t3);
        break;
      }
      case E3.COMMENT_END_DASH: {
        this._stateCommentEndDash(t3);
        break;
      }
      case E3.COMMENT_END: {
        this._stateCommentEnd(t3);
        break;
      }
      case E3.COMMENT_END_BANG: {
        this._stateCommentEndBang(t3);
        break;
      }
      case E3.DOCTYPE: {
        this._stateDoctype(t3);
        break;
      }
      case E3.BEFORE_DOCTYPE_NAME: {
        this._stateBeforeDoctypeName(t3);
        break;
      }
      case E3.DOCTYPE_NAME: {
        this._stateDoctypeName(t3);
        break;
      }
      case E3.AFTER_DOCTYPE_NAME: {
        this._stateAfterDoctypeName(t3);
        break;
      }
      case E3.AFTER_DOCTYPE_PUBLIC_KEYWORD: {
        this._stateAfterDoctypePublicKeyword(t3);
        break;
      }
      case E3.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {
        this._stateBeforeDoctypePublicIdentifier(t3);
        break;
      }
      case E3.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {
        this._stateDoctypePublicIdentifierDoubleQuoted(t3);
        break;
      }
      case E3.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {
        this._stateDoctypePublicIdentifierSingleQuoted(t3);
        break;
      }
      case E3.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {
        this._stateAfterDoctypePublicIdentifier(t3);
        break;
      }
      case E3.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {
        this._stateBetweenDoctypePublicAndSystemIdentifiers(t3);
        break;
      }
      case E3.AFTER_DOCTYPE_SYSTEM_KEYWORD: {
        this._stateAfterDoctypeSystemKeyword(t3);
        break;
      }
      case E3.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {
        this._stateBeforeDoctypeSystemIdentifier(t3);
        break;
      }
      case E3.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {
        this._stateDoctypeSystemIdentifierDoubleQuoted(t3);
        break;
      }
      case E3.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {
        this._stateDoctypeSystemIdentifierSingleQuoted(t3);
        break;
      }
      case E3.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {
        this._stateAfterDoctypeSystemIdentifier(t3);
        break;
      }
      case E3.BOGUS_DOCTYPE: {
        this._stateBogusDoctype(t3);
        break;
      }
      case E3.CDATA_SECTION: {
        this._stateCdataSection(t3);
        break;
      }
      case E3.CDATA_SECTION_BRACKET: {
        this._stateCdataSectionBracket(t3);
        break;
      }
      case E3.CDATA_SECTION_END: {
        this._stateCdataSectionEnd(t3);
        break;
      }
      case E3.CHARACTER_REFERENCE: {
        this._stateCharacterReference();
        break;
      }
      case E3.AMBIGUOUS_AMPERSAND: {
        this._stateAmbiguousAmpersand(t3);
        break;
      }
      default:
        throw new Error("Unknown state");
    }
  }
  // State machine
  // Data state
  //------------------------------------------------------------------
  _stateData(t3) {
    switch (t3) {
      case m2.LESS_THAN_SIGN: {
        this.state = E3.TAG_OPEN;
        break;
      }
      case m2.AMPERSAND: {
        this._startCharacterReference();
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitCodePoint(t3);
        break;
      }
      case m2.EOF: {
        this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  //  RCDATA state
  //------------------------------------------------------------------
  _stateRcdata(t3) {
    switch (t3) {
      case m2.AMPERSAND: {
        this._startCharacterReference();
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.RCDATA_LESS_THAN_SIGN;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // RAWTEXT state
  //------------------------------------------------------------------
  _stateRawtext(t3) {
    switch (t3) {
      case m2.LESS_THAN_SIGN: {
        this.state = E3.RAWTEXT_LESS_THAN_SIGN;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // Script data state
  //------------------------------------------------------------------
  _stateScriptData(t3) {
    switch (t3) {
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_LESS_THAN_SIGN;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // PLAINTEXT state
  //------------------------------------------------------------------
  _statePlaintext(t3) {
    switch (t3) {
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // Tag open state
  //------------------------------------------------------------------
  _stateTagOpen(t3) {
    if (ve2(t3))
      this._createStartTagToken(), this.state = E3.TAG_NAME, this._stateTagName(t3);
    else
      switch (t3) {
        case m2.EXCLAMATION_MARK: {
          this.state = E3.MARKUP_DECLARATION_OPEN;
          break;
        }
        case m2.SOLIDUS: {
          this.state = E3.END_TAG_OPEN;
          break;
        }
        case m2.QUESTION_MARK: {
          this._err(C3.unexpectedQuestionMarkInsteadOfTagName), this._createCommentToken(1), this.state = E3.BOGUS_COMMENT, this._stateBogusComment(t3);
          break;
        }
        case m2.EOF: {
          this._err(C3.eofBeforeTagName), this._emitChars("<"), this._emitEOFToken();
          break;
        }
        default:
          this._err(C3.invalidFirstCharacterOfTagName), this._emitChars("<"), this.state = E3.DATA, this._stateData(t3);
      }
  }
  // End tag open state
  //------------------------------------------------------------------
  _stateEndTagOpen(t3) {
    if (ve2(t3))
      this._createEndTagToken(), this.state = E3.TAG_NAME, this._stateTagName(t3);
    else
      switch (t3) {
        case m2.GREATER_THAN_SIGN: {
          this._err(C3.missingEndTagName), this.state = E3.DATA;
          break;
        }
        case m2.EOF: {
          this._err(C3.eofBeforeTagName), this._emitChars("</"), this._emitEOFToken();
          break;
        }
        default:
          this._err(C3.invalidFirstCharacterOfTagName), this._createCommentToken(2), this.state = E3.BOGUS_COMMENT, this._stateBogusComment(t3);
      }
  }
  // Tag name state
  //------------------------------------------------------------------
  _stateTagName(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this.state = E3.BEFORE_ATTRIBUTE_NAME;
        break;
      }
      case m2.SOLIDUS: {
        this.state = E3.SELF_CLOSING_START_TAG;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentTagToken();
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.tagName += te2;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        n4.tagName += String.fromCodePoint(Lt2(t3) ? Jt2(t3) : t3);
    }
  }
  // RCDATA less-than sign state
  //------------------------------------------------------------------
  _stateRcdataLessThanSign(t3) {
    t3 === m2.SOLIDUS ? this.state = E3.RCDATA_END_TAG_OPEN : (this._emitChars("<"), this.state = E3.RCDATA, this._stateRcdata(t3));
  }
  // RCDATA end tag open state
  //------------------------------------------------------------------
  _stateRcdataEndTagOpen(t3) {
    ve2(t3) ? (this.state = E3.RCDATA_END_TAG_NAME, this._stateRcdataEndTagName(t3)) : (this._emitChars("</"), this.state = E3.RCDATA, this._stateRcdata(t3));
  }
  handleSpecialEndTag(t3) {
    if (!this.preprocessor.startsWith(this.lastStartTagName, false))
      return !this._ensureHibernation();
    this._createEndTagToken();
    const n4 = this.currentToken;
    switch (n4.tagName = this.lastStartTagName, this.preprocessor.peek(this.lastStartTagName.length)) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        return this._advanceBy(this.lastStartTagName.length), this.state = E3.BEFORE_ATTRIBUTE_NAME, false;
      case m2.SOLIDUS:
        return this._advanceBy(this.lastStartTagName.length), this.state = E3.SELF_CLOSING_START_TAG, false;
      case m2.GREATER_THAN_SIGN:
        return this._advanceBy(this.lastStartTagName.length), this.emitCurrentTagToken(), this.state = E3.DATA, false;
      default:
        return !this._ensureHibernation();
    }
  }
  // RCDATA end tag name state
  //------------------------------------------------------------------
  _stateRcdataEndTagName(t3) {
    this.handleSpecialEndTag(t3) && (this._emitChars("</"), this.state = E3.RCDATA, this._stateRcdata(t3));
  }
  // RAWTEXT less-than sign state
  //------------------------------------------------------------------
  _stateRawtextLessThanSign(t3) {
    t3 === m2.SOLIDUS ? this.state = E3.RAWTEXT_END_TAG_OPEN : (this._emitChars("<"), this.state = E3.RAWTEXT, this._stateRawtext(t3));
  }
  // RAWTEXT end tag open state
  //------------------------------------------------------------------
  _stateRawtextEndTagOpen(t3) {
    ve2(t3) ? (this.state = E3.RAWTEXT_END_TAG_NAME, this._stateRawtextEndTagName(t3)) : (this._emitChars("</"), this.state = E3.RAWTEXT, this._stateRawtext(t3));
  }
  // RAWTEXT end tag name state
  //------------------------------------------------------------------
  _stateRawtextEndTagName(t3) {
    this.handleSpecialEndTag(t3) && (this._emitChars("</"), this.state = E3.RAWTEXT, this._stateRawtext(t3));
  }
  // Script data less-than sign state
  //------------------------------------------------------------------
  _stateScriptDataLessThanSign(t3) {
    switch (t3) {
      case m2.SOLIDUS: {
        this.state = E3.SCRIPT_DATA_END_TAG_OPEN;
        break;
      }
      case m2.EXCLAMATION_MARK: {
        this.state = E3.SCRIPT_DATA_ESCAPE_START, this._emitChars("<!");
        break;
      }
      default:
        this._emitChars("<"), this.state = E3.SCRIPT_DATA, this._stateScriptData(t3);
    }
  }
  // Script data end tag open state
  //------------------------------------------------------------------
  _stateScriptDataEndTagOpen(t3) {
    ve2(t3) ? (this.state = E3.SCRIPT_DATA_END_TAG_NAME, this._stateScriptDataEndTagName(t3)) : (this._emitChars("</"), this.state = E3.SCRIPT_DATA, this._stateScriptData(t3));
  }
  // Script data end tag name state
  //------------------------------------------------------------------
  _stateScriptDataEndTagName(t3) {
    this.handleSpecialEndTag(t3) && (this._emitChars("</"), this.state = E3.SCRIPT_DATA, this._stateScriptData(t3));
  }
  // Script data escape start state
  //------------------------------------------------------------------
  _stateScriptDataEscapeStart(t3) {
    t3 === m2.HYPHEN_MINUS ? (this.state = E3.SCRIPT_DATA_ESCAPE_START_DASH, this._emitChars("-")) : (this.state = E3.SCRIPT_DATA, this._stateScriptData(t3));
  }
  // Script data escape start dash state
  //------------------------------------------------------------------
  _stateScriptDataEscapeStartDash(t3) {
    t3 === m2.HYPHEN_MINUS ? (this.state = E3.SCRIPT_DATA_ESCAPED_DASH_DASH, this._emitChars("-")) : (this.state = E3.SCRIPT_DATA, this._stateScriptData(t3));
  }
  // Script data escaped state
  //------------------------------------------------------------------
  _stateScriptDataEscaped(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.SCRIPT_DATA_ESCAPED_DASH, this._emitChars("-");
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // Script data escaped dash state
  //------------------------------------------------------------------
  _stateScriptDataEscapedDash(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.SCRIPT_DATA_ESCAPED_DASH_DASH, this._emitChars("-");
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.state = E3.SCRIPT_DATA_ESCAPED, this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
        break;
      }
      default:
        this.state = E3.SCRIPT_DATA_ESCAPED, this._emitCodePoint(t3);
    }
  }
  // Script data escaped dash dash state
  //------------------------------------------------------------------
  _stateScriptDataEscapedDashDash(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this._emitChars("-");
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA, this._emitChars(">");
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.state = E3.SCRIPT_DATA_ESCAPED, this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
        break;
      }
      default:
        this.state = E3.SCRIPT_DATA_ESCAPED, this._emitCodePoint(t3);
    }
  }
  // Script data escaped less-than sign state
  //------------------------------------------------------------------
  _stateScriptDataEscapedLessThanSign(t3) {
    t3 === m2.SOLIDUS ? this.state = E3.SCRIPT_DATA_ESCAPED_END_TAG_OPEN : ve2(t3) ? (this._emitChars("<"), this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPE_START, this._stateScriptDataDoubleEscapeStart(t3)) : (this._emitChars("<"), this.state = E3.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(t3));
  }
  // Script data escaped end tag open state
  //------------------------------------------------------------------
  _stateScriptDataEscapedEndTagOpen(t3) {
    ve2(t3) ? (this.state = E3.SCRIPT_DATA_ESCAPED_END_TAG_NAME, this._stateScriptDataEscapedEndTagName(t3)) : (this._emitChars("</"), this.state = E3.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(t3));
  }
  // Script data escaped end tag name state
  //------------------------------------------------------------------
  _stateScriptDataEscapedEndTagName(t3) {
    this.handleSpecialEndTag(t3) && (this._emitChars("</"), this.state = E3.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(t3));
  }
  // Script data double escape start state
  //------------------------------------------------------------------
  _stateScriptDataDoubleEscapeStart(t3) {
    if (this.preprocessor.startsWith(me2.SCRIPT, false) && yu2(this.preprocessor.peek(me2.SCRIPT.length))) {
      this._emitCodePoint(t3);
      for (let n4 = 0; n4 < me2.SCRIPT.length; n4++)
        this._emitCodePoint(this._consume());
      this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED;
    } else this._ensureHibernation() || (this.state = E3.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(t3));
  }
  // Script data double escaped state
  //------------------------------------------------------------------
  _stateScriptDataDoubleEscaped(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED_DASH, this._emitChars("-");
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // Script data double escaped dash state
  //------------------------------------------------------------------
  _stateScriptDataDoubleEscapedDash(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH, this._emitChars("-");
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
        break;
      }
      default:
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitCodePoint(t3);
    }
  }
  // Script data double escaped dash dash state
  //------------------------------------------------------------------
  _stateScriptDataDoubleEscapedDashDash(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this._emitChars("-");
        break;
      }
      case m2.LESS_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.SCRIPT_DATA, this._emitChars(">");
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitChars(te2);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
        break;
      }
      default:
        this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitCodePoint(t3);
    }
  }
  // Script data double escaped less-than sign state
  //------------------------------------------------------------------
  _stateScriptDataDoubleEscapedLessThanSign(t3) {
    t3 === m2.SOLIDUS ? (this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPE_END, this._emitChars("/")) : (this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED, this._stateScriptDataDoubleEscaped(t3));
  }
  // Script data double escape end state
  //------------------------------------------------------------------
  _stateScriptDataDoubleEscapeEnd(t3) {
    if (this.preprocessor.startsWith(me2.SCRIPT, false) && yu2(this.preprocessor.peek(me2.SCRIPT.length))) {
      this._emitCodePoint(t3);
      for (let n4 = 0; n4 < me2.SCRIPT.length; n4++)
        this._emitCodePoint(this._consume());
      this.state = E3.SCRIPT_DATA_ESCAPED;
    } else this._ensureHibernation() || (this.state = E3.SCRIPT_DATA_DOUBLE_ESCAPED, this._stateScriptDataDoubleEscaped(t3));
  }
  // Before attribute name state
  //------------------------------------------------------------------
  _stateBeforeAttributeName(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.SOLIDUS:
      case m2.GREATER_THAN_SIGN:
      case m2.EOF: {
        this.state = E3.AFTER_ATTRIBUTE_NAME, this._stateAfterAttributeName(t3);
        break;
      }
      case m2.EQUALS_SIGN: {
        this._err(C3.unexpectedEqualsSignBeforeAttributeName), this._createAttr("="), this.state = E3.ATTRIBUTE_NAME;
        break;
      }
      default:
        this._createAttr(""), this.state = E3.ATTRIBUTE_NAME, this._stateAttributeName(t3);
    }
  }
  // Attribute name state
  //------------------------------------------------------------------
  _stateAttributeName(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
      case m2.SOLIDUS:
      case m2.GREATER_THAN_SIGN:
      case m2.EOF: {
        this._leaveAttrName(), this.state = E3.AFTER_ATTRIBUTE_NAME, this._stateAfterAttributeName(t3);
        break;
      }
      case m2.EQUALS_SIGN: {
        this._leaveAttrName(), this.state = E3.BEFORE_ATTRIBUTE_VALUE;
        break;
      }
      case m2.QUOTATION_MARK:
      case m2.APOSTROPHE:
      case m2.LESS_THAN_SIGN: {
        this._err(C3.unexpectedCharacterInAttributeName), this.currentAttr.name += String.fromCodePoint(t3);
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.currentAttr.name += te2;
        break;
      }
      default:
        this.currentAttr.name += String.fromCodePoint(Lt2(t3) ? Jt2(t3) : t3);
    }
  }
  // After attribute name state
  //------------------------------------------------------------------
  _stateAfterAttributeName(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.SOLIDUS: {
        this.state = E3.SELF_CLOSING_START_TAG;
        break;
      }
      case m2.EQUALS_SIGN: {
        this.state = E3.BEFORE_ATTRIBUTE_VALUE;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentTagToken();
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        this._createAttr(""), this.state = E3.ATTRIBUTE_NAME, this._stateAttributeName(t3);
    }
  }
  // Before attribute value state
  //------------------------------------------------------------------
  _stateBeforeAttributeValue(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.QUOTATION_MARK: {
        this.state = E3.ATTRIBUTE_VALUE_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        this.state = E3.ATTRIBUTE_VALUE_SINGLE_QUOTED;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.missingAttributeValue), this.state = E3.DATA, this.emitCurrentTagToken();
        break;
      }
      default:
        this.state = E3.ATTRIBUTE_VALUE_UNQUOTED, this._stateAttributeValueUnquoted(t3);
    }
  }
  // Attribute value (double-quoted) state
  //------------------------------------------------------------------
  _stateAttributeValueDoubleQuoted(t3) {
    switch (t3) {
      case m2.QUOTATION_MARK: {
        this.state = E3.AFTER_ATTRIBUTE_VALUE_QUOTED;
        break;
      }
      case m2.AMPERSAND: {
        this._startCharacterReference();
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.currentAttr.value += te2;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        this.currentAttr.value += String.fromCodePoint(t3);
    }
  }
  // Attribute value (single-quoted) state
  //------------------------------------------------------------------
  _stateAttributeValueSingleQuoted(t3) {
    switch (t3) {
      case m2.APOSTROPHE: {
        this.state = E3.AFTER_ATTRIBUTE_VALUE_QUOTED;
        break;
      }
      case m2.AMPERSAND: {
        this._startCharacterReference();
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.currentAttr.value += te2;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        this.currentAttr.value += String.fromCodePoint(t3);
    }
  }
  // Attribute value (unquoted) state
  //------------------------------------------------------------------
  _stateAttributeValueUnquoted(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this._leaveAttrValue(), this.state = E3.BEFORE_ATTRIBUTE_NAME;
        break;
      }
      case m2.AMPERSAND: {
        this._startCharacterReference();
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._leaveAttrValue(), this.state = E3.DATA, this.emitCurrentTagToken();
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), this.currentAttr.value += te2;
        break;
      }
      case m2.QUOTATION_MARK:
      case m2.APOSTROPHE:
      case m2.LESS_THAN_SIGN:
      case m2.EQUALS_SIGN:
      case m2.GRAVE_ACCENT: {
        this._err(C3.unexpectedCharacterInUnquotedAttributeValue), this.currentAttr.value += String.fromCodePoint(t3);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        this.currentAttr.value += String.fromCodePoint(t3);
    }
  }
  // After attribute value (quoted) state
  //------------------------------------------------------------------
  _stateAfterAttributeValueQuoted(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this._leaveAttrValue(), this.state = E3.BEFORE_ATTRIBUTE_NAME;
        break;
      }
      case m2.SOLIDUS: {
        this._leaveAttrValue(), this.state = E3.SELF_CLOSING_START_TAG;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._leaveAttrValue(), this.state = E3.DATA, this.emitCurrentTagToken();
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingWhitespaceBetweenAttributes), this.state = E3.BEFORE_ATTRIBUTE_NAME, this._stateBeforeAttributeName(t3);
    }
  }
  // Self-closing start tag state
  //------------------------------------------------------------------
  _stateSelfClosingStartTag(t3) {
    switch (t3) {
      case m2.GREATER_THAN_SIGN: {
        const n4 = this.currentToken;
        n4.selfClosing = true, this.state = E3.DATA, this.emitCurrentTagToken();
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInTag), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.unexpectedSolidusInTag), this.state = E3.BEFORE_ATTRIBUTE_NAME, this._stateBeforeAttributeName(t3);
    }
  }
  // Bogus comment state
  //------------------------------------------------------------------
  _stateBogusComment(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentComment(n4);
        break;
      }
      case m2.EOF: {
        this.emitCurrentComment(n4), this._emitEOFToken();
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.data += te2;
        break;
      }
      default:
        n4.data += String.fromCodePoint(t3);
    }
  }
  // Markup declaration open state
  //------------------------------------------------------------------
  _stateMarkupDeclarationOpen(t3) {
    this._consumeSequenceIfMatch(me2.DASH_DASH, true) ? (this._createCommentToken(me2.DASH_DASH.length + 1), this.state = E3.COMMENT_START) : this._consumeSequenceIfMatch(me2.DOCTYPE, false) ? (this.currentLocation = this.getCurrentLocation(me2.DOCTYPE.length + 1), this.state = E3.DOCTYPE) : this._consumeSequenceIfMatch(me2.CDATA_START, true) ? this.inForeignNode ? this.state = E3.CDATA_SECTION : (this._err(C3.cdataInHtmlContent), this._createCommentToken(me2.CDATA_START.length + 1), this.currentToken.data = "[CDATA[", this.state = E3.BOGUS_COMMENT) : this._ensureHibernation() || (this._err(C3.incorrectlyOpenedComment), this._createCommentToken(2), this.state = E3.BOGUS_COMMENT, this._stateBogusComment(t3));
  }
  // Comment start state
  //------------------------------------------------------------------
  _stateCommentStart(t3) {
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.COMMENT_START_DASH;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.abruptClosingOfEmptyComment), this.state = E3.DATA;
        const n4 = this.currentToken;
        this.emitCurrentComment(n4);
        break;
      }
      default:
        this.state = E3.COMMENT, this._stateComment(t3);
    }
  }
  // Comment start dash state
  //------------------------------------------------------------------
  _stateCommentStartDash(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.COMMENT_END;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.abruptClosingOfEmptyComment), this.state = E3.DATA, this.emitCurrentComment(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInComment), this.emitCurrentComment(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.data += "-", this.state = E3.COMMENT, this._stateComment(t3);
    }
  }
  // Comment state
  //------------------------------------------------------------------
  _stateComment(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.COMMENT_END_DASH;
        break;
      }
      case m2.LESS_THAN_SIGN: {
        n4.data += "<", this.state = E3.COMMENT_LESS_THAN_SIGN;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.data += te2;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInComment), this.emitCurrentComment(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.data += String.fromCodePoint(t3);
    }
  }
  // Comment less-than sign state
  //------------------------------------------------------------------
  _stateCommentLessThanSign(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.EXCLAMATION_MARK: {
        n4.data += "!", this.state = E3.COMMENT_LESS_THAN_SIGN_BANG;
        break;
      }
      case m2.LESS_THAN_SIGN: {
        n4.data += "<";
        break;
      }
      default:
        this.state = E3.COMMENT, this._stateComment(t3);
    }
  }
  // Comment less-than sign bang state
  //------------------------------------------------------------------
  _stateCommentLessThanSignBang(t3) {
    t3 === m2.HYPHEN_MINUS ? this.state = E3.COMMENT_LESS_THAN_SIGN_BANG_DASH : (this.state = E3.COMMENT, this._stateComment(t3));
  }
  // Comment less-than sign bang dash state
  //------------------------------------------------------------------
  _stateCommentLessThanSignBangDash(t3) {
    t3 === m2.HYPHEN_MINUS ? this.state = E3.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH : (this.state = E3.COMMENT_END_DASH, this._stateCommentEndDash(t3));
  }
  // Comment less-than sign bang dash dash state
  //------------------------------------------------------------------
  _stateCommentLessThanSignBangDashDash(t3) {
    t3 !== m2.GREATER_THAN_SIGN && t3 !== m2.EOF && this._err(C3.nestedComment), this.state = E3.COMMENT_END, this._stateCommentEnd(t3);
  }
  // Comment end dash state
  //------------------------------------------------------------------
  _stateCommentEndDash(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        this.state = E3.COMMENT_END;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInComment), this.emitCurrentComment(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.data += "-", this.state = E3.COMMENT, this._stateComment(t3);
    }
  }
  // Comment end state
  //------------------------------------------------------------------
  _stateCommentEnd(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentComment(n4);
        break;
      }
      case m2.EXCLAMATION_MARK: {
        this.state = E3.COMMENT_END_BANG;
        break;
      }
      case m2.HYPHEN_MINUS: {
        n4.data += "-";
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInComment), this.emitCurrentComment(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.data += "--", this.state = E3.COMMENT, this._stateComment(t3);
    }
  }
  // Comment end bang state
  //------------------------------------------------------------------
  _stateCommentEndBang(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.HYPHEN_MINUS: {
        n4.data += "--!", this.state = E3.COMMENT_END_DASH;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.incorrectlyClosedComment), this.state = E3.DATA, this.emitCurrentComment(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInComment), this.emitCurrentComment(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.data += "--!", this.state = E3.COMMENT, this._stateComment(t3);
    }
  }
  // DOCTYPE state
  //------------------------------------------------------------------
  _stateDoctype(t3) {
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this.state = E3.BEFORE_DOCTYPE_NAME;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.BEFORE_DOCTYPE_NAME, this._stateBeforeDoctypeName(t3);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), this._createDoctypeToken(null);
        const n4 = this.currentToken;
        n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingWhitespaceBeforeDoctypeName), this.state = E3.BEFORE_DOCTYPE_NAME, this._stateBeforeDoctypeName(t3);
    }
  }
  // Before DOCTYPE name state
  //------------------------------------------------------------------
  _stateBeforeDoctypeName(t3) {
    if (Lt2(t3))
      this._createDoctypeToken(String.fromCharCode(Jt2(t3))), this.state = E3.DOCTYPE_NAME;
    else
      switch (t3) {
        case m2.SPACE:
        case m2.LINE_FEED:
        case m2.TABULATION:
        case m2.FORM_FEED:
          break;
        case m2.NULL: {
          this._err(C3.unexpectedNullCharacter), this._createDoctypeToken(te2), this.state = E3.DOCTYPE_NAME;
          break;
        }
        case m2.GREATER_THAN_SIGN: {
          this._err(C3.missingDoctypeName), this._createDoctypeToken(null);
          const n4 = this.currentToken;
          n4.forceQuirks = true, this.emitCurrentDoctype(n4), this.state = E3.DATA;
          break;
        }
        case m2.EOF: {
          this._err(C3.eofInDoctype), this._createDoctypeToken(null);
          const n4 = this.currentToken;
          n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
          break;
        }
        default:
          this._createDoctypeToken(String.fromCodePoint(t3)), this.state = E3.DOCTYPE_NAME;
      }
  }
  // DOCTYPE name state
  //------------------------------------------------------------------
  _stateDoctypeName(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this.state = E3.AFTER_DOCTYPE_NAME;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.name += te2;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.name += String.fromCodePoint(Lt2(t3) ? Jt2(t3) : t3);
    }
  }
  // After DOCTYPE name state
  //------------------------------------------------------------------
  _stateAfterDoctypeName(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._consumeSequenceIfMatch(me2.PUBLIC, false) ? this.state = E3.AFTER_DOCTYPE_PUBLIC_KEYWORD : this._consumeSequenceIfMatch(me2.SYSTEM, false) ? this.state = E3.AFTER_DOCTYPE_SYSTEM_KEYWORD : this._ensureHibernation() || (this._err(C3.invalidCharacterSequenceAfterDoctypeName), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3));
    }
  }
  // After DOCTYPE public keyword state
  //------------------------------------------------------------------
  _stateAfterDoctypePublicKeyword(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this.state = E3.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;
        break;
      }
      case m2.QUOTATION_MARK: {
        this._err(C3.missingWhitespaceAfterDoctypePublicKeyword), n4.publicId = "", this.state = E3.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        this._err(C3.missingWhitespaceAfterDoctypePublicKeyword), n4.publicId = "", this.state = E3.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.missingDoctypePublicIdentifier), n4.forceQuirks = true, this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingQuoteBeforeDoctypePublicIdentifier), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // Before DOCTYPE public identifier state
  //------------------------------------------------------------------
  _stateBeforeDoctypePublicIdentifier(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.QUOTATION_MARK: {
        n4.publicId = "", this.state = E3.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        n4.publicId = "", this.state = E3.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.missingDoctypePublicIdentifier), n4.forceQuirks = true, this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingQuoteBeforeDoctypePublicIdentifier), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // DOCTYPE public identifier (double-quoted) state
  //------------------------------------------------------------------
  _stateDoctypePublicIdentifierDoubleQuoted(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.QUOTATION_MARK: {
        this.state = E3.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.publicId += te2;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.abruptDoctypePublicIdentifier), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.publicId += String.fromCodePoint(t3);
    }
  }
  // DOCTYPE public identifier (single-quoted) state
  //------------------------------------------------------------------
  _stateDoctypePublicIdentifierSingleQuoted(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.APOSTROPHE: {
        this.state = E3.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.publicId += te2;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.abruptDoctypePublicIdentifier), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.publicId += String.fromCodePoint(t3);
    }
  }
  // After DOCTYPE public identifier state
  //------------------------------------------------------------------
  _stateAfterDoctypePublicIdentifier(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this.state = E3.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.QUOTATION_MARK: {
        this._err(C3.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers), n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        this._err(C3.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers), n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingQuoteBeforeDoctypeSystemIdentifier), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // Between DOCTYPE public and system identifiers state
  //------------------------------------------------------------------
  _stateBetweenDoctypePublicAndSystemIdentifiers(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.GREATER_THAN_SIGN: {
        this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.QUOTATION_MARK: {
        n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingQuoteBeforeDoctypeSystemIdentifier), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // After DOCTYPE system keyword state
  //------------------------------------------------------------------
  _stateAfterDoctypeSystemKeyword(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED: {
        this.state = E3.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;
        break;
      }
      case m2.QUOTATION_MARK: {
        this._err(C3.missingWhitespaceAfterDoctypeSystemKeyword), n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        this._err(C3.missingWhitespaceAfterDoctypeSystemKeyword), n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.missingDoctypeSystemIdentifier), n4.forceQuirks = true, this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingQuoteBeforeDoctypeSystemIdentifier), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // Before DOCTYPE system identifier state
  //------------------------------------------------------------------
  _stateBeforeDoctypeSystemIdentifier(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.QUOTATION_MARK: {
        n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
        break;
      }
      case m2.APOSTROPHE: {
        n4.systemId = "", this.state = E3.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.missingDoctypeSystemIdentifier), n4.forceQuirks = true, this.state = E3.DATA, this.emitCurrentDoctype(n4);
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.missingQuoteBeforeDoctypeSystemIdentifier), n4.forceQuirks = true, this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // DOCTYPE system identifier (double-quoted) state
  //------------------------------------------------------------------
  _stateDoctypeSystemIdentifierDoubleQuoted(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.QUOTATION_MARK: {
        this.state = E3.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.systemId += te2;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.abruptDoctypeSystemIdentifier), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.systemId += String.fromCodePoint(t3);
    }
  }
  // DOCTYPE system identifier (single-quoted) state
  //------------------------------------------------------------------
  _stateDoctypeSystemIdentifierSingleQuoted(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.APOSTROPHE: {
        this.state = E3.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter), n4.systemId += te2;
        break;
      }
      case m2.GREATER_THAN_SIGN: {
        this._err(C3.abruptDoctypeSystemIdentifier), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        n4.systemId += String.fromCodePoint(t3);
    }
  }
  // After DOCTYPE system identifier state
  //------------------------------------------------------------------
  _stateAfterDoctypeSystemIdentifier(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.SPACE:
      case m2.LINE_FEED:
      case m2.TABULATION:
      case m2.FORM_FEED:
        break;
      case m2.GREATER_THAN_SIGN: {
        this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInDoctype), n4.forceQuirks = true, this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
      default:
        this._err(C3.unexpectedCharacterAfterDoctypeSystemIdentifier), this.state = E3.BOGUS_DOCTYPE, this._stateBogusDoctype(t3);
    }
  }
  // Bogus DOCTYPE state
  //------------------------------------------------------------------
  _stateBogusDoctype(t3) {
    const n4 = this.currentToken;
    switch (t3) {
      case m2.GREATER_THAN_SIGN: {
        this.emitCurrentDoctype(n4), this.state = E3.DATA;
        break;
      }
      case m2.NULL: {
        this._err(C3.unexpectedNullCharacter);
        break;
      }
      case m2.EOF: {
        this.emitCurrentDoctype(n4), this._emitEOFToken();
        break;
      }
    }
  }
  // CDATA section state
  //------------------------------------------------------------------
  _stateCdataSection(t3) {
    switch (t3) {
      case m2.RIGHT_SQUARE_BRACKET: {
        this.state = E3.CDATA_SECTION_BRACKET;
        break;
      }
      case m2.EOF: {
        this._err(C3.eofInCdata), this._emitEOFToken();
        break;
      }
      default:
        this._emitCodePoint(t3);
    }
  }
  // CDATA section bracket state
  //------------------------------------------------------------------
  _stateCdataSectionBracket(t3) {
    t3 === m2.RIGHT_SQUARE_BRACKET ? this.state = E3.CDATA_SECTION_END : (this._emitChars("]"), this.state = E3.CDATA_SECTION, this._stateCdataSection(t3));
  }
  // CDATA section end state
  //------------------------------------------------------------------
  _stateCdataSectionEnd(t3) {
    switch (t3) {
      case m2.GREATER_THAN_SIGN: {
        this.state = E3.DATA;
        break;
      }
      case m2.RIGHT_SQUARE_BRACKET: {
        this._emitChars("]");
        break;
      }
      default:
        this._emitChars("]]"), this.state = E3.CDATA_SECTION, this._stateCdataSection(t3);
    }
  }
  // Character reference state
  //------------------------------------------------------------------
  _stateCharacterReference() {
    let t3 = this.entityDecoder.write(this.preprocessor.html, this.preprocessor.pos);
    if (t3 < 0)
      if (this.preprocessor.lastChunkWritten)
        t3 = this.entityDecoder.end();
      else {
        this.active = false, this.preprocessor.pos = this.preprocessor.html.length - 1, this.consumedAfterSnapshot = 0, this.preprocessor.endOfChunkHit = true;
        return;
      }
    t3 === 0 ? (this.preprocessor.pos = this.entityStartPos, this._flushCodePointConsumedAsCharacterReference(m2.AMPERSAND), this.state = !this._isCharacterReferenceInAttribute() && Ou2(this.preprocessor.peek(1)) ? E3.AMBIGUOUS_AMPERSAND : this.returnState) : this.state = this.returnState;
  }
  // Ambiguos ampersand state
  //------------------------------------------------------------------
  _stateAmbiguousAmpersand(t3) {
    Ou2(t3) ? this._flushCodePointConsumedAsCharacterReference(t3) : (t3 === m2.SEMICOLON && this._err(C3.unknownNamedCharacterReference), this.state = this.returnState, this._callState(t3));
  }
};
var ta2 = /* @__PURE__ */ new Set([s.DD, s.DT, s.LI, s.OPTGROUP, s.OPTION, s.P, s.RB, s.RP, s.RT, s.RTC]);
var Lu2 = /* @__PURE__ */ new Set([
  ...ta2,
  s.CAPTION,
  s.COLGROUP,
  s.TBODY,
  s.TD,
  s.TFOOT,
  s.TH,
  s.THEAD,
  s.TR
]);
var dn2 = /* @__PURE__ */ new Set([
  s.APPLET,
  s.CAPTION,
  s.HTML,
  s.MARQUEE,
  s.OBJECT,
  s.TABLE,
  s.TD,
  s.TEMPLATE,
  s.TH
]);
var kf = /* @__PURE__ */ new Set([...dn2, s.OL, s.UL]);
var Of = /* @__PURE__ */ new Set([...dn2, s.BUTTON]);
var Ru2 = /* @__PURE__ */ new Set([s.ANNOTATION_XML, s.MI, s.MN, s.MO, s.MS, s.MTEXT]);
var Du2 = /* @__PURE__ */ new Set([s.DESC, s.FOREIGN_OBJECT, s.TITLE]);
var yf = /* @__PURE__ */ new Set([s.TR, s.TEMPLATE, s.HTML]);
var Lf = /* @__PURE__ */ new Set([s.TBODY, s.TFOOT, s.THEAD, s.TEMPLATE, s.HTML]);
var Rf = /* @__PURE__ */ new Set([s.TABLE, s.TEMPLATE, s.HTML]);
var Df = /* @__PURE__ */ new Set([s.TD, s.TH]);
var Pf = class {
  get currentTmplContentOrNode() {
    return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;
  }
  constructor(t3, n4, r4) {
    this.treeAdapter = n4, this.handler = r4, this.items = [], this.tagIDs = [], this.stackTop = -1, this.tmplCount = 0, this.currentTagId = s.UNKNOWN, this.current = t3;
  }
  //Index of element
  _indexOf(t3) {
    return this.items.lastIndexOf(t3, this.stackTop);
  }
  //Update current element
  _isInTemplate() {
    return this.currentTagId === s.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === y3.HTML;
  }
  _updateCurrentElement() {
    this.current = this.items[this.stackTop], this.currentTagId = this.tagIDs[this.stackTop];
  }
  //Mutations
  push(t3, n4) {
    this.stackTop++, this.items[this.stackTop] = t3, this.current = t3, this.tagIDs[this.stackTop] = n4, this.currentTagId = n4, this._isInTemplate() && this.tmplCount++, this.handler.onItemPush(t3, n4, true);
  }
  pop() {
    const t3 = this.current;
    this.tmplCount > 0 && this._isInTemplate() && this.tmplCount--, this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(t3, true);
  }
  replace(t3, n4) {
    const r4 = this._indexOf(t3);
    this.items[r4] = n4, r4 === this.stackTop && (this.current = n4);
  }
  insertAfter(t3, n4, r4) {
    const u5 = this._indexOf(t3) + 1;
    this.items.splice(u5, 0, n4), this.tagIDs.splice(u5, 0, r4), this.stackTop++, u5 === this.stackTop && this._updateCurrentElement(), this.handler.onItemPush(this.current, this.currentTagId, u5 === this.stackTop);
  }
  popUntilTagNamePopped(t3) {
    let n4 = this.stackTop + 1;
    do
      n4 = this.tagIDs.lastIndexOf(t3, n4 - 1);
    while (n4 > 0 && this.treeAdapter.getNamespaceURI(this.items[n4]) !== y3.HTML);
    this.shortenToLength(n4 < 0 ? 0 : n4);
  }
  shortenToLength(t3) {
    for (; this.stackTop >= t3; ) {
      const n4 = this.current;
      this.tmplCount > 0 && this._isInTemplate() && (this.tmplCount -= 1), this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(n4, this.stackTop < t3);
    }
  }
  popUntilElementPopped(t3) {
    const n4 = this._indexOf(t3);
    this.shortenToLength(n4 < 0 ? 0 : n4);
  }
  popUntilPopped(t3, n4) {
    const r4 = this._indexOfTagNames(t3, n4);
    this.shortenToLength(r4 < 0 ? 0 : r4);
  }
  popUntilNumberedHeaderPopped() {
    this.popUntilPopped(ur3, y3.HTML);
  }
  popUntilTableCellPopped() {
    this.popUntilPopped(Df, y3.HTML);
  }
  popAllUpToHtmlElement() {
    this.tmplCount = 0, this.shortenToLength(1);
  }
  _indexOfTagNames(t3, n4) {
    for (let r4 = this.stackTop; r4 >= 0; r4--)
      if (t3.has(this.tagIDs[r4]) && this.treeAdapter.getNamespaceURI(this.items[r4]) === n4)
        return r4;
    return -1;
  }
  clearBackTo(t3, n4) {
    const r4 = this._indexOfTagNames(t3, n4);
    this.shortenToLength(r4 + 1);
  }
  clearBackToTableContext() {
    this.clearBackTo(Rf, y3.HTML);
  }
  clearBackToTableBodyContext() {
    this.clearBackTo(Lf, y3.HTML);
  }
  clearBackToTableRowContext() {
    this.clearBackTo(yf, y3.HTML);
  }
  remove(t3) {
    const n4 = this._indexOf(t3);
    n4 >= 0 && (n4 === this.stackTop ? this.pop() : (this.items.splice(n4, 1), this.tagIDs.splice(n4, 1), this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(t3, false)));
  }
  //Search
  tryPeekProperlyNestedBodyElement() {
    return this.stackTop >= 1 && this.tagIDs[1] === s.BODY ? this.items[1] : null;
  }
  contains(t3) {
    return this._indexOf(t3) > -1;
  }
  getCommonAncestor(t3) {
    const n4 = this._indexOf(t3) - 1;
    return n4 >= 0 ? this.items[n4] : null;
  }
  isRootHtmlElementCurrent() {
    return this.stackTop === 0 && this.tagIDs[0] === s.HTML;
  }
  //Element in scope
  hasInDynamicScope(t3, n4) {
    for (let r4 = this.stackTop; r4 >= 0; r4--) {
      const u5 = this.tagIDs[r4];
      switch (this.treeAdapter.getNamespaceURI(this.items[r4])) {
        case y3.HTML: {
          if (u5 === t3)
            return true;
          if (n4.has(u5))
            return false;
          break;
        }
        case y3.SVG: {
          if (Du2.has(u5))
            return false;
          break;
        }
        case y3.MATHML: {
          if (Ru2.has(u5))
            return false;
          break;
        }
      }
    }
    return true;
  }
  hasInScope(t3) {
    return this.hasInDynamicScope(t3, dn2);
  }
  hasInListItemScope(t3) {
    return this.hasInDynamicScope(t3, kf);
  }
  hasInButtonScope(t3) {
    return this.hasInDynamicScope(t3, Of);
  }
  hasNumberedHeaderInScope() {
    for (let t3 = this.stackTop; t3 >= 0; t3--) {
      const n4 = this.tagIDs[t3];
      switch (this.treeAdapter.getNamespaceURI(this.items[t3])) {
        case y3.HTML: {
          if (ur3.has(n4))
            return true;
          if (dn2.has(n4))
            return false;
          break;
        }
        case y3.SVG: {
          if (Du2.has(n4))
            return false;
          break;
        }
        case y3.MATHML: {
          if (Ru2.has(n4))
            return false;
          break;
        }
      }
    }
    return true;
  }
  hasInTableScope(t3) {
    for (let n4 = this.stackTop; n4 >= 0; n4--)
      if (this.treeAdapter.getNamespaceURI(this.items[n4]) === y3.HTML)
        switch (this.tagIDs[n4]) {
          case t3:
            return true;
          case s.TABLE:
          case s.HTML:
            return false;
        }
    return true;
  }
  hasTableBodyContextInTableScope() {
    for (let t3 = this.stackTop; t3 >= 0; t3--)
      if (this.treeAdapter.getNamespaceURI(this.items[t3]) === y3.HTML)
        switch (this.tagIDs[t3]) {
          case s.TBODY:
          case s.THEAD:
          case s.TFOOT:
            return true;
          case s.TABLE:
          case s.HTML:
            return false;
        }
    return true;
  }
  hasInSelectScope(t3) {
    for (let n4 = this.stackTop; n4 >= 0; n4--)
      if (this.treeAdapter.getNamespaceURI(this.items[n4]) === y3.HTML)
        switch (this.tagIDs[n4]) {
          case t3:
            return true;
          case s.OPTION:
          case s.OPTGROUP:
            break;
          default:
            return false;
        }
    return true;
  }
  //Implied end tags
  generateImpliedEndTags() {
    for (; ta2.has(this.currentTagId); )
      this.pop();
  }
  generateImpliedEndTagsThoroughly() {
    for (; Lu2.has(this.currentTagId); )
      this.pop();
  }
  generateImpliedEndTagsWithExclusion(t3) {
    for (; this.currentTagId !== t3 && Lu2.has(this.currentTagId); )
      this.pop();
  }
};
var qn2 = 3;
var ke4;
(function(e) {
  e[e.Marker = 0] = "Marker", e[e.Element = 1] = "Element";
})(ke4 || (ke4 = {}));
var Pu2 = { type: ke4.Marker };
var wf = class {
  constructor(t3) {
    this.treeAdapter = t3, this.entries = [], this.bookmark = null;
  }
  //Noah Ark's condition
  //OPTIMIZATION: at first we try to find possible candidates for exclusion using
  //lightweight heuristics without thorough attributes check.
  _getNoahArkConditionCandidates(t3, n4) {
    const r4 = [], u5 = n4.length, a3 = this.treeAdapter.getTagName(t3), i5 = this.treeAdapter.getNamespaceURI(t3);
    for (let o2 = 0; o2 < this.entries.length; o2++) {
      const l3 = this.entries[o2];
      if (l3.type === ke4.Marker)
        break;
      const { element: c6 } = l3;
      if (this.treeAdapter.getTagName(c6) === a3 && this.treeAdapter.getNamespaceURI(c6) === i5) {
        const h3 = this.treeAdapter.getAttrList(c6);
        h3.length === u5 && r4.push({ idx: o2, attrs: h3 });
      }
    }
    return r4;
  }
  _ensureNoahArkCondition(t3) {
    if (this.entries.length < qn2)
      return;
    const n4 = this.treeAdapter.getAttrList(t3), r4 = this._getNoahArkConditionCandidates(t3, n4);
    if (r4.length < qn2)
      return;
    const u5 = new Map(n4.map((i5) => [i5.name, i5.value]));
    let a3 = 0;
    for (let i5 = 0; i5 < r4.length; i5++) {
      const o2 = r4[i5];
      o2.attrs.every((l3) => u5.get(l3.name) === l3.value) && (a3 += 1, a3 >= qn2 && this.entries.splice(o2.idx, 1));
    }
  }
  //Mutations
  insertMarker() {
    this.entries.unshift(Pu2);
  }
  pushElement(t3, n4) {
    this._ensureNoahArkCondition(t3), this.entries.unshift({
      type: ke4.Element,
      element: t3,
      token: n4
    });
  }
  insertElementAfterBookmark(t3, n4) {
    const r4 = this.entries.indexOf(this.bookmark);
    this.entries.splice(r4, 0, {
      type: ke4.Element,
      element: t3,
      token: n4
    });
  }
  removeEntry(t3) {
    const n4 = this.entries.indexOf(t3);
    n4 >= 0 && this.entries.splice(n4, 1);
  }
  /**
   * Clears the list of formatting elements up to the last marker.
   *
   * @see https://html.spec.whatwg.org/multipage/parsing.html#clear-the-list-of-active-formatting-elements-up-to-the-last-marker
   */
  clearToLastMarker() {
    const t3 = this.entries.indexOf(Pu2);
    t3 >= 0 ? this.entries.splice(0, t3 + 1) : this.entries.length = 0;
  }
  //Search
  getElementEntryInScopeWithTagName(t3) {
    const n4 = this.entries.find((r4) => r4.type === ke4.Marker || this.treeAdapter.getTagName(r4.element) === t3);
    return n4 && n4.type === ke4.Element ? n4 : null;
  }
  getElementEntry(t3) {
    return this.entries.find((n4) => n4.type === ke4.Element && n4.element === t3);
  }
};
var ze3 = {
  //Node construction
  createDocument() {
    return {
      nodeName: "#document",
      mode: be4.NO_QUIRKS,
      childNodes: []
    };
  },
  createDocumentFragment() {
    return {
      nodeName: "#document-fragment",
      childNodes: []
    };
  },
  createElement(e, t3, n4) {
    return {
      nodeName: e,
      tagName: e,
      attrs: n4,
      namespaceURI: t3,
      childNodes: [],
      parentNode: null
    };
  },
  createCommentNode(e) {
    return {
      nodeName: "#comment",
      data: e,
      parentNode: null
    };
  },
  createTextNode(e) {
    return {
      nodeName: "#text",
      value: e,
      parentNode: null
    };
  },
  //Tree mutation
  appendChild(e, t3) {
    e.childNodes.push(t3), t3.parentNode = e;
  },
  insertBefore(e, t3, n4) {
    const r4 = e.childNodes.indexOf(n4);
    e.childNodes.splice(r4, 0, t3), t3.parentNode = e;
  },
  setTemplateContent(e, t3) {
    e.content = t3;
  },
  getTemplateContent(e) {
    return e.content;
  },
  setDocumentType(e, t3, n4, r4) {
    const u5 = e.childNodes.find((a3) => a3.nodeName === "#documentType");
    if (u5)
      u5.name = t3, u5.publicId = n4, u5.systemId = r4;
    else {
      const a3 = {
        nodeName: "#documentType",
        name: t3,
        publicId: n4,
        systemId: r4,
        parentNode: null
      };
      ze3.appendChild(e, a3);
    }
  },
  setDocumentMode(e, t3) {
    e.mode = t3;
  },
  getDocumentMode(e) {
    return e.mode;
  },
  detachNode(e) {
    if (e.parentNode) {
      const t3 = e.parentNode.childNodes.indexOf(e);
      e.parentNode.childNodes.splice(t3, 1), e.parentNode = null;
    }
  },
  insertText(e, t3) {
    if (e.childNodes.length > 0) {
      const n4 = e.childNodes[e.childNodes.length - 1];
      if (ze3.isTextNode(n4)) {
        n4.value += t3;
        return;
      }
    }
    ze3.appendChild(e, ze3.createTextNode(t3));
  },
  insertTextBefore(e, t3, n4) {
    const r4 = e.childNodes[e.childNodes.indexOf(n4) - 1];
    r4 && ze3.isTextNode(r4) ? r4.value += t3 : ze3.insertBefore(e, ze3.createTextNode(t3), n4);
  },
  adoptAttributes(e, t3) {
    const n4 = new Set(e.attrs.map((r4) => r4.name));
    for (let r4 = 0; r4 < t3.length; r4++)
      n4.has(t3[r4].name) || e.attrs.push(t3[r4]);
  },
  //Tree traversing
  getFirstChild(e) {
    return e.childNodes[0];
  },
  getChildNodes(e) {
    return e.childNodes;
  },
  getParentNode(e) {
    return e.parentNode;
  },
  getAttrList(e) {
    return e.attrs;
  },
  //Node data
  getTagName(e) {
    return e.tagName;
  },
  getNamespaceURI(e) {
    return e.namespaceURI;
  },
  getTextNodeContent(e) {
    return e.value;
  },
  getCommentNodeContent(e) {
    return e.data;
  },
  getDocumentTypeNodeName(e) {
    return e.name;
  },
  getDocumentTypeNodePublicId(e) {
    return e.publicId;
  },
  getDocumentTypeNodeSystemId(e) {
    return e.systemId;
  },
  //Node types
  isTextNode(e) {
    return e.nodeName === "#text";
  },
  isCommentNode(e) {
    return e.nodeName === "#comment";
  },
  isDocumentTypeNode(e) {
    return e.nodeName === "#documentType";
  },
  isElementNode(e) {
    return Object.prototype.hasOwnProperty.call(e, "tagName");
  },
  // Source code location
  setNodeSourceCodeLocation(e, t3) {
    e.sourceCodeLocation = t3;
  },
  getNodeSourceCodeLocation(e) {
    return e.sourceCodeLocation;
  },
  updateNodeSourceCodeLocation(e, t3) {
    e.sourceCodeLocation = { ...e.sourceCodeLocation, ...t3 };
  }
};
var na2 = "html";
var Mf = "about:legacy-compat";
var Bf = "http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd";
var ra2 = [
  "+//silmaril//dtd html pro v0r11 19970101//",
  "-//as//dtd html 3.0 aswedit + extensions//",
  "-//advasoft ltd//dtd html 3.0 aswedit + extensions//",
  "-//ietf//dtd html 2.0 level 1//",
  "-//ietf//dtd html 2.0 level 2//",
  "-//ietf//dtd html 2.0 strict level 1//",
  "-//ietf//dtd html 2.0 strict level 2//",
  "-//ietf//dtd html 2.0 strict//",
  "-//ietf//dtd html 2.0//",
  "-//ietf//dtd html 2.1e//",
  "-//ietf//dtd html 3.0//",
  "-//ietf//dtd html 3.2 final//",
  "-//ietf//dtd html 3.2//",
  "-//ietf//dtd html 3//",
  "-//ietf//dtd html level 0//",
  "-//ietf//dtd html level 1//",
  "-//ietf//dtd html level 2//",
  "-//ietf//dtd html level 3//",
  "-//ietf//dtd html strict level 0//",
  "-//ietf//dtd html strict level 1//",
  "-//ietf//dtd html strict level 2//",
  "-//ietf//dtd html strict level 3//",
  "-//ietf//dtd html strict//",
  "-//ietf//dtd html//",
  "-//metrius//dtd metrius presentational//",
  "-//microsoft//dtd internet explorer 2.0 html strict//",
  "-//microsoft//dtd internet explorer 2.0 html//",
  "-//microsoft//dtd internet explorer 2.0 tables//",
  "-//microsoft//dtd internet explorer 3.0 html strict//",
  "-//microsoft//dtd internet explorer 3.0 html//",
  "-//microsoft//dtd internet explorer 3.0 tables//",
  "-//netscape comm. corp.//dtd html//",
  "-//netscape comm. corp.//dtd strict html//",
  "-//o'reilly and associates//dtd html 2.0//",
  "-//o'reilly and associates//dtd html extended 1.0//",
  "-//o'reilly and associates//dtd html extended relaxed 1.0//",
  "-//sq//dtd html 2.0 hotmetal + extensions//",
  "-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//",
  "-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//",
  "-//spyglass//dtd html 2.0 extended//",
  "-//sun microsystems corp.//dtd hotjava html//",
  "-//sun microsystems corp.//dtd hotjava strict html//",
  "-//w3c//dtd html 3 1995-03-24//",
  "-//w3c//dtd html 3.2 draft//",
  "-//w3c//dtd html 3.2 final//",
  "-//w3c//dtd html 3.2//",
  "-//w3c//dtd html 3.2s draft//",
  "-//w3c//dtd html 4.0 frameset//",
  "-//w3c//dtd html 4.0 transitional//",
  "-//w3c//dtd html experimental 19960712//",
  "-//w3c//dtd html experimental 970421//",
  "-//w3c//dtd w3 html//",
  "-//w3o//dtd w3 html 3.0//",
  "-//webtechs//dtd mozilla html 2.0//",
  "-//webtechs//dtd mozilla html//"
];
var Ff = [
  ...ra2,
  "-//w3c//dtd html 4.01 frameset//",
  "-//w3c//dtd html 4.01 transitional//"
];
var Hf = /* @__PURE__ */ new Set([
  "-//w3o//dtd w3 html strict 3.0//en//",
  "-/w3c/dtd html 4.0 transitional/en",
  "html"
]);
var ua2 = ["-//w3c//dtd xhtml 1.0 frameset//", "-//w3c//dtd xhtml 1.0 transitional//"];
var Uf = [
  ...ua2,
  "-//w3c//dtd html 4.01 frameset//",
  "-//w3c//dtd html 4.01 transitional//"
];
function wu2(e, t3) {
  return t3.some((n4) => e.startsWith(n4));
}
function vf(e) {
  return e.name === na2 && e.publicId === null && (e.systemId === null || e.systemId === Mf);
}
function zf(e) {
  if (e.name !== na2)
    return be4.QUIRKS;
  const { systemId: t3 } = e;
  if (t3 && t3.toLowerCase() === Bf)
    return be4.QUIRKS;
  let { publicId: n4 } = e;
  if (n4 !== null) {
    if (n4 = n4.toLowerCase(), Hf.has(n4))
      return be4.QUIRKS;
    let r4 = t3 === null ? Ff : ra2;
    if (wu2(n4, r4))
      return be4.QUIRKS;
    if (r4 = t3 === null ? ua2 : Uf, wu2(n4, r4))
      return be4.LIMITED_QUIRKS;
  }
  return be4.NO_QUIRKS;
}
var Mu2 = {
  TEXT_HTML: "text/html",
  APPLICATION_XML: "application/xhtml+xml"
};
var Yf = "definitionurl";
var qf = "definitionURL";
var jf = new Map([
  "attributeName",
  "attributeType",
  "baseFrequency",
  "baseProfile",
  "calcMode",
  "clipPathUnits",
  "diffuseConstant",
  "edgeMode",
  "filterUnits",
  "glyphRef",
  "gradientTransform",
  "gradientUnits",
  "kernelMatrix",
  "kernelUnitLength",
  "keyPoints",
  "keySplines",
  "keyTimes",
  "lengthAdjust",
  "limitingConeAngle",
  "markerHeight",
  "markerUnits",
  "markerWidth",
  "maskContentUnits",
  "maskUnits",
  "numOctaves",
  "pathLength",
  "patternContentUnits",
  "patternTransform",
  "patternUnits",
  "pointsAtX",
  "pointsAtY",
  "pointsAtZ",
  "preserveAlpha",
  "preserveAspectRatio",
  "primitiveUnits",
  "refX",
  "refY",
  "repeatCount",
  "repeatDur",
  "requiredExtensions",
  "requiredFeatures",
  "specularConstant",
  "specularExponent",
  "spreadMethod",
  "startOffset",
  "stdDeviation",
  "stitchTiles",
  "surfaceScale",
  "systemLanguage",
  "tableValues",
  "targetX",
  "targetY",
  "textLength",
  "viewBox",
  "viewTarget",
  "xChannelSelector",
  "yChannelSelector",
  "zoomAndPan"
].map((e) => [e.toLowerCase(), e]));
var Vf = /* @__PURE__ */ new Map([
  ["xlink:actuate", { prefix: "xlink", name: "actuate", namespace: y3.XLINK }],
  ["xlink:arcrole", { prefix: "xlink", name: "arcrole", namespace: y3.XLINK }],
  ["xlink:href", { prefix: "xlink", name: "href", namespace: y3.XLINK }],
  ["xlink:role", { prefix: "xlink", name: "role", namespace: y3.XLINK }],
  ["xlink:show", { prefix: "xlink", name: "show", namespace: y3.XLINK }],
  ["xlink:title", { prefix: "xlink", name: "title", namespace: y3.XLINK }],
  ["xlink:type", { prefix: "xlink", name: "type", namespace: y3.XLINK }],
  ["xml:lang", { prefix: "xml", name: "lang", namespace: y3.XML }],
  ["xml:space", { prefix: "xml", name: "space", namespace: y3.XML }],
  ["xmlns", { prefix: "", name: "xmlns", namespace: y3.XMLNS }],
  ["xmlns:xlink", { prefix: "xmlns", name: "xlink", namespace: y3.XMLNS }]
]);
var Wf = new Map([
  "altGlyph",
  "altGlyphDef",
  "altGlyphItem",
  "animateColor",
  "animateMotion",
  "animateTransform",
  "clipPath",
  "feBlend",
  "feColorMatrix",
  "feComponentTransfer",
  "feComposite",
  "feConvolveMatrix",
  "feDiffuseLighting",
  "feDisplacementMap",
  "feDistantLight",
  "feFlood",
  "feFuncA",
  "feFuncB",
  "feFuncG",
  "feFuncR",
  "feGaussianBlur",
  "feImage",
  "feMerge",
  "feMergeNode",
  "feMorphology",
  "feOffset",
  "fePointLight",
  "feSpecularLighting",
  "feSpotLight",
  "feTile",
  "feTurbulence",
  "foreignObject",
  "glyphRef",
  "linearGradient",
  "radialGradient",
  "textPath"
].map((e) => [e.toLowerCase(), e]));
var Qf = /* @__PURE__ */ new Set([
  s.B,
  s.BIG,
  s.BLOCKQUOTE,
  s.BODY,
  s.BR,
  s.CENTER,
  s.CODE,
  s.DD,
  s.DIV,
  s.DL,
  s.DT,
  s.EM,
  s.EMBED,
  s.H1,
  s.H2,
  s.H3,
  s.H4,
  s.H5,
  s.H6,
  s.HEAD,
  s.HR,
  s.I,
  s.IMG,
  s.LI,
  s.LISTING,
  s.MENU,
  s.META,
  s.NOBR,
  s.OL,
  s.P,
  s.PRE,
  s.RUBY,
  s.S,
  s.SMALL,
  s.SPAN,
  s.STRONG,
  s.STRIKE,
  s.SUB,
  s.SUP,
  s.TABLE,
  s.TT,
  s.U,
  s.UL,
  s.VAR
]);
function Gf(e) {
  const t3 = e.tagID;
  return t3 === s.FONT && e.attrs.some(({ name: r4 }) => r4 === et3.COLOR || r4 === et3.SIZE || r4 === et3.FACE) || Qf.has(t3);
}
function ia2(e) {
  for (let t3 = 0; t3 < e.attrs.length; t3++)
    if (e.attrs[t3].name === Yf) {
      e.attrs[t3].name = qf;
      break;
    }
}
function aa2(e) {
  for (let t3 = 0; t3 < e.attrs.length; t3++) {
    const n4 = jf.get(e.attrs[t3].name);
    n4 != null && (e.attrs[t3].name = n4);
  }
}
function Or2(e) {
  for (let t3 = 0; t3 < e.attrs.length; t3++) {
    const n4 = Vf.get(e.attrs[t3].name);
    n4 && (e.attrs[t3].prefix = n4.prefix, e.attrs[t3].name = n4.name, e.attrs[t3].namespace = n4.namespace);
  }
}
function Xf(e) {
  const t3 = Wf.get(e.tagName);
  t3 != null && (e.tagName = t3, e.tagID = At2(e.tagName));
}
function Kf(e, t3) {
  return t3 === y3.MATHML && (e === s.MI || e === s.MO || e === s.MN || e === s.MS || e === s.MTEXT);
}
function $f(e, t3, n4) {
  if (t3 === y3.MATHML && e === s.ANNOTATION_XML) {
    for (let r4 = 0; r4 < n4.length; r4++)
      if (n4[r4].name === et3.ENCODING) {
        const u5 = n4[r4].value.toLowerCase();
        return u5 === Mu2.TEXT_HTML || u5 === Mu2.APPLICATION_XML;
      }
  }
  return t3 === y3.SVG && (e === s.FOREIGN_OBJECT || e === s.DESC || e === s.TITLE);
}
function Jf(e, t3, n4, r4) {
  return (!r4 || r4 === y3.HTML) && $f(e, t3, n4) || (!r4 || r4 === y3.MATHML) && Kf(e, t3);
}
var Zf = "hidden";
var eh2 = 8;
var th2 = 3;
var T4;
(function(e) {
  e[e.INITIAL = 0] = "INITIAL", e[e.BEFORE_HTML = 1] = "BEFORE_HTML", e[e.BEFORE_HEAD = 2] = "BEFORE_HEAD", e[e.IN_HEAD = 3] = "IN_HEAD", e[e.IN_HEAD_NO_SCRIPT = 4] = "IN_HEAD_NO_SCRIPT", e[e.AFTER_HEAD = 5] = "AFTER_HEAD", e[e.IN_BODY = 6] = "IN_BODY", e[e.TEXT = 7] = "TEXT", e[e.IN_TABLE = 8] = "IN_TABLE", e[e.IN_TABLE_TEXT = 9] = "IN_TABLE_TEXT", e[e.IN_CAPTION = 10] = "IN_CAPTION", e[e.IN_COLUMN_GROUP = 11] = "IN_COLUMN_GROUP", e[e.IN_TABLE_BODY = 12] = "IN_TABLE_BODY", e[e.IN_ROW = 13] = "IN_ROW", e[e.IN_CELL = 14] = "IN_CELL", e[e.IN_SELECT = 15] = "IN_SELECT", e[e.IN_SELECT_IN_TABLE = 16] = "IN_SELECT_IN_TABLE", e[e.IN_TEMPLATE = 17] = "IN_TEMPLATE", e[e.AFTER_BODY = 18] = "AFTER_BODY", e[e.IN_FRAMESET = 19] = "IN_FRAMESET", e[e.AFTER_FRAMESET = 20] = "AFTER_FRAMESET", e[e.AFTER_AFTER_BODY = 21] = "AFTER_AFTER_BODY", e[e.AFTER_AFTER_FRAMESET = 22] = "AFTER_AFTER_FRAMESET";
})(T4 || (T4 = {}));
var nh = {
  startLine: -1,
  startCol: -1,
  startOffset: -1,
  endLine: -1,
  endCol: -1,
  endOffset: -1
};
var sa2 = /* @__PURE__ */ new Set([s.TABLE, s.TBODY, s.TFOOT, s.THEAD, s.TR]);
var Bu2 = {
  scriptingEnabled: true,
  sourceCodeLocationInfo: false,
  treeAdapter: ze3,
  onParseError: null
};
var Fu2 = class {
  constructor(t3, n4, r4 = null, u5 = null) {
    this.fragmentContext = r4, this.scriptHandler = u5, this.currentToken = null, this.stopped = false, this.insertionMode = T4.INITIAL, this.originalInsertionMode = T4.INITIAL, this.headElement = null, this.formElement = null, this.currentNotInHTML = false, this.tmplInsertionModeStack = [], this.pendingCharacterTokens = [], this.hasNonWhitespacePendingCharacterToken = false, this.framesetOk = true, this.skipNextNewLine = false, this.fosterParentingEnabled = false, this.options = {
      ...Bu2,
      ...t3
    }, this.treeAdapter = this.options.treeAdapter, this.onParseError = this.options.onParseError, this.onParseError && (this.options.sourceCodeLocationInfo = true), this.document = n4 ?? this.treeAdapter.createDocument(), this.tokenizer = new Sf(this.options, this), this.activeFormattingElements = new wf(this.treeAdapter), this.fragmentContextID = r4 ? At2(this.treeAdapter.getTagName(r4)) : s.UNKNOWN, this._setContextModes(r4 ?? this.document, this.fragmentContextID), this.openElements = new Pf(this.document, this.treeAdapter, this);
  }
  // API
  static parse(t3, n4) {
    const r4 = new this(n4);
    return r4.tokenizer.write(t3, true), r4.document;
  }
  static getFragmentParser(t3, n4) {
    const r4 = {
      ...Bu2,
      ...n4
    };
    t3 ?? (t3 = r4.treeAdapter.createElement(_3.TEMPLATE, y3.HTML, []));
    const u5 = r4.treeAdapter.createElement("documentmock", y3.HTML, []), a3 = new this(r4, u5, t3);
    return a3.fragmentContextID === s.TEMPLATE && a3.tmplInsertionModeStack.unshift(T4.IN_TEMPLATE), a3._initTokenizerForFragmentParsing(), a3._insertFakeRootElement(), a3._resetInsertionMode(), a3._findFormInFragmentContext(), a3;
  }
  getFragment() {
    const t3 = this.treeAdapter.getFirstChild(this.document), n4 = this.treeAdapter.createDocumentFragment();
    return this._adoptNodes(t3, n4), n4;
  }
  //Errors
  /** @internal */
  _err(t3, n4, r4) {
    var u5;
    if (!this.onParseError)
      return;
    const a3 = (u5 = t3.location) !== null && u5 !== void 0 ? u5 : nh, i5 = {
      code: n4,
      startLine: a3.startLine,
      startCol: a3.startCol,
      startOffset: a3.startOffset,
      endLine: r4 ? a3.startLine : a3.endLine,
      endCol: r4 ? a3.startCol : a3.endCol,
      endOffset: r4 ? a3.startOffset : a3.endOffset
    };
    this.onParseError(i5);
  }
  //Stack events
  /** @internal */
  onItemPush(t3, n4, r4) {
    var u5, a3;
    (a3 = (u5 = this.treeAdapter).onItemPush) === null || a3 === void 0 || a3.call(u5, t3), r4 && this.openElements.stackTop > 0 && this._setContextModes(t3, n4);
  }
  /** @internal */
  onItemPop(t3, n4) {
    var r4, u5;
    if (this.options.sourceCodeLocationInfo && this._setEndLocation(t3, this.currentToken), (u5 = (r4 = this.treeAdapter).onItemPop) === null || u5 === void 0 || u5.call(r4, t3, this.openElements.current), n4) {
      let a3, i5;
      this.openElements.stackTop === 0 && this.fragmentContext ? (a3 = this.fragmentContext, i5 = this.fragmentContextID) : { current: a3, currentTagId: i5 } = this.openElements, this._setContextModes(a3, i5);
    }
  }
  _setContextModes(t3, n4) {
    const r4 = t3 === this.document || this.treeAdapter.getNamespaceURI(t3) === y3.HTML;
    this.currentNotInHTML = !r4, this.tokenizer.inForeignNode = !r4 && !this._isIntegrationPoint(n4, t3);
  }
  /** @protected */
  _switchToTextParsing(t3, n4) {
    this._insertElement(t3, y3.HTML), this.tokenizer.state = n4, this.originalInsertionMode = this.insertionMode, this.insertionMode = T4.TEXT;
  }
  switchToPlaintextParsing() {
    this.insertionMode = T4.TEXT, this.originalInsertionMode = T4.IN_BODY, this.tokenizer.state = re3.PLAINTEXT;
  }
  //Fragment parsing
  /** @protected */
  _getAdjustedCurrentElement() {
    return this.openElements.stackTop === 0 && this.fragmentContext ? this.fragmentContext : this.openElements.current;
  }
  /** @protected */
  _findFormInFragmentContext() {
    let t3 = this.fragmentContext;
    for (; t3; ) {
      if (this.treeAdapter.getTagName(t3) === _3.FORM) {
        this.formElement = t3;
        break;
      }
      t3 = this.treeAdapter.getParentNode(t3);
    }
  }
  _initTokenizerForFragmentParsing() {
    if (!(!this.fragmentContext || this.treeAdapter.getNamespaceURI(this.fragmentContext) !== y3.HTML))
      switch (this.fragmentContextID) {
        case s.TITLE:
        case s.TEXTAREA: {
          this.tokenizer.state = re3.RCDATA;
          break;
        }
        case s.STYLE:
        case s.XMP:
        case s.IFRAME:
        case s.NOEMBED:
        case s.NOFRAMES:
        case s.NOSCRIPT: {
          this.tokenizer.state = re3.RAWTEXT;
          break;
        }
        case s.SCRIPT: {
          this.tokenizer.state = re3.SCRIPT_DATA;
          break;
        }
        case s.PLAINTEXT: {
          this.tokenizer.state = re3.PLAINTEXT;
          break;
        }
      }
  }
  //Tree mutation
  /** @protected */
  _setDocumentType(t3) {
    const n4 = t3.name || "", r4 = t3.publicId || "", u5 = t3.systemId || "";
    if (this.treeAdapter.setDocumentType(this.document, n4, r4, u5), t3.location) {
      const i5 = this.treeAdapter.getChildNodes(this.document).find((o2) => this.treeAdapter.isDocumentTypeNode(o2));
      i5 && this.treeAdapter.setNodeSourceCodeLocation(i5, t3.location);
    }
  }
  /** @protected */
  _attachElementToTree(t3, n4) {
    if (this.options.sourceCodeLocationInfo) {
      const r4 = n4 && {
        ...n4,
        startTag: n4
      };
      this.treeAdapter.setNodeSourceCodeLocation(t3, r4);
    }
    if (this._shouldFosterParentOnInsertion())
      this._fosterParentElement(t3);
    else {
      const r4 = this.openElements.currentTmplContentOrNode;
      this.treeAdapter.appendChild(r4, t3);
    }
  }
  /**
   * For self-closing tags. Add an element to the tree, but skip adding it
   * to the stack.
   */
  /** @protected */
  _appendElement(t3, n4) {
    const r4 = this.treeAdapter.createElement(t3.tagName, n4, t3.attrs);
    this._attachElementToTree(r4, t3.location);
  }
  /** @protected */
  _insertElement(t3, n4) {
    const r4 = this.treeAdapter.createElement(t3.tagName, n4, t3.attrs);
    this._attachElementToTree(r4, t3.location), this.openElements.push(r4, t3.tagID);
  }
  /** @protected */
  _insertFakeElement(t3, n4) {
    const r4 = this.treeAdapter.createElement(t3, y3.HTML, []);
    this._attachElementToTree(r4, null), this.openElements.push(r4, n4);
  }
  /** @protected */
  _insertTemplate(t3) {
    const n4 = this.treeAdapter.createElement(t3.tagName, y3.HTML, t3.attrs), r4 = this.treeAdapter.createDocumentFragment();
    this.treeAdapter.setTemplateContent(n4, r4), this._attachElementToTree(n4, t3.location), this.openElements.push(n4, t3.tagID), this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(r4, null);
  }
  /** @protected */
  _insertFakeRootElement() {
    const t3 = this.treeAdapter.createElement(_3.HTML, y3.HTML, []);
    this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(t3, null), this.treeAdapter.appendChild(this.openElements.current, t3), this.openElements.push(t3, s.HTML);
  }
  /** @protected */
  _appendCommentNode(t3, n4) {
    const r4 = this.treeAdapter.createCommentNode(t3.data);
    this.treeAdapter.appendChild(n4, r4), this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(r4, t3.location);
  }
  /** @protected */
  _insertCharacters(t3) {
    let n4, r4;
    if (this._shouldFosterParentOnInsertion() ? ({ parent: n4, beforeElement: r4 } = this._findFosterParentingLocation(), r4 ? this.treeAdapter.insertTextBefore(n4, t3.chars, r4) : this.treeAdapter.insertText(n4, t3.chars)) : (n4 = this.openElements.currentTmplContentOrNode, this.treeAdapter.insertText(n4, t3.chars)), !t3.location)
      return;
    const u5 = this.treeAdapter.getChildNodes(n4), a3 = r4 ? u5.lastIndexOf(r4) : u5.length, i5 = u5[a3 - 1];
    if (this.treeAdapter.getNodeSourceCodeLocation(i5)) {
      const { endLine: l3, endCol: c6, endOffset: h3 } = t3.location;
      this.treeAdapter.updateNodeSourceCodeLocation(i5, { endLine: l3, endCol: c6, endOffset: h3 });
    } else this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(i5, t3.location);
  }
  /** @protected */
  _adoptNodes(t3, n4) {
    for (let r4 = this.treeAdapter.getFirstChild(t3); r4; r4 = this.treeAdapter.getFirstChild(t3))
      this.treeAdapter.detachNode(r4), this.treeAdapter.appendChild(n4, r4);
  }
  /** @protected */
  _setEndLocation(t3, n4) {
    if (this.treeAdapter.getNodeSourceCodeLocation(t3) && n4.location) {
      const r4 = n4.location, u5 = this.treeAdapter.getTagName(t3), a3 = (
        // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing
        // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.
        n4.type === q4.END_TAG && u5 === n4.tagName ? {
          endTag: { ...r4 },
          endLine: r4.endLine,
          endCol: r4.endCol,
          endOffset: r4.endOffset
        } : {
          endLine: r4.startLine,
          endCol: r4.startCol,
          endOffset: r4.startOffset
        }
      );
      this.treeAdapter.updateNodeSourceCodeLocation(t3, a3);
    }
  }
  //Token processing
  shouldProcessStartTagTokenInForeignContent(t3) {
    if (!this.currentNotInHTML)
      return false;
    let n4, r4;
    return this.openElements.stackTop === 0 && this.fragmentContext ? (n4 = this.fragmentContext, r4 = this.fragmentContextID) : { current: n4, currentTagId: r4 } = this.openElements, t3.tagID === s.SVG && this.treeAdapter.getTagName(n4) === _3.ANNOTATION_XML && this.treeAdapter.getNamespaceURI(n4) === y3.MATHML ? false : (
      // Check that `current` is not an integration point for HTML or MathML elements.
      this.tokenizer.inForeignNode || // If it _is_ an integration point, then we might have to check that it is not an HTML
      // integration point.
      (t3.tagID === s.MGLYPH || t3.tagID === s.MALIGNMARK) && !this._isIntegrationPoint(r4, n4, y3.HTML)
    );
  }
  /** @protected */
  _processToken(t3) {
    switch (t3.type) {
      case q4.CHARACTER: {
        this.onCharacter(t3);
        break;
      }
      case q4.NULL_CHARACTER: {
        this.onNullCharacter(t3);
        break;
      }
      case q4.COMMENT: {
        this.onComment(t3);
        break;
      }
      case q4.DOCTYPE: {
        this.onDoctype(t3);
        break;
      }
      case q4.START_TAG: {
        this._processStartTag(t3);
        break;
      }
      case q4.END_TAG: {
        this.onEndTag(t3);
        break;
      }
      case q4.EOF: {
        this.onEof(t3);
        break;
      }
      case q4.WHITESPACE_CHARACTER: {
        this.onWhitespaceCharacter(t3);
        break;
      }
    }
  }
  //Integration points
  /** @protected */
  _isIntegrationPoint(t3, n4, r4) {
    const u5 = this.treeAdapter.getNamespaceURI(n4), a3 = this.treeAdapter.getAttrList(n4);
    return Jf(t3, u5, a3, r4);
  }
  //Active formatting elements reconstruction
  /** @protected */
  _reconstructActiveFormattingElements() {
    const t3 = this.activeFormattingElements.entries.length;
    if (t3) {
      const n4 = this.activeFormattingElements.entries.findIndex((u5) => u5.type === ke4.Marker || this.openElements.contains(u5.element)), r4 = n4 < 0 ? t3 - 1 : n4 - 1;
      for (let u5 = r4; u5 >= 0; u5--) {
        const a3 = this.activeFormattingElements.entries[u5];
        this._insertElement(a3.token, this.treeAdapter.getNamespaceURI(a3.element)), a3.element = this.openElements.current;
      }
    }
  }
  //Close elements
  /** @protected */
  _closeTableCell() {
    this.openElements.generateImpliedEndTags(), this.openElements.popUntilTableCellPopped(), this.activeFormattingElements.clearToLastMarker(), this.insertionMode = T4.IN_ROW;
  }
  /** @protected */
  _closePElement() {
    this.openElements.generateImpliedEndTagsWithExclusion(s.P), this.openElements.popUntilTagNamePopped(s.P);
  }
  //Insertion modes
  /** @protected */
  _resetInsertionMode() {
    for (let t3 = this.openElements.stackTop; t3 >= 0; t3--)
      switch (t3 === 0 && this.fragmentContext ? this.fragmentContextID : this.openElements.tagIDs[t3]) {
        case s.TR: {
          this.insertionMode = T4.IN_ROW;
          return;
        }
        case s.TBODY:
        case s.THEAD:
        case s.TFOOT: {
          this.insertionMode = T4.IN_TABLE_BODY;
          return;
        }
        case s.CAPTION: {
          this.insertionMode = T4.IN_CAPTION;
          return;
        }
        case s.COLGROUP: {
          this.insertionMode = T4.IN_COLUMN_GROUP;
          return;
        }
        case s.TABLE: {
          this.insertionMode = T4.IN_TABLE;
          return;
        }
        case s.BODY: {
          this.insertionMode = T4.IN_BODY;
          return;
        }
        case s.FRAMESET: {
          this.insertionMode = T4.IN_FRAMESET;
          return;
        }
        case s.SELECT: {
          this._resetInsertionModeForSelect(t3);
          return;
        }
        case s.TEMPLATE: {
          this.insertionMode = this.tmplInsertionModeStack[0];
          return;
        }
        case s.HTML: {
          this.insertionMode = this.headElement ? T4.AFTER_HEAD : T4.BEFORE_HEAD;
          return;
        }
        case s.TD:
        case s.TH: {
          if (t3 > 0) {
            this.insertionMode = T4.IN_CELL;
            return;
          }
          break;
        }
        case s.HEAD: {
          if (t3 > 0) {
            this.insertionMode = T4.IN_HEAD;
            return;
          }
          break;
        }
      }
    this.insertionMode = T4.IN_BODY;
  }
  /** @protected */
  _resetInsertionModeForSelect(t3) {
    if (t3 > 0)
      for (let n4 = t3 - 1; n4 > 0; n4--) {
        const r4 = this.openElements.tagIDs[n4];
        if (r4 === s.TEMPLATE)
          break;
        if (r4 === s.TABLE) {
          this.insertionMode = T4.IN_SELECT_IN_TABLE;
          return;
        }
      }
    this.insertionMode = T4.IN_SELECT;
  }
  //Foster parenting
  /** @protected */
  _isElementCausesFosterParenting(t3) {
    return sa2.has(t3);
  }
  /** @protected */
  _shouldFosterParentOnInsertion() {
    return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.currentTagId);
  }
  /** @protected */
  _findFosterParentingLocation() {
    for (let t3 = this.openElements.stackTop; t3 >= 0; t3--) {
      const n4 = this.openElements.items[t3];
      switch (this.openElements.tagIDs[t3]) {
        case s.TEMPLATE: {
          if (this.treeAdapter.getNamespaceURI(n4) === y3.HTML)
            return { parent: this.treeAdapter.getTemplateContent(n4), beforeElement: null };
          break;
        }
        case s.TABLE: {
          const r4 = this.treeAdapter.getParentNode(n4);
          return r4 ? { parent: r4, beforeElement: n4 } : { parent: this.openElements.items[t3 - 1], beforeElement: null };
        }
      }
    }
    return { parent: this.openElements.items[0], beforeElement: null };
  }
  /** @protected */
  _fosterParentElement(t3) {
    const n4 = this._findFosterParentingLocation();
    n4.beforeElement ? this.treeAdapter.insertBefore(n4.parent, t3, n4.beforeElement) : this.treeAdapter.appendChild(n4.parent, t3);
  }
  //Special elements
  /** @protected */
  _isSpecialElement(t3, n4) {
    const r4 = this.treeAdapter.getNamespaceURI(t3);
    return Cf[r4].has(n4);
  }
  /** @internal */
  onCharacter(t3) {
    if (this.skipNextNewLine = false, this.tokenizer.inForeignNode) {
      Dd(this, t3);
      return;
    }
    switch (this.insertionMode) {
      case T4.INITIAL: {
        kt2(this, t3);
        break;
      }
      case T4.BEFORE_HTML: {
        Pt2(this, t3);
        break;
      }
      case T4.BEFORE_HEAD: {
        wt2(this, t3);
        break;
      }
      case T4.IN_HEAD: {
        Mt2(this, t3);
        break;
      }
      case T4.IN_HEAD_NO_SCRIPT: {
        Bt3(this, t3);
        break;
      }
      case T4.AFTER_HEAD: {
        Ft2(this, t3);
        break;
      }
      case T4.IN_BODY:
      case T4.IN_CAPTION:
      case T4.IN_CELL:
      case T4.IN_TEMPLATE: {
        la2(this, t3);
        break;
      }
      case T4.TEXT:
      case T4.IN_SELECT:
      case T4.IN_SELECT_IN_TABLE: {
        this._insertCharacters(t3);
        break;
      }
      case T4.IN_TABLE:
      case T4.IN_TABLE_BODY:
      case T4.IN_ROW: {
        jn2(this, t3);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        pa2(this, t3);
        break;
      }
      case T4.IN_COLUMN_GROUP: {
        mn2(this, t3);
        break;
      }
      case T4.AFTER_BODY: {
        pn2(this, t3);
        break;
      }
      case T4.AFTER_AFTER_BODY: {
        an2(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onNullCharacter(t3) {
    if (this.skipNextNewLine = false, this.tokenizer.inForeignNode) {
      Rd(this, t3);
      return;
    }
    switch (this.insertionMode) {
      case T4.INITIAL: {
        kt2(this, t3);
        break;
      }
      case T4.BEFORE_HTML: {
        Pt2(this, t3);
        break;
      }
      case T4.BEFORE_HEAD: {
        wt2(this, t3);
        break;
      }
      case T4.IN_HEAD: {
        Mt2(this, t3);
        break;
      }
      case T4.IN_HEAD_NO_SCRIPT: {
        Bt3(this, t3);
        break;
      }
      case T4.AFTER_HEAD: {
        Ft2(this, t3);
        break;
      }
      case T4.TEXT: {
        this._insertCharacters(t3);
        break;
      }
      case T4.IN_TABLE:
      case T4.IN_TABLE_BODY:
      case T4.IN_ROW: {
        jn2(this, t3);
        break;
      }
      case T4.IN_COLUMN_GROUP: {
        mn2(this, t3);
        break;
      }
      case T4.AFTER_BODY: {
        pn2(this, t3);
        break;
      }
      case T4.AFTER_AFTER_BODY: {
        an2(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onComment(t3) {
    if (this.skipNextNewLine = false, this.currentNotInHTML) {
      ir2(this, t3);
      return;
    }
    switch (this.insertionMode) {
      case T4.INITIAL:
      case T4.BEFORE_HTML:
      case T4.BEFORE_HEAD:
      case T4.IN_HEAD:
      case T4.IN_HEAD_NO_SCRIPT:
      case T4.AFTER_HEAD:
      case T4.IN_BODY:
      case T4.IN_TABLE:
      case T4.IN_CAPTION:
      case T4.IN_COLUMN_GROUP:
      case T4.IN_TABLE_BODY:
      case T4.IN_ROW:
      case T4.IN_CELL:
      case T4.IN_SELECT:
      case T4.IN_SELECT_IN_TABLE:
      case T4.IN_TEMPLATE:
      case T4.IN_FRAMESET:
      case T4.AFTER_FRAMESET: {
        ir2(this, t3);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        Ot3(this, t3);
        break;
      }
      case T4.AFTER_BODY: {
        lh(this, t3);
        break;
      }
      case T4.AFTER_AFTER_BODY:
      case T4.AFTER_AFTER_FRAMESET: {
        ch(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onDoctype(t3) {
    switch (this.skipNextNewLine = false, this.insertionMode) {
      case T4.INITIAL: {
        fh(this, t3);
        break;
      }
      case T4.BEFORE_HEAD:
      case T4.IN_HEAD:
      case T4.IN_HEAD_NO_SCRIPT:
      case T4.AFTER_HEAD: {
        this._err(t3, C3.misplacedDoctype);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        Ot3(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onStartTag(t3) {
    this.skipNextNewLine = false, this.currentToken = t3, this._processStartTag(t3), t3.selfClosing && !t3.ackSelfClosing && this._err(t3, C3.nonVoidHtmlElementStartTagWithTrailingSolidus);
  }
  /**
   * Processes a given start tag.
   *
   * `onStartTag` checks if a self-closing tag was recognized. When a token
   * is moved inbetween multiple insertion modes, this check for self-closing
   * could lead to false positives. To avoid this, `_processStartTag` is used
   * for nested calls.
   *
   * @param token The token to process.
   * @protected
   */
  _processStartTag(t3) {
    this.shouldProcessStartTagTokenInForeignContent(t3) ? Pd(this, t3) : this._startTagOutsideForeignContent(t3);
  }
  /** @protected */
  _startTagOutsideForeignContent(t3) {
    switch (this.insertionMode) {
      case T4.INITIAL: {
        kt2(this, t3);
        break;
      }
      case T4.BEFORE_HTML: {
        hh(this, t3);
        break;
      }
      case T4.BEFORE_HEAD: {
        mh(this, t3);
        break;
      }
      case T4.IN_HEAD: {
        Ne4(this, t3);
        break;
      }
      case T4.IN_HEAD_NO_SCRIPT: {
        Th(this, t3);
        break;
      }
      case T4.AFTER_HEAD: {
        bh(this, t3);
        break;
      }
      case T4.IN_BODY: {
        he2(this, t3);
        break;
      }
      case T4.IN_TABLE: {
        pt2(this, t3);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        Ot3(this, t3);
        break;
      }
      case T4.IN_CAPTION: {
        pd(this, t3);
        break;
      }
      case T4.IN_COLUMN_GROUP: {
        Rr2(this, t3);
        break;
      }
      case T4.IN_TABLE_BODY: {
        Sn2(this, t3);
        break;
      }
      case T4.IN_ROW: {
        kn2(this, t3);
        break;
      }
      case T4.IN_CELL: {
        gd(this, t3);
        break;
      }
      case T4.IN_SELECT: {
        ga2(this, t3);
        break;
      }
      case T4.IN_SELECT_IN_TABLE: {
        Ad(this, t3);
        break;
      }
      case T4.IN_TEMPLATE: {
        Cd(this, t3);
        break;
      }
      case T4.AFTER_BODY: {
        xd(this, t3);
        break;
      }
      case T4.IN_FRAMESET: {
        Nd(this, t3);
        break;
      }
      case T4.AFTER_FRAMESET: {
        kd(this, t3);
        break;
      }
      case T4.AFTER_AFTER_BODY: {
        yd(this, t3);
        break;
      }
      case T4.AFTER_AFTER_FRAMESET: {
        Ld(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onEndTag(t3) {
    this.skipNextNewLine = false, this.currentToken = t3, this.currentNotInHTML ? wd(this, t3) : this._endTagOutsideForeignContent(t3);
  }
  /** @protected */
  _endTagOutsideForeignContent(t3) {
    switch (this.insertionMode) {
      case T4.INITIAL: {
        kt2(this, t3);
        break;
      }
      case T4.BEFORE_HTML: {
        dh(this, t3);
        break;
      }
      case T4.BEFORE_HEAD: {
        ph(this, t3);
        break;
      }
      case T4.IN_HEAD: {
        Eh(this, t3);
        break;
      }
      case T4.IN_HEAD_NO_SCRIPT: {
        gh(this, t3);
        break;
      }
      case T4.AFTER_HEAD: {
        Ah(this, t3);
        break;
      }
      case T4.IN_BODY: {
        Nn2(this, t3);
        break;
      }
      case T4.TEXT: {
        id(this, t3);
        break;
      }
      case T4.IN_TABLE: {
        vt3(this, t3);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        Ot3(this, t3);
        break;
      }
      case T4.IN_CAPTION: {
        Ed(this, t3);
        break;
      }
      case T4.IN_COLUMN_GROUP: {
        Td(this, t3);
        break;
      }
      case T4.IN_TABLE_BODY: {
        ar2(this, t3);
        break;
      }
      case T4.IN_ROW: {
        Ta2(this, t3);
        break;
      }
      case T4.IN_CELL: {
        bd(this, t3);
        break;
      }
      case T4.IN_SELECT: {
        ba2(this, t3);
        break;
      }
      case T4.IN_SELECT_IN_TABLE: {
        _d(this, t3);
        break;
      }
      case T4.IN_TEMPLATE: {
        Id(this, t3);
        break;
      }
      case T4.AFTER_BODY: {
        _a2(this, t3);
        break;
      }
      case T4.IN_FRAMESET: {
        Sd(this, t3);
        break;
      }
      case T4.AFTER_FRAMESET: {
        Od(this, t3);
        break;
      }
      case T4.AFTER_AFTER_BODY: {
        an2(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onEof(t3) {
    switch (this.insertionMode) {
      case T4.INITIAL: {
        kt2(this, t3);
        break;
      }
      case T4.BEFORE_HTML: {
        Pt2(this, t3);
        break;
      }
      case T4.BEFORE_HEAD: {
        wt2(this, t3);
        break;
      }
      case T4.IN_HEAD: {
        Mt2(this, t3);
        break;
      }
      case T4.IN_HEAD_NO_SCRIPT: {
        Bt3(this, t3);
        break;
      }
      case T4.AFTER_HEAD: {
        Ft2(this, t3);
        break;
      }
      case T4.IN_BODY:
      case T4.IN_TABLE:
      case T4.IN_CAPTION:
      case T4.IN_COLUMN_GROUP:
      case T4.IN_TABLE_BODY:
      case T4.IN_ROW:
      case T4.IN_CELL:
      case T4.IN_SELECT:
      case T4.IN_SELECT_IN_TABLE: {
        da2(this, t3);
        break;
      }
      case T4.TEXT: {
        ad(this, t3);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        Ot3(this, t3);
        break;
      }
      case T4.IN_TEMPLATE: {
        Aa2(this, t3);
        break;
      }
      case T4.AFTER_BODY:
      case T4.IN_FRAMESET:
      case T4.AFTER_FRAMESET:
      case T4.AFTER_AFTER_BODY:
      case T4.AFTER_AFTER_FRAMESET: {
        Lr2(this, t3);
        break;
      }
    }
  }
  /** @internal */
  onWhitespaceCharacter(t3) {
    if (this.skipNextNewLine && (this.skipNextNewLine = false, t3.chars.charCodeAt(0) === m2.LINE_FEED)) {
      if (t3.chars.length === 1)
        return;
      t3.chars = t3.chars.substr(1);
    }
    if (this.tokenizer.inForeignNode) {
      this._insertCharacters(t3);
      return;
    }
    switch (this.insertionMode) {
      case T4.IN_HEAD:
      case T4.IN_HEAD_NO_SCRIPT:
      case T4.AFTER_HEAD:
      case T4.TEXT:
      case T4.IN_COLUMN_GROUP:
      case T4.IN_SELECT:
      case T4.IN_SELECT_IN_TABLE:
      case T4.IN_FRAMESET:
      case T4.AFTER_FRAMESET: {
        this._insertCharacters(t3);
        break;
      }
      case T4.IN_BODY:
      case T4.IN_CAPTION:
      case T4.IN_CELL:
      case T4.IN_TEMPLATE:
      case T4.AFTER_BODY:
      case T4.AFTER_AFTER_BODY:
      case T4.AFTER_AFTER_FRAMESET: {
        oa2(this, t3);
        break;
      }
      case T4.IN_TABLE:
      case T4.IN_TABLE_BODY:
      case T4.IN_ROW: {
        jn2(this, t3);
        break;
      }
      case T4.IN_TABLE_TEXT: {
        ma2(this, t3);
        break;
      }
    }
  }
};
function rh(e, t3) {
  let n4 = e.activeFormattingElements.getElementEntryInScopeWithTagName(t3.tagName);
  return n4 ? e.openElements.contains(n4.element) ? e.openElements.hasInScope(t3.tagID) || (n4 = null) : (e.activeFormattingElements.removeEntry(n4), n4 = null) : ha2(e, t3), n4;
}
function uh2(e, t3) {
  let n4 = null, r4 = e.openElements.stackTop;
  for (; r4 >= 0; r4--) {
    const u5 = e.openElements.items[r4];
    if (u5 === t3.element)
      break;
    e._isSpecialElement(u5, e.openElements.tagIDs[r4]) && (n4 = u5);
  }
  return n4 || (e.openElements.shortenToLength(r4 < 0 ? 0 : r4), e.activeFormattingElements.removeEntry(t3)), n4;
}
function ih(e, t3, n4) {
  let r4 = t3, u5 = e.openElements.getCommonAncestor(t3);
  for (let a3 = 0, i5 = u5; i5 !== n4; a3++, i5 = u5) {
    u5 = e.openElements.getCommonAncestor(i5);
    const o2 = e.activeFormattingElements.getElementEntry(i5), l3 = o2 && a3 >= th2;
    !o2 || l3 ? (l3 && e.activeFormattingElements.removeEntry(o2), e.openElements.remove(i5)) : (i5 = ah2(e, o2), r4 === t3 && (e.activeFormattingElements.bookmark = o2), e.treeAdapter.detachNode(r4), e.treeAdapter.appendChild(i5, r4), r4 = i5);
  }
  return r4;
}
function ah2(e, t3) {
  const n4 = e.treeAdapter.getNamespaceURI(t3.element), r4 = e.treeAdapter.createElement(t3.token.tagName, n4, t3.token.attrs);
  return e.openElements.replace(t3.element, r4), t3.element = r4, r4;
}
function sh2(e, t3, n4) {
  const r4 = e.treeAdapter.getTagName(t3), u5 = At2(r4);
  if (e._isElementCausesFosterParenting(u5))
    e._fosterParentElement(n4);
  else {
    const a3 = e.treeAdapter.getNamespaceURI(t3);
    u5 === s.TEMPLATE && a3 === y3.HTML && (t3 = e.treeAdapter.getTemplateContent(t3)), e.treeAdapter.appendChild(t3, n4);
  }
}
function oh(e, t3, n4) {
  const r4 = e.treeAdapter.getNamespaceURI(n4.element), { token: u5 } = n4, a3 = e.treeAdapter.createElement(u5.tagName, r4, u5.attrs);
  e._adoptNodes(t3, a3), e.treeAdapter.appendChild(t3, a3), e.activeFormattingElements.insertElementAfterBookmark(a3, u5), e.activeFormattingElements.removeEntry(n4), e.openElements.remove(n4.element), e.openElements.insertAfter(t3, a3, u5.tagID);
}
function yr2(e, t3) {
  for (let n4 = 0; n4 < eh2; n4++) {
    const r4 = rh(e, t3);
    if (!r4)
      break;
    const u5 = uh2(e, r4);
    if (!u5)
      break;
    e.activeFormattingElements.bookmark = r4;
    const a3 = ih(e, u5, r4.element), i5 = e.openElements.getCommonAncestor(r4.element);
    e.treeAdapter.detachNode(a3), i5 && sh2(e, i5, a3), oh(e, u5, r4);
  }
}
function ir2(e, t3) {
  e._appendCommentNode(t3, e.openElements.currentTmplContentOrNode);
}
function lh(e, t3) {
  e._appendCommentNode(t3, e.openElements.items[0]);
}
function ch(e, t3) {
  e._appendCommentNode(t3, e.document);
}
function Lr2(e, t3) {
  if (e.stopped = true, t3.location) {
    const n4 = e.fragmentContext ? 0 : 2;
    for (let r4 = e.openElements.stackTop; r4 >= n4; r4--)
      e._setEndLocation(e.openElements.items[r4], t3);
    if (!e.fragmentContext && e.openElements.stackTop >= 0) {
      const r4 = e.openElements.items[0], u5 = e.treeAdapter.getNodeSourceCodeLocation(r4);
      if (u5 && !u5.endTag && (e._setEndLocation(r4, t3), e.openElements.stackTop >= 1)) {
        const a3 = e.openElements.items[1], i5 = e.treeAdapter.getNodeSourceCodeLocation(a3);
        i5 && !i5.endTag && e._setEndLocation(a3, t3);
      }
    }
  }
}
function fh(e, t3) {
  e._setDocumentType(t3);
  const n4 = t3.forceQuirks ? be4.QUIRKS : zf(t3);
  vf(t3) || e._err(t3, C3.nonConformingDoctype), e.treeAdapter.setDocumentMode(e.document, n4), e.insertionMode = T4.BEFORE_HTML;
}
function kt2(e, t3) {
  e._err(t3, C3.missingDoctype, true), e.treeAdapter.setDocumentMode(e.document, be4.QUIRKS), e.insertionMode = T4.BEFORE_HTML, e._processToken(t3);
}
function hh(e, t3) {
  t3.tagID === s.HTML ? (e._insertElement(t3, y3.HTML), e.insertionMode = T4.BEFORE_HEAD) : Pt2(e, t3);
}
function dh(e, t3) {
  const n4 = t3.tagID;
  (n4 === s.HTML || n4 === s.HEAD || n4 === s.BODY || n4 === s.BR) && Pt2(e, t3);
}
function Pt2(e, t3) {
  e._insertFakeRootElement(), e.insertionMode = T4.BEFORE_HEAD, e._processToken(t3);
}
function mh(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.HEAD: {
      e._insertElement(t3, y3.HTML), e.headElement = e.openElements.current, e.insertionMode = T4.IN_HEAD;
      break;
    }
    default:
      wt2(e, t3);
  }
}
function ph(e, t3) {
  const n4 = t3.tagID;
  n4 === s.HEAD || n4 === s.BODY || n4 === s.HTML || n4 === s.BR ? wt2(e, t3) : e._err(t3, C3.endTagWithoutMatchingOpenElement);
}
function wt2(e, t3) {
  e._insertFakeElement(_3.HEAD, s.HEAD), e.headElement = e.openElements.current, e.insertionMode = T4.IN_HEAD, e._processToken(t3);
}
function Ne4(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.BASE:
    case s.BASEFONT:
    case s.BGSOUND:
    case s.LINK:
    case s.META: {
      e._appendElement(t3, y3.HTML), t3.ackSelfClosing = true;
      break;
    }
    case s.TITLE: {
      e._switchToTextParsing(t3, re3.RCDATA);
      break;
    }
    case s.NOSCRIPT: {
      e.options.scriptingEnabled ? e._switchToTextParsing(t3, re3.RAWTEXT) : (e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_HEAD_NO_SCRIPT);
      break;
    }
    case s.NOFRAMES:
    case s.STYLE: {
      e._switchToTextParsing(t3, re3.RAWTEXT);
      break;
    }
    case s.SCRIPT: {
      e._switchToTextParsing(t3, re3.SCRIPT_DATA);
      break;
    }
    case s.TEMPLATE: {
      e._insertTemplate(t3), e.activeFormattingElements.insertMarker(), e.framesetOk = false, e.insertionMode = T4.IN_TEMPLATE, e.tmplInsertionModeStack.unshift(T4.IN_TEMPLATE);
      break;
    }
    case s.HEAD: {
      e._err(t3, C3.misplacedStartTagForHeadElement);
      break;
    }
    default:
      Mt2(e, t3);
  }
}
function Eh(e, t3) {
  switch (t3.tagID) {
    case s.HEAD: {
      e.openElements.pop(), e.insertionMode = T4.AFTER_HEAD;
      break;
    }
    case s.BODY:
    case s.BR:
    case s.HTML: {
      Mt2(e, t3);
      break;
    }
    case s.TEMPLATE: {
      rt2(e, t3);
      break;
    }
    default:
      e._err(t3, C3.endTagWithoutMatchingOpenElement);
  }
}
function rt2(e, t3) {
  e.openElements.tmplCount > 0 ? (e.openElements.generateImpliedEndTagsThoroughly(), e.openElements.currentTagId !== s.TEMPLATE && e._err(t3, C3.closingOfElementWithOpenChildElements), e.openElements.popUntilTagNamePopped(s.TEMPLATE), e.activeFormattingElements.clearToLastMarker(), e.tmplInsertionModeStack.shift(), e._resetInsertionMode()) : e._err(t3, C3.endTagWithoutMatchingOpenElement);
}
function Mt2(e, t3) {
  e.openElements.pop(), e.insertionMode = T4.AFTER_HEAD, e._processToken(t3);
}
function Th(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.BASEFONT:
    case s.BGSOUND:
    case s.HEAD:
    case s.LINK:
    case s.META:
    case s.NOFRAMES:
    case s.STYLE: {
      Ne4(e, t3);
      break;
    }
    case s.NOSCRIPT: {
      e._err(t3, C3.nestedNoscriptInHead);
      break;
    }
    default:
      Bt3(e, t3);
  }
}
function gh(e, t3) {
  switch (t3.tagID) {
    case s.NOSCRIPT: {
      e.openElements.pop(), e.insertionMode = T4.IN_HEAD;
      break;
    }
    case s.BR: {
      Bt3(e, t3);
      break;
    }
    default:
      e._err(t3, C3.endTagWithoutMatchingOpenElement);
  }
}
function Bt3(e, t3) {
  const n4 = t3.type === q4.EOF ? C3.openElementsLeftAfterEof : C3.disallowedContentInNoscriptInHead;
  e._err(t3, n4), e.openElements.pop(), e.insertionMode = T4.IN_HEAD, e._processToken(t3);
}
function bh(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.BODY: {
      e._insertElement(t3, y3.HTML), e.framesetOk = false, e.insertionMode = T4.IN_BODY;
      break;
    }
    case s.FRAMESET: {
      e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_FRAMESET;
      break;
    }
    case s.BASE:
    case s.BASEFONT:
    case s.BGSOUND:
    case s.LINK:
    case s.META:
    case s.NOFRAMES:
    case s.SCRIPT:
    case s.STYLE:
    case s.TEMPLATE:
    case s.TITLE: {
      e._err(t3, C3.abandonedHeadElementChild), e.openElements.push(e.headElement, s.HEAD), Ne4(e, t3), e.openElements.remove(e.headElement);
      break;
    }
    case s.HEAD: {
      e._err(t3, C3.misplacedStartTagForHeadElement);
      break;
    }
    default:
      Ft2(e, t3);
  }
}
function Ah(e, t3) {
  switch (t3.tagID) {
    case s.BODY:
    case s.HTML:
    case s.BR: {
      Ft2(e, t3);
      break;
    }
    case s.TEMPLATE: {
      rt2(e, t3);
      break;
    }
    default:
      e._err(t3, C3.endTagWithoutMatchingOpenElement);
  }
}
function Ft2(e, t3) {
  e._insertFakeElement(_3.BODY, s.BODY), e.insertionMode = T4.IN_BODY, xn2(e, t3);
}
function xn2(e, t3) {
  switch (t3.type) {
    case q4.CHARACTER: {
      la2(e, t3);
      break;
    }
    case q4.WHITESPACE_CHARACTER: {
      oa2(e, t3);
      break;
    }
    case q4.COMMENT: {
      ir2(e, t3);
      break;
    }
    case q4.START_TAG: {
      he2(e, t3);
      break;
    }
    case q4.END_TAG: {
      Nn2(e, t3);
      break;
    }
    case q4.EOF: {
      da2(e, t3);
      break;
    }
  }
}
function oa2(e, t3) {
  e._reconstructActiveFormattingElements(), e._insertCharacters(t3);
}
function la2(e, t3) {
  e._reconstructActiveFormattingElements(), e._insertCharacters(t3), e.framesetOk = false;
}
function _h(e, t3) {
  e.openElements.tmplCount === 0 && e.treeAdapter.adoptAttributes(e.openElements.items[0], t3.attrs);
}
function Ch(e, t3) {
  const n4 = e.openElements.tryPeekProperlyNestedBodyElement();
  n4 && e.openElements.tmplCount === 0 && (e.framesetOk = false, e.treeAdapter.adoptAttributes(n4, t3.attrs));
}
function Ih(e, t3) {
  const n4 = e.openElements.tryPeekProperlyNestedBodyElement();
  e.framesetOk && n4 && (e.treeAdapter.detachNode(n4), e.openElements.popAllUpToHtmlElement(), e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_FRAMESET);
}
function xh(e, t3) {
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._insertElement(t3, y3.HTML);
}
function Nh(e, t3) {
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), ur3.has(e.openElements.currentTagId) && e.openElements.pop(), e._insertElement(t3, y3.HTML);
}
function Sh(e, t3) {
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._insertElement(t3, y3.HTML), e.skipNextNewLine = true, e.framesetOk = false;
}
function kh(e, t3) {
  const n4 = e.openElements.tmplCount > 0;
  (!e.formElement || n4) && (e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._insertElement(t3, y3.HTML), n4 || (e.formElement = e.openElements.current));
}
function Oh(e, t3) {
  e.framesetOk = false;
  const n4 = t3.tagID;
  for (let r4 = e.openElements.stackTop; r4 >= 0; r4--) {
    const u5 = e.openElements.tagIDs[r4];
    if (n4 === s.LI && u5 === s.LI || (n4 === s.DD || n4 === s.DT) && (u5 === s.DD || u5 === s.DT)) {
      e.openElements.generateImpliedEndTagsWithExclusion(u5), e.openElements.popUntilTagNamePopped(u5);
      break;
    }
    if (u5 !== s.ADDRESS && u5 !== s.DIV && u5 !== s.P && e._isSpecialElement(e.openElements.items[r4], u5))
      break;
  }
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._insertElement(t3, y3.HTML);
}
function yh(e, t3) {
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._insertElement(t3, y3.HTML), e.tokenizer.state = re3.PLAINTEXT;
}
function Lh(e, t3) {
  e.openElements.hasInScope(s.BUTTON) && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilTagNamePopped(s.BUTTON)), e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML), e.framesetOk = false;
}
function Rh(e, t3) {
  const n4 = e.activeFormattingElements.getElementEntryInScopeWithTagName(_3.A);
  n4 && (yr2(e, t3), e.openElements.remove(n4.element), e.activeFormattingElements.removeEntry(n4)), e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML), e.activeFormattingElements.pushElement(e.openElements.current, t3);
}
function Dh(e, t3) {
  e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML), e.activeFormattingElements.pushElement(e.openElements.current, t3);
}
function Ph(e, t3) {
  e._reconstructActiveFormattingElements(), e.openElements.hasInScope(s.NOBR) && (yr2(e, t3), e._reconstructActiveFormattingElements()), e._insertElement(t3, y3.HTML), e.activeFormattingElements.pushElement(e.openElements.current, t3);
}
function wh(e, t3) {
  e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML), e.activeFormattingElements.insertMarker(), e.framesetOk = false;
}
function Mh(e, t3) {
  e.treeAdapter.getDocumentMode(e.document) !== be4.QUIRKS && e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._insertElement(t3, y3.HTML), e.framesetOk = false, e.insertionMode = T4.IN_TABLE;
}
function ca2(e, t3) {
  e._reconstructActiveFormattingElements(), e._appendElement(t3, y3.HTML), e.framesetOk = false, t3.ackSelfClosing = true;
}
function fa2(e) {
  const t3 = Ki2(e, et3.TYPE);
  return t3 != null && t3.toLowerCase() === Zf;
}
function Bh(e, t3) {
  e._reconstructActiveFormattingElements(), e._appendElement(t3, y3.HTML), fa2(t3) || (e.framesetOk = false), t3.ackSelfClosing = true;
}
function Fh(e, t3) {
  e._appendElement(t3, y3.HTML), t3.ackSelfClosing = true;
}
function Hh(e, t3) {
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._appendElement(t3, y3.HTML), e.framesetOk = false, t3.ackSelfClosing = true;
}
function Uh(e, t3) {
  t3.tagName = _3.IMG, t3.tagID = s.IMG, ca2(e, t3);
}
function vh(e, t3) {
  e._insertElement(t3, y3.HTML), e.skipNextNewLine = true, e.tokenizer.state = re3.RCDATA, e.originalInsertionMode = e.insertionMode, e.framesetOk = false, e.insertionMode = T4.TEXT;
}
function zh(e, t3) {
  e.openElements.hasInButtonScope(s.P) && e._closePElement(), e._reconstructActiveFormattingElements(), e.framesetOk = false, e._switchToTextParsing(t3, re3.RAWTEXT);
}
function Yh(e, t3) {
  e.framesetOk = false, e._switchToTextParsing(t3, re3.RAWTEXT);
}
function Hu2(e, t3) {
  e._switchToTextParsing(t3, re3.RAWTEXT);
}
function qh(e, t3) {
  e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML), e.framesetOk = false, e.insertionMode = e.insertionMode === T4.IN_TABLE || e.insertionMode === T4.IN_CAPTION || e.insertionMode === T4.IN_TABLE_BODY || e.insertionMode === T4.IN_ROW || e.insertionMode === T4.IN_CELL ? T4.IN_SELECT_IN_TABLE : T4.IN_SELECT;
}
function jh(e, t3) {
  e.openElements.currentTagId === s.OPTION && e.openElements.pop(), e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML);
}
function Vh(e, t3) {
  e.openElements.hasInScope(s.RUBY) && e.openElements.generateImpliedEndTags(), e._insertElement(t3, y3.HTML);
}
function Wh(e, t3) {
  e.openElements.hasInScope(s.RUBY) && e.openElements.generateImpliedEndTagsWithExclusion(s.RTC), e._insertElement(t3, y3.HTML);
}
function Qh(e, t3) {
  e._reconstructActiveFormattingElements(), ia2(t3), Or2(t3), t3.selfClosing ? e._appendElement(t3, y3.MATHML) : e._insertElement(t3, y3.MATHML), t3.ackSelfClosing = true;
}
function Gh(e, t3) {
  e._reconstructActiveFormattingElements(), aa2(t3), Or2(t3), t3.selfClosing ? e._appendElement(t3, y3.SVG) : e._insertElement(t3, y3.SVG), t3.ackSelfClosing = true;
}
function Uu2(e, t3) {
  e._reconstructActiveFormattingElements(), e._insertElement(t3, y3.HTML);
}
function he2(e, t3) {
  switch (t3.tagID) {
    case s.I:
    case s.S:
    case s.B:
    case s.U:
    case s.EM:
    case s.TT:
    case s.BIG:
    case s.CODE:
    case s.FONT:
    case s.SMALL:
    case s.STRIKE:
    case s.STRONG: {
      Dh(e, t3);
      break;
    }
    case s.A: {
      Rh(e, t3);
      break;
    }
    case s.H1:
    case s.H2:
    case s.H3:
    case s.H4:
    case s.H5:
    case s.H6: {
      Nh(e, t3);
      break;
    }
    case s.P:
    case s.DL:
    case s.OL:
    case s.UL:
    case s.DIV:
    case s.DIR:
    case s.NAV:
    case s.MAIN:
    case s.MENU:
    case s.ASIDE:
    case s.CENTER:
    case s.FIGURE:
    case s.FOOTER:
    case s.HEADER:
    case s.HGROUP:
    case s.DIALOG:
    case s.DETAILS:
    case s.ADDRESS:
    case s.ARTICLE:
    case s.SEARCH:
    case s.SECTION:
    case s.SUMMARY:
    case s.FIELDSET:
    case s.BLOCKQUOTE:
    case s.FIGCAPTION: {
      xh(e, t3);
      break;
    }
    case s.LI:
    case s.DD:
    case s.DT: {
      Oh(e, t3);
      break;
    }
    case s.BR:
    case s.IMG:
    case s.WBR:
    case s.AREA:
    case s.EMBED:
    case s.KEYGEN: {
      ca2(e, t3);
      break;
    }
    case s.HR: {
      Hh(e, t3);
      break;
    }
    case s.RB:
    case s.RTC: {
      Vh(e, t3);
      break;
    }
    case s.RT:
    case s.RP: {
      Wh(e, t3);
      break;
    }
    case s.PRE:
    case s.LISTING: {
      Sh(e, t3);
      break;
    }
    case s.XMP: {
      zh(e, t3);
      break;
    }
    case s.SVG: {
      Gh(e, t3);
      break;
    }
    case s.HTML: {
      _h(e, t3);
      break;
    }
    case s.BASE:
    case s.LINK:
    case s.META:
    case s.STYLE:
    case s.TITLE:
    case s.SCRIPT:
    case s.BGSOUND:
    case s.BASEFONT:
    case s.TEMPLATE: {
      Ne4(e, t3);
      break;
    }
    case s.BODY: {
      Ch(e, t3);
      break;
    }
    case s.FORM: {
      kh(e, t3);
      break;
    }
    case s.NOBR: {
      Ph(e, t3);
      break;
    }
    case s.MATH: {
      Qh(e, t3);
      break;
    }
    case s.TABLE: {
      Mh(e, t3);
      break;
    }
    case s.INPUT: {
      Bh(e, t3);
      break;
    }
    case s.PARAM:
    case s.TRACK:
    case s.SOURCE: {
      Fh(e, t3);
      break;
    }
    case s.IMAGE: {
      Uh(e, t3);
      break;
    }
    case s.BUTTON: {
      Lh(e, t3);
      break;
    }
    case s.APPLET:
    case s.OBJECT:
    case s.MARQUEE: {
      wh(e, t3);
      break;
    }
    case s.IFRAME: {
      Yh(e, t3);
      break;
    }
    case s.SELECT: {
      qh(e, t3);
      break;
    }
    case s.OPTION:
    case s.OPTGROUP: {
      jh(e, t3);
      break;
    }
    case s.NOEMBED:
    case s.NOFRAMES: {
      Hu2(e, t3);
      break;
    }
    case s.FRAMESET: {
      Ih(e, t3);
      break;
    }
    case s.TEXTAREA: {
      vh(e, t3);
      break;
    }
    case s.NOSCRIPT: {
      e.options.scriptingEnabled ? Hu2(e, t3) : Uu2(e, t3);
      break;
    }
    case s.PLAINTEXT: {
      yh(e, t3);
      break;
    }
    case s.COL:
    case s.TH:
    case s.TD:
    case s.TR:
    case s.HEAD:
    case s.FRAME:
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD:
    case s.CAPTION:
    case s.COLGROUP:
      break;
    default:
      Uu2(e, t3);
  }
}
function Xh(e, t3) {
  if (e.openElements.hasInScope(s.BODY) && (e.insertionMode = T4.AFTER_BODY, e.options.sourceCodeLocationInfo)) {
    const n4 = e.openElements.tryPeekProperlyNestedBodyElement();
    n4 && e._setEndLocation(n4, t3);
  }
}
function Kh(e, t3) {
  e.openElements.hasInScope(s.BODY) && (e.insertionMode = T4.AFTER_BODY, _a2(e, t3));
}
function $h(e, t3) {
  const n4 = t3.tagID;
  e.openElements.hasInScope(n4) && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilTagNamePopped(n4));
}
function Jh(e) {
  const t3 = e.openElements.tmplCount > 0, { formElement: n4 } = e;
  t3 || (e.formElement = null), (n4 || t3) && e.openElements.hasInScope(s.FORM) && (e.openElements.generateImpliedEndTags(), t3 ? e.openElements.popUntilTagNamePopped(s.FORM) : n4 && e.openElements.remove(n4));
}
function Zh(e) {
  e.openElements.hasInButtonScope(s.P) || e._insertFakeElement(_3.P, s.P), e._closePElement();
}
function ed(e) {
  e.openElements.hasInListItemScope(s.LI) && (e.openElements.generateImpliedEndTagsWithExclusion(s.LI), e.openElements.popUntilTagNamePopped(s.LI));
}
function td(e, t3) {
  const n4 = t3.tagID;
  e.openElements.hasInScope(n4) && (e.openElements.generateImpliedEndTagsWithExclusion(n4), e.openElements.popUntilTagNamePopped(n4));
}
function nd(e) {
  e.openElements.hasNumberedHeaderInScope() && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilNumberedHeaderPopped());
}
function rd(e, t3) {
  const n4 = t3.tagID;
  e.openElements.hasInScope(n4) && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilTagNamePopped(n4), e.activeFormattingElements.clearToLastMarker());
}
function ud(e) {
  e._reconstructActiveFormattingElements(), e._insertFakeElement(_3.BR, s.BR), e.openElements.pop(), e.framesetOk = false;
}
function ha2(e, t3) {
  const n4 = t3.tagName, r4 = t3.tagID;
  for (let u5 = e.openElements.stackTop; u5 > 0; u5--) {
    const a3 = e.openElements.items[u5], i5 = e.openElements.tagIDs[u5];
    if (r4 === i5 && (r4 !== s.UNKNOWN || e.treeAdapter.getTagName(a3) === n4)) {
      e.openElements.generateImpliedEndTagsWithExclusion(r4), e.openElements.stackTop >= u5 && e.openElements.shortenToLength(u5);
      break;
    }
    if (e._isSpecialElement(a3, i5))
      break;
  }
}
function Nn2(e, t3) {
  switch (t3.tagID) {
    case s.A:
    case s.B:
    case s.I:
    case s.S:
    case s.U:
    case s.EM:
    case s.TT:
    case s.BIG:
    case s.CODE:
    case s.FONT:
    case s.NOBR:
    case s.SMALL:
    case s.STRIKE:
    case s.STRONG: {
      yr2(e, t3);
      break;
    }
    case s.P: {
      Zh(e);
      break;
    }
    case s.DL:
    case s.UL:
    case s.OL:
    case s.DIR:
    case s.DIV:
    case s.NAV:
    case s.PRE:
    case s.MAIN:
    case s.MENU:
    case s.ASIDE:
    case s.BUTTON:
    case s.CENTER:
    case s.FIGURE:
    case s.FOOTER:
    case s.HEADER:
    case s.HGROUP:
    case s.DIALOG:
    case s.ADDRESS:
    case s.ARTICLE:
    case s.DETAILS:
    case s.SEARCH:
    case s.SECTION:
    case s.SUMMARY:
    case s.LISTING:
    case s.FIELDSET:
    case s.BLOCKQUOTE:
    case s.FIGCAPTION: {
      $h(e, t3);
      break;
    }
    case s.LI: {
      ed(e);
      break;
    }
    case s.DD:
    case s.DT: {
      td(e, t3);
      break;
    }
    case s.H1:
    case s.H2:
    case s.H3:
    case s.H4:
    case s.H5:
    case s.H6: {
      nd(e);
      break;
    }
    case s.BR: {
      ud(e);
      break;
    }
    case s.BODY: {
      Xh(e, t3);
      break;
    }
    case s.HTML: {
      Kh(e, t3);
      break;
    }
    case s.FORM: {
      Jh(e);
      break;
    }
    case s.APPLET:
    case s.OBJECT:
    case s.MARQUEE: {
      rd(e, t3);
      break;
    }
    case s.TEMPLATE: {
      rt2(e, t3);
      break;
    }
    default:
      ha2(e, t3);
  }
}
function da2(e, t3) {
  e.tmplInsertionModeStack.length > 0 ? Aa2(e, t3) : Lr2(e, t3);
}
function id(e, t3) {
  var n4;
  t3.tagID === s.SCRIPT && ((n4 = e.scriptHandler) === null || n4 === void 0 || n4.call(e, e.openElements.current)), e.openElements.pop(), e.insertionMode = e.originalInsertionMode;
}
function ad(e, t3) {
  e._err(t3, C3.eofInElementThatCanContainOnlyText), e.openElements.pop(), e.insertionMode = e.originalInsertionMode, e.onEof(t3);
}
function jn2(e, t3) {
  if (sa2.has(e.openElements.currentTagId))
    switch (e.pendingCharacterTokens.length = 0, e.hasNonWhitespacePendingCharacterToken = false, e.originalInsertionMode = e.insertionMode, e.insertionMode = T4.IN_TABLE_TEXT, t3.type) {
      case q4.CHARACTER: {
        pa2(e, t3);
        break;
      }
      case q4.WHITESPACE_CHARACTER: {
        ma2(e, t3);
        break;
      }
    }
  else
    Vt2(e, t3);
}
function sd(e, t3) {
  e.openElements.clearBackToTableContext(), e.activeFormattingElements.insertMarker(), e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_CAPTION;
}
function od(e, t3) {
  e.openElements.clearBackToTableContext(), e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_COLUMN_GROUP;
}
function ld(e, t3) {
  e.openElements.clearBackToTableContext(), e._insertFakeElement(_3.COLGROUP, s.COLGROUP), e.insertionMode = T4.IN_COLUMN_GROUP, Rr2(e, t3);
}
function cd(e, t3) {
  e.openElements.clearBackToTableContext(), e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_TABLE_BODY;
}
function fd(e, t3) {
  e.openElements.clearBackToTableContext(), e._insertFakeElement(_3.TBODY, s.TBODY), e.insertionMode = T4.IN_TABLE_BODY, Sn2(e, t3);
}
function hd(e, t3) {
  e.openElements.hasInTableScope(s.TABLE) && (e.openElements.popUntilTagNamePopped(s.TABLE), e._resetInsertionMode(), e._processStartTag(t3));
}
function dd(e, t3) {
  fa2(t3) ? e._appendElement(t3, y3.HTML) : Vt2(e, t3), t3.ackSelfClosing = true;
}
function md(e, t3) {
  !e.formElement && e.openElements.tmplCount === 0 && (e._insertElement(t3, y3.HTML), e.formElement = e.openElements.current, e.openElements.pop());
}
function pt2(e, t3) {
  switch (t3.tagID) {
    case s.TD:
    case s.TH:
    case s.TR: {
      fd(e, t3);
      break;
    }
    case s.STYLE:
    case s.SCRIPT:
    case s.TEMPLATE: {
      Ne4(e, t3);
      break;
    }
    case s.COL: {
      ld(e, t3);
      break;
    }
    case s.FORM: {
      md(e, t3);
      break;
    }
    case s.TABLE: {
      hd(e, t3);
      break;
    }
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD: {
      cd(e, t3);
      break;
    }
    case s.INPUT: {
      dd(e, t3);
      break;
    }
    case s.CAPTION: {
      sd(e, t3);
      break;
    }
    case s.COLGROUP: {
      od(e, t3);
      break;
    }
    default:
      Vt2(e, t3);
  }
}
function vt3(e, t3) {
  switch (t3.tagID) {
    case s.TABLE: {
      e.openElements.hasInTableScope(s.TABLE) && (e.openElements.popUntilTagNamePopped(s.TABLE), e._resetInsertionMode());
      break;
    }
    case s.TEMPLATE: {
      rt2(e, t3);
      break;
    }
    case s.BODY:
    case s.CAPTION:
    case s.COL:
    case s.COLGROUP:
    case s.HTML:
    case s.TBODY:
    case s.TD:
    case s.TFOOT:
    case s.TH:
    case s.THEAD:
    case s.TR:
      break;
    default:
      Vt2(e, t3);
  }
}
function Vt2(e, t3) {
  const n4 = e.fosterParentingEnabled;
  e.fosterParentingEnabled = true, xn2(e, t3), e.fosterParentingEnabled = n4;
}
function ma2(e, t3) {
  e.pendingCharacterTokens.push(t3);
}
function pa2(e, t3) {
  e.pendingCharacterTokens.push(t3), e.hasNonWhitespacePendingCharacterToken = true;
}
function Ot3(e, t3) {
  let n4 = 0;
  if (e.hasNonWhitespacePendingCharacterToken)
    for (; n4 < e.pendingCharacterTokens.length; n4++)
      Vt2(e, e.pendingCharacterTokens[n4]);
  else
    for (; n4 < e.pendingCharacterTokens.length; n4++)
      e._insertCharacters(e.pendingCharacterTokens[n4]);
  e.insertionMode = e.originalInsertionMode, e._processToken(t3);
}
var Ea2 = /* @__PURE__ */ new Set([s.CAPTION, s.COL, s.COLGROUP, s.TBODY, s.TD, s.TFOOT, s.TH, s.THEAD, s.TR]);
function pd(e, t3) {
  const n4 = t3.tagID;
  Ea2.has(n4) ? e.openElements.hasInTableScope(s.CAPTION) && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilTagNamePopped(s.CAPTION), e.activeFormattingElements.clearToLastMarker(), e.insertionMode = T4.IN_TABLE, pt2(e, t3)) : he2(e, t3);
}
function Ed(e, t3) {
  const n4 = t3.tagID;
  switch (n4) {
    case s.CAPTION:
    case s.TABLE: {
      e.openElements.hasInTableScope(s.CAPTION) && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilTagNamePopped(s.CAPTION), e.activeFormattingElements.clearToLastMarker(), e.insertionMode = T4.IN_TABLE, n4 === s.TABLE && vt3(e, t3));
      break;
    }
    case s.BODY:
    case s.COL:
    case s.COLGROUP:
    case s.HTML:
    case s.TBODY:
    case s.TD:
    case s.TFOOT:
    case s.TH:
    case s.THEAD:
    case s.TR:
      break;
    default:
      Nn2(e, t3);
  }
}
function Rr2(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.COL: {
      e._appendElement(t3, y3.HTML), t3.ackSelfClosing = true;
      break;
    }
    case s.TEMPLATE: {
      Ne4(e, t3);
      break;
    }
    default:
      mn2(e, t3);
  }
}
function Td(e, t3) {
  switch (t3.tagID) {
    case s.COLGROUP: {
      e.openElements.currentTagId === s.COLGROUP && (e.openElements.pop(), e.insertionMode = T4.IN_TABLE);
      break;
    }
    case s.TEMPLATE: {
      rt2(e, t3);
      break;
    }
    case s.COL:
      break;
    default:
      mn2(e, t3);
  }
}
function mn2(e, t3) {
  e.openElements.currentTagId === s.COLGROUP && (e.openElements.pop(), e.insertionMode = T4.IN_TABLE, e._processToken(t3));
}
function Sn2(e, t3) {
  switch (t3.tagID) {
    case s.TR: {
      e.openElements.clearBackToTableBodyContext(), e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_ROW;
      break;
    }
    case s.TH:
    case s.TD: {
      e.openElements.clearBackToTableBodyContext(), e._insertFakeElement(_3.TR, s.TR), e.insertionMode = T4.IN_ROW, kn2(e, t3);
      break;
    }
    case s.CAPTION:
    case s.COL:
    case s.COLGROUP:
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD: {
      e.openElements.hasTableBodyContextInTableScope() && (e.openElements.clearBackToTableBodyContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE, pt2(e, t3));
      break;
    }
    default:
      pt2(e, t3);
  }
}
function ar2(e, t3) {
  const n4 = t3.tagID;
  switch (t3.tagID) {
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD: {
      e.openElements.hasInTableScope(n4) && (e.openElements.clearBackToTableBodyContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE);
      break;
    }
    case s.TABLE: {
      e.openElements.hasTableBodyContextInTableScope() && (e.openElements.clearBackToTableBodyContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE, vt3(e, t3));
      break;
    }
    case s.BODY:
    case s.CAPTION:
    case s.COL:
    case s.COLGROUP:
    case s.HTML:
    case s.TD:
    case s.TH:
    case s.TR:
      break;
    default:
      vt3(e, t3);
  }
}
function kn2(e, t3) {
  switch (t3.tagID) {
    case s.TH:
    case s.TD: {
      e.openElements.clearBackToTableRowContext(), e._insertElement(t3, y3.HTML), e.insertionMode = T4.IN_CELL, e.activeFormattingElements.insertMarker();
      break;
    }
    case s.CAPTION:
    case s.COL:
    case s.COLGROUP:
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD:
    case s.TR: {
      e.openElements.hasInTableScope(s.TR) && (e.openElements.clearBackToTableRowContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE_BODY, Sn2(e, t3));
      break;
    }
    default:
      pt2(e, t3);
  }
}
function Ta2(e, t3) {
  switch (t3.tagID) {
    case s.TR: {
      e.openElements.hasInTableScope(s.TR) && (e.openElements.clearBackToTableRowContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE_BODY);
      break;
    }
    case s.TABLE: {
      e.openElements.hasInTableScope(s.TR) && (e.openElements.clearBackToTableRowContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE_BODY, ar2(e, t3));
      break;
    }
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD: {
      (e.openElements.hasInTableScope(t3.tagID) || e.openElements.hasInTableScope(s.TR)) && (e.openElements.clearBackToTableRowContext(), e.openElements.pop(), e.insertionMode = T4.IN_TABLE_BODY, ar2(e, t3));
      break;
    }
    case s.BODY:
    case s.CAPTION:
    case s.COL:
    case s.COLGROUP:
    case s.HTML:
    case s.TD:
    case s.TH:
      break;
    default:
      vt3(e, t3);
  }
}
function gd(e, t3) {
  const n4 = t3.tagID;
  Ea2.has(n4) ? (e.openElements.hasInTableScope(s.TD) || e.openElements.hasInTableScope(s.TH)) && (e._closeTableCell(), kn2(e, t3)) : he2(e, t3);
}
function bd(e, t3) {
  const n4 = t3.tagID;
  switch (n4) {
    case s.TD:
    case s.TH: {
      e.openElements.hasInTableScope(n4) && (e.openElements.generateImpliedEndTags(), e.openElements.popUntilTagNamePopped(n4), e.activeFormattingElements.clearToLastMarker(), e.insertionMode = T4.IN_ROW);
      break;
    }
    case s.TABLE:
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD:
    case s.TR: {
      e.openElements.hasInTableScope(n4) && (e._closeTableCell(), Ta2(e, t3));
      break;
    }
    case s.BODY:
    case s.CAPTION:
    case s.COL:
    case s.COLGROUP:
    case s.HTML:
      break;
    default:
      Nn2(e, t3);
  }
}
function ga2(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.OPTION: {
      e.openElements.currentTagId === s.OPTION && e.openElements.pop(), e._insertElement(t3, y3.HTML);
      break;
    }
    case s.OPTGROUP: {
      e.openElements.currentTagId === s.OPTION && e.openElements.pop(), e.openElements.currentTagId === s.OPTGROUP && e.openElements.pop(), e._insertElement(t3, y3.HTML);
      break;
    }
    case s.HR: {
      e.openElements.currentTagId === s.OPTION && e.openElements.pop(), e.openElements.currentTagId === s.OPTGROUP && e.openElements.pop(), e._appendElement(t3, y3.HTML), t3.ackSelfClosing = true;
      break;
    }
    case s.INPUT:
    case s.KEYGEN:
    case s.TEXTAREA:
    case s.SELECT: {
      e.openElements.hasInSelectScope(s.SELECT) && (e.openElements.popUntilTagNamePopped(s.SELECT), e._resetInsertionMode(), t3.tagID !== s.SELECT && e._processStartTag(t3));
      break;
    }
    case s.SCRIPT:
    case s.TEMPLATE: {
      Ne4(e, t3);
      break;
    }
  }
}
function ba2(e, t3) {
  switch (t3.tagID) {
    case s.OPTGROUP: {
      e.openElements.stackTop > 0 && e.openElements.currentTagId === s.OPTION && e.openElements.tagIDs[e.openElements.stackTop - 1] === s.OPTGROUP && e.openElements.pop(), e.openElements.currentTagId === s.OPTGROUP && e.openElements.pop();
      break;
    }
    case s.OPTION: {
      e.openElements.currentTagId === s.OPTION && e.openElements.pop();
      break;
    }
    case s.SELECT: {
      e.openElements.hasInSelectScope(s.SELECT) && (e.openElements.popUntilTagNamePopped(s.SELECT), e._resetInsertionMode());
      break;
    }
    case s.TEMPLATE: {
      rt2(e, t3);
      break;
    }
  }
}
function Ad(e, t3) {
  const n4 = t3.tagID;
  n4 === s.CAPTION || n4 === s.TABLE || n4 === s.TBODY || n4 === s.TFOOT || n4 === s.THEAD || n4 === s.TR || n4 === s.TD || n4 === s.TH ? (e.openElements.popUntilTagNamePopped(s.SELECT), e._resetInsertionMode(), e._processStartTag(t3)) : ga2(e, t3);
}
function _d(e, t3) {
  const n4 = t3.tagID;
  n4 === s.CAPTION || n4 === s.TABLE || n4 === s.TBODY || n4 === s.TFOOT || n4 === s.THEAD || n4 === s.TR || n4 === s.TD || n4 === s.TH ? e.openElements.hasInTableScope(n4) && (e.openElements.popUntilTagNamePopped(s.SELECT), e._resetInsertionMode(), e.onEndTag(t3)) : ba2(e, t3);
}
function Cd(e, t3) {
  switch (t3.tagID) {
    // First, handle tags that can start without a mode change
    case s.BASE:
    case s.BASEFONT:
    case s.BGSOUND:
    case s.LINK:
    case s.META:
    case s.NOFRAMES:
    case s.SCRIPT:
    case s.STYLE:
    case s.TEMPLATE:
    case s.TITLE: {
      Ne4(e, t3);
      break;
    }
    // Re-process the token in the appropriate mode
    case s.CAPTION:
    case s.COLGROUP:
    case s.TBODY:
    case s.TFOOT:
    case s.THEAD: {
      e.tmplInsertionModeStack[0] = T4.IN_TABLE, e.insertionMode = T4.IN_TABLE, pt2(e, t3);
      break;
    }
    case s.COL: {
      e.tmplInsertionModeStack[0] = T4.IN_COLUMN_GROUP, e.insertionMode = T4.IN_COLUMN_GROUP, Rr2(e, t3);
      break;
    }
    case s.TR: {
      e.tmplInsertionModeStack[0] = T4.IN_TABLE_BODY, e.insertionMode = T4.IN_TABLE_BODY, Sn2(e, t3);
      break;
    }
    case s.TD:
    case s.TH: {
      e.tmplInsertionModeStack[0] = T4.IN_ROW, e.insertionMode = T4.IN_ROW, kn2(e, t3);
      break;
    }
    default:
      e.tmplInsertionModeStack[0] = T4.IN_BODY, e.insertionMode = T4.IN_BODY, he2(e, t3);
  }
}
function Id(e, t3) {
  t3.tagID === s.TEMPLATE && rt2(e, t3);
}
function Aa2(e, t3) {
  e.openElements.tmplCount > 0 ? (e.openElements.popUntilTagNamePopped(s.TEMPLATE), e.activeFormattingElements.clearToLastMarker(), e.tmplInsertionModeStack.shift(), e._resetInsertionMode(), e.onEof(t3)) : Lr2(e, t3);
}
function xd(e, t3) {
  t3.tagID === s.HTML ? he2(e, t3) : pn2(e, t3);
}
function _a2(e, t3) {
  var n4;
  if (t3.tagID === s.HTML) {
    if (e.fragmentContext || (e.insertionMode = T4.AFTER_AFTER_BODY), e.options.sourceCodeLocationInfo && e.openElements.tagIDs[0] === s.HTML) {
      e._setEndLocation(e.openElements.items[0], t3);
      const r4 = e.openElements.items[1];
      r4 && !(!((n4 = e.treeAdapter.getNodeSourceCodeLocation(r4)) === null || n4 === void 0) && n4.endTag) && e._setEndLocation(r4, t3);
    }
  } else
    pn2(e, t3);
}
function pn2(e, t3) {
  e.insertionMode = T4.IN_BODY, xn2(e, t3);
}
function Nd(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.FRAMESET: {
      e._insertElement(t3, y3.HTML);
      break;
    }
    case s.FRAME: {
      e._appendElement(t3, y3.HTML), t3.ackSelfClosing = true;
      break;
    }
    case s.NOFRAMES: {
      Ne4(e, t3);
      break;
    }
  }
}
function Sd(e, t3) {
  t3.tagID === s.FRAMESET && !e.openElements.isRootHtmlElementCurrent() && (e.openElements.pop(), !e.fragmentContext && e.openElements.currentTagId !== s.FRAMESET && (e.insertionMode = T4.AFTER_FRAMESET));
}
function kd(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.NOFRAMES: {
      Ne4(e, t3);
      break;
    }
  }
}
function Od(e, t3) {
  t3.tagID === s.HTML && (e.insertionMode = T4.AFTER_AFTER_FRAMESET);
}
function yd(e, t3) {
  t3.tagID === s.HTML ? he2(e, t3) : an2(e, t3);
}
function an2(e, t3) {
  e.insertionMode = T4.IN_BODY, xn2(e, t3);
}
function Ld(e, t3) {
  switch (t3.tagID) {
    case s.HTML: {
      he2(e, t3);
      break;
    }
    case s.NOFRAMES: {
      Ne4(e, t3);
      break;
    }
  }
}
function Rd(e, t3) {
  t3.chars = te2, e._insertCharacters(t3);
}
function Dd(e, t3) {
  e._insertCharacters(t3), e.framesetOk = false;
}
function Ca2(e) {
  for (; e.treeAdapter.getNamespaceURI(e.openElements.current) !== y3.HTML && !e._isIntegrationPoint(e.openElements.currentTagId, e.openElements.current); )
    e.openElements.pop();
}
function Pd(e, t3) {
  if (Gf(t3))
    Ca2(e), e._startTagOutsideForeignContent(t3);
  else {
    const n4 = e._getAdjustedCurrentElement(), r4 = e.treeAdapter.getNamespaceURI(n4);
    r4 === y3.MATHML ? ia2(t3) : r4 === y3.SVG && (Xf(t3), aa2(t3)), Or2(t3), t3.selfClosing ? e._appendElement(t3, r4) : e._insertElement(t3, r4), t3.ackSelfClosing = true;
  }
}
function wd(e, t3) {
  if (t3.tagID === s.P || t3.tagID === s.BR) {
    Ca2(e), e._endTagOutsideForeignContent(t3);
    return;
  }
  for (let n4 = e.openElements.stackTop; n4 > 0; n4--) {
    const r4 = e.openElements.items[n4];
    if (e.treeAdapter.getNamespaceURI(r4) === y3.HTML) {
      e._endTagOutsideForeignContent(t3);
      break;
    }
    const u5 = e.treeAdapter.getTagName(r4);
    if (u5.toLowerCase() === t3.tagName) {
      t3.tagName = u5, e.openElements.shortenToLength(n4);
      break;
    }
  }
}
_3.AREA, _3.BASE, _3.BASEFONT, _3.BGSOUND, _3.BR, _3.COL, _3.EMBED, _3.FRAME, _3.HR, _3.IMG, _3.INPUT, _3.KEYGEN, _3.LINK, _3.META, _3.PARAM, _3.SOURCE, _3.TRACK, _3.WBR;
var Md = /<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi;
var Bd = /* @__PURE__ */ new Set([
  "mdxFlowExpression",
  "mdxJsxFlowElement",
  "mdxJsxTextElement",
  "mdxTextExpression",
  "mdxjsEsm"
]);
var vu2 = { sourceCodeLocationInfo: true, scriptingEnabled: false };
function Ia2(e, t3) {
  const n4 = Wd(e), r4 = la("type", {
    handlers: { root: Fd, element: Hd, text: Ud, comment: Na2, doctype: vd, raw: Yd },
    unknown: qd
  }), u5 = {
    parser: n4 ? new Fu2(vu2) : Fu2.getFragmentParser(void 0, vu2),
    handle(o2) {
      r4(o2, u5);
    },
    stitches: false,
    options: t3 || {}
  };
  r4(e, u5), _t2(u5, Fr());
  const a3 = n4 ? u5.parser.document : u5.parser.getFragment(), i5 = Q0(a3, {
    // To do: support `space`?
    file: u5.options.file
  });
  return u5.stitches && Vr(i5, "comment", function(o2, l3, c6) {
    const h3 = (
      /** @type {Stitch} */
      /** @type {unknown} */
      o2
    );
    if (h3.value.stitch && c6 && l3 !== void 0) {
      const f8 = c6.children;
      return f8[l3] = h3.value.stitch, l3;
    }
  }), i5.type === "root" && i5.children.length === 1 && i5.children[0].type === e.type ? i5.children[0] : i5;
}
function xa2(e, t3) {
  let n4 = -1;
  if (e)
    for (; ++n4 < e.length; )
      t3.handle(e[n4]);
}
function Fd(e, t3) {
  xa2(e.children, t3);
}
function Hd(e, t3) {
  jd(e, t3), xa2(e.children, t3), Vd(e, t3);
}
function Ud(e, t3) {
  t3.parser.tokenizer.state > 4 && (t3.parser.tokenizer.state = 0);
  const n4 = {
    type: q4.CHARACTER,
    chars: e.value,
    location: Wt2(e)
  };
  _t2(t3, Fr(e)), t3.parser.currentToken = n4, t3.parser._processToken(t3.parser.currentToken);
}
function vd(e, t3) {
  const n4 = {
    type: q4.DOCTYPE,
    name: "html",
    forceQuirks: false,
    publicId: "",
    systemId: "",
    location: Wt2(e)
  };
  _t2(t3, Fr(e)), t3.parser.currentToken = n4, t3.parser._processToken(t3.parser.currentToken);
}
function zd(e, t3) {
  t3.stitches = true;
  const n4 = Qd(e);
  if ("children" in e && "children" in n4) {
    const r4 = (
      /** @type {Root} */
      Ia2({ type: "root", children: e.children }, t3.options)
    );
    n4.children = r4.children;
  }
  Na2({ type: "comment", value: { stitch: n4 } }, t3);
}
function Na2(e, t3) {
  const n4 = e.value, r4 = {
    type: q4.COMMENT,
    data: n4,
    location: Wt2(e)
  };
  _t2(t3, Fr(e)), t3.parser.currentToken = r4, t3.parser._processToken(t3.parser.currentToken);
}
function Yd(e, t3) {
  if (t3.parser.tokenizer.preprocessor.html = "", t3.parser.tokenizer.preprocessor.pos = -1, t3.parser.tokenizer.preprocessor.lastGapPos = -2, t3.parser.tokenizer.preprocessor.gapStack = [], t3.parser.tokenizer.preprocessor.skipNextNewLine = false, t3.parser.tokenizer.preprocessor.lastChunkWritten = false, t3.parser.tokenizer.preprocessor.endOfChunkHit = false, t3.parser.tokenizer.preprocessor.isEol = false, Sa2(t3, Fr(e)), t3.parser.tokenizer.write(
    t3.options.tagfilter ? e.value.replace(Md, "&lt;$1$2") : e.value,
    false
  ), t3.parser.tokenizer._runParsingLoop(), t3.parser.tokenizer.state === 72 || // @ts-expect-error: removed.
  t3.parser.tokenizer.state === 78) {
    t3.parser.tokenizer.preprocessor.lastChunkWritten = true;
    const n4 = t3.parser.tokenizer._consume();
    t3.parser.tokenizer._callState(n4);
  }
}
function qd(e, t3) {
  const n4 = (
    /** @type {Nodes} */
    e
  );
  if (t3.options.passThrough && t3.options.passThrough.includes(n4.type))
    zd(n4, t3);
  else {
    let r4 = "";
    throw Bd.has(n4.type) && (r4 = ". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"), new Error("Cannot compile `" + n4.type + "` node" + r4);
  }
}
function _t2(e, t3) {
  Sa2(e, t3);
  const n4 = e.parser.tokenizer.currentCharacterToken;
  n4 && n4.location && (n4.location.endLine = e.parser.tokenizer.preprocessor.line, n4.location.endCol = e.parser.tokenizer.preprocessor.col + 1, n4.location.endOffset = e.parser.tokenizer.preprocessor.offset + 1, e.parser.currentToken = n4, e.parser._processToken(e.parser.currentToken)), e.parser.tokenizer.paused = false, e.parser.tokenizer.inLoop = false, e.parser.tokenizer.active = false, e.parser.tokenizer.returnState = re3.DATA, e.parser.tokenizer.charRefCode = -1, e.parser.tokenizer.consumedAfterSnapshot = -1, e.parser.tokenizer.currentLocation = null, e.parser.tokenizer.currentCharacterToken = null, e.parser.tokenizer.currentToken = null, e.parser.tokenizer.currentAttr = { name: "", value: "" };
}
function Sa2(e, t3) {
  if (t3 && t3.offset !== void 0) {
    const n4 = {
      startLine: t3.line,
      startCol: t3.column,
      startOffset: t3.offset,
      endLine: -1,
      endCol: -1,
      endOffset: -1
    };
    e.parser.tokenizer.preprocessor.lineStartPos = -t3.column + 1, e.parser.tokenizer.preprocessor.droppedBufferSize = t3.offset, e.parser.tokenizer.preprocessor.line = t3.line, e.parser.tokenizer.currentLocation = n4;
  }
}
function jd(e, t3) {
  const n4 = e.tagName.toLowerCase();
  if (t3.parser.tokenizer.state === re3.PLAINTEXT) return;
  _t2(t3, Fr(e));
  const r4 = t3.parser.openElements.current;
  let u5 = "namespaceURI" in r4 ? r4.namespaceURI : Ze3.html;
  u5 === Ze3.html && n4 === "svg" && (u5 = Ze3.svg);
  const a3 = J0(
    // Shallow clone to not delve into `children`: we only need the attributes.
    { ...e, children: [] },
    { space: u5 === Ze3.svg ? "svg" : "html" }
  ), i5 = {
    type: q4.START_TAG,
    tagName: n4,
    tagID: At2(n4),
    // We always send start and end tags.
    selfClosing: false,
    ackSelfClosing: false,
    // Always element.
    /* c8 ignore next */
    attrs: "attrs" in a3 ? a3.attrs : [],
    location: Wt2(e)
  };
  t3.parser.currentToken = i5, t3.parser._processToken(t3.parser.currentToken), t3.parser.tokenizer.lastStartTagName = n4;
}
function Vd(e, t3) {
  const n4 = e.tagName.toLowerCase();
  if (!t3.parser.tokenizer.inForeignNode && ua.includes(n4) || t3.parser.tokenizer.state === re3.PLAINTEXT) return;
  _t2(t3, Ps(e));
  const r4 = {
    type: q4.END_TAG,
    tagName: n4,
    tagID: At2(n4),
    selfClosing: false,
    ackSelfClosing: false,
    attrs: [],
    location: Wt2(e)
  };
  t3.parser.currentToken = r4, t3.parser._processToken(t3.parser.currentToken), // Current element is closed.
  n4 === t3.parser.tokenizer.lastStartTagName && // `<textarea>` and `<title>`
  (t3.parser.tokenizer.state === re3.RCDATA || // `<iframe>`, `<noembed>`, `<noframes>`, `<style>`, `<xmp>`
  t3.parser.tokenizer.state === re3.RAWTEXT || // `<script>`
  t3.parser.tokenizer.state === re3.SCRIPT_DATA) && (t3.parser.tokenizer.state = re3.DATA);
}
function Wd(e) {
  const t3 = e.type === "root" ? e.children[0] : e;
  return !!(t3 && (t3.type === "doctype" || t3.type === "element" && t3.tagName.toLowerCase() === "html"));
}
function Wt2(e) {
  const t3 = Fr(e) || {
    line: void 0,
    column: void 0,
    offset: void 0
  }, n4 = Ps(e) || {
    line: void 0,
    column: void 0,
    offset: void 0
  };
  return {
    startLine: t3.line,
    startCol: t3.column,
    startOffset: t3.offset,
    endLine: n4.line,
    endCol: n4.column,
    endOffset: n4.offset
  };
}
function Qd(e) {
  return "children" in e ? _u2({ ...e, children: [] }) : _u2(e);
}
function Gd(e) {
  return function(t3, n4) {
    return (
      /** @type {Root} */
      Ia2(t3, { ...e, file: n4 })
    );
  };
}
function Xd(e) {
  if (typeof e != "string")
    throw new TypeError("Expected a string");
  return e.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
}
function Kd(e, t3, n4) {
  const u5 = Wr((n4 || {}).ignore || []), a3 = $d(t3);
  let i5 = -1;
  for (; ++i5 < a3.length; )
    aa(e, "text", o2);
  function o2(c6, h3) {
    let f8 = -1, p3;
    for (; ++f8 < h3.length; ) {
      const d2 = h3[f8], A3 = p3 ? p3.children : void 0;
      if (u5(
        d2,
        A3 ? A3.indexOf(d2) : void 0,
        p3
      ))
        return;
      p3 = d2;
    }
    if (p3)
      return l3(c6, h3);
  }
  function l3(c6, h3) {
    const f8 = h3[h3.length - 1], p3 = a3[i5][0], d2 = a3[i5][1];
    let A3 = 0;
    const L4 = f8.children.indexOf(c6);
    let x8 = false, w6 = [];
    p3.lastIndex = 0;
    let D3 = p3.exec(c6.value);
    for (; D3; ) {
      const z4 = D3.index, Y5 = {
        index: D3.index,
        input: D3.input,
        stack: [...h3, c6]
      };
      let O4 = d2(...D3, Y5);
      if (typeof O4 == "string" && (O4 = O4.length > 0 ? { type: "text", value: O4 } : void 0), O4 === false ? p3.lastIndex = z4 + 1 : (A3 !== z4 && w6.push({
        type: "text",
        value: c6.value.slice(A3, z4)
      }), Array.isArray(O4) ? w6.push(...O4) : O4 && w6.push(O4), A3 = z4 + D3[0].length, x8 = true), !p3.global)
        break;
      D3 = p3.exec(c6.value);
    }
    return x8 ? (A3 < c6.value.length && w6.push({ type: "text", value: c6.value.slice(A3) }), f8.children.splice(L4, 1, ...w6)) : w6 = [c6], L4 + w6.length;
  }
}
function $d(e) {
  const t3 = [];
  if (!Array.isArray(e))
    throw new TypeError("Expected find and replace tuple or list of tuples");
  const n4 = !e[0] || Array.isArray(e[0]) ? e : [e];
  let r4 = -1;
  for (; ++r4 < n4.length; ) {
    const u5 = n4[r4];
    t3.push([Jd(u5[0]), Zd(u5[1])]);
  }
  return t3;
}
function Jd(e) {
  return typeof e == "string" ? new RegExp(Xd(e), "g") : e;
}
function Zd(e) {
  return typeof e == "function" ? e : function() {
    return e;
  };
}
var Vn2 = "phrasing";
var Wn2 = ["autolink", "link", "image", "label"];
function em() {
  return {
    transforms: [sm],
    enter: {
      literalAutolink: nm,
      literalAutolinkEmail: Qn2,
      literalAutolinkHttp: Qn2,
      literalAutolinkWww: Qn2
    },
    exit: {
      literalAutolink: am,
      literalAutolinkEmail: im,
      literalAutolinkHttp: rm,
      literalAutolinkWww: um
    }
  };
}
function tm() {
  return {
    unsafe: [
      {
        character: "@",
        before: "[+\\-.\\w]",
        after: "[\\-.\\w]",
        inConstruct: Vn2,
        notInConstruct: Wn2
      },
      {
        character: ".",
        before: "[Ww]",
        after: "[\\-.\\w]",
        inConstruct: Vn2,
        notInConstruct: Wn2
      },
      {
        character: ":",
        before: "[ps]",
        after: "\\/",
        inConstruct: Vn2,
        notInConstruct: Wn2
      }
    ]
  };
}
function nm(e) {
  this.enter({ type: "link", title: null, url: "", children: [] }, e);
}
function Qn2(e) {
  this.config.enter.autolinkProtocol.call(this, e);
}
function rm(e) {
  this.config.exit.autolinkProtocol.call(this, e);
}
function um(e) {
  this.config.exit.data.call(this, e);
  const t3 = this.stack[this.stack.length - 1];
  Qc(t3.type === "link"), t3.url = "http://" + this.sliceSerialize(e);
}
function im(e) {
  this.config.exit.autolinkEmail.call(this, e);
}
function am(e) {
  this.exit(e);
}
function sm(e) {
  Kd(
    e,
    [
      [/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi, om],
      [/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu, lm]
    ],
    { ignore: ["link", "linkReference"] }
  );
}
function om(e, t3, n4, r4, u5) {
  let a3 = "";
  if (!ka2(u5) || (/^w/i.test(t3) && (n4 = t3 + n4, t3 = "", a3 = "http://"), !cm(n4)))
    return false;
  const i5 = fm(n4 + r4);
  if (!i5[0]) return false;
  const o2 = {
    type: "link",
    title: null,
    url: a3 + t3 + i5[0],
    children: [{ type: "text", value: t3 + i5[0] }]
  };
  return i5[1] ? [o2, { type: "text", value: i5[1] }] : o2;
}
function lm(e, t3, n4, r4) {
  return (
    // Not an expected previous character.
    !ka2(r4, true) || // Label ends in not allowed character.
    /[-\d_]$/.test(n4) ? false : {
      type: "link",
      title: null,
      url: "mailto:" + t3 + "@" + n4,
      children: [{ type: "text", value: t3 + "@" + n4 }]
    }
  );
}
function cm(e) {
  const t3 = e.split(".");
  return !(t3.length < 2 || t3[t3.length - 1] && (/_/.test(t3[t3.length - 1]) || !/[a-zA-Z\d]/.test(t3[t3.length - 1])) || t3[t3.length - 2] && (/_/.test(t3[t3.length - 2]) || !/[a-zA-Z\d]/.test(t3[t3.length - 2])));
}
function fm(e) {
  const t3 = /[!"&'),.:;<>?\]}]+$/.exec(e);
  if (!t3)
    return [e, void 0];
  e = e.slice(0, t3.index);
  let n4 = t3[0], r4 = n4.indexOf(")");
  const u5 = jn(e, "(");
  let a3 = jn(e, ")");
  for (; r4 !== -1 && u5 > a3; )
    e += n4.slice(0, r4 + 1), n4 = n4.slice(r4 + 1), r4 = n4.indexOf(")"), a3++;
  return [e, n4];
}
function ka2(e, t3) {
  const n4 = e.input.charCodeAt(e.index - 1);
  return (e.index === 0 || tt2(n4) || bn2(n4)) && // If its an email, the previous character should not be a slash.
  (!t3 || n4 !== 47);
}
function Qt2(e) {
  return e.replace(/[\t\n\r ]+/g, " ").replace(/^ | $/g, "").toLowerCase().toUpperCase();
}
Oa2.peek = Am;
function hm() {
  this.buffer();
}
function dm(e) {
  this.enter({ type: "footnoteReference", identifier: "", label: "" }, e);
}
function mm() {
  this.buffer();
}
function pm(e) {
  this.enter(
    { type: "footnoteDefinition", identifier: "", label: "", children: [] },
    e
  );
}
function Em(e) {
  const t3 = this.resume(), n4 = this.stack[this.stack.length - 1];
  Qc(n4.type === "footnoteReference"), n4.identifier = Qt2(
    this.sliceSerialize(e)
  ).toLowerCase(), n4.label = t3;
}
function Tm(e) {
  this.exit(e);
}
function gm(e) {
  const t3 = this.resume(), n4 = this.stack[this.stack.length - 1];
  Qc(n4.type === "footnoteDefinition"), n4.identifier = Qt2(
    this.sliceSerialize(e)
  ).toLowerCase(), n4.label = t3;
}
function bm(e) {
  this.exit(e);
}
function Am() {
  return "[";
}
function Oa2(e, t3, n4, r4) {
  const u5 = n4.createTracker(r4);
  let a3 = u5.move("[^");
  const i5 = n4.enter("footnoteReference"), o2 = n4.enter("reference");
  return a3 += u5.move(
    n4.safe(n4.associationId(e), { after: "]", before: a3 })
  ), o2(), i5(), a3 += u5.move("]"), a3;
}
function _m() {
  return {
    enter: {
      gfmFootnoteCallString: hm,
      gfmFootnoteCall: dm,
      gfmFootnoteDefinitionLabelString: mm,
      gfmFootnoteDefinition: pm
    },
    exit: {
      gfmFootnoteCallString: Em,
      gfmFootnoteCall: Tm,
      gfmFootnoteDefinitionLabelString: gm,
      gfmFootnoteDefinition: bm
    }
  };
}
function Cm(e) {
  let t3 = false;
  return e && e.firstLineBlank && (t3 = true), {
    handlers: { footnoteDefinition: n4, footnoteReference: Oa2 },
    // This is on by default already.
    unsafe: [{ character: "[", inConstruct: ["label", "phrasing", "reference"] }]
  };
  function n4(r4, u5, a3, i5) {
    const o2 = a3.createTracker(i5);
    let l3 = o2.move("[^");
    const c6 = a3.enter("footnoteDefinition"), h3 = a3.enter("label");
    return l3 += o2.move(
      a3.safe(a3.associationId(r4), { before: l3, after: "]" })
    ), h3(), l3 += o2.move("]:"), r4.children && r4.children.length > 0 && (o2.shift(4), l3 += o2.move(
      (t3 ? `
` : " ") + a3.indentLines(
        a3.containerFlow(r4, o2.current()),
        t3 ? ya2 : Im
      )
    )), c6(), l3;
  }
}
function Im(e, t3, n4) {
  return t3 === 0 ? e : ya2(e, t3, n4);
}
function ya2(e, t3, n4) {
  return (n4 ? "" : "    ") + e;
}
var xm = [
  "autolink",
  "destinationLiteral",
  "destinationRaw",
  "reference",
  "titleQuote",
  "titleApostrophe"
];
La2.peek = ym;
function Nm() {
  return {
    canContainEols: ["delete"],
    enter: { strikethrough: km },
    exit: { strikethrough: Om }
  };
}
function Sm() {
  return {
    unsafe: [
      {
        character: "~",
        inConstruct: "phrasing",
        notInConstruct: xm
      }
    ],
    handlers: { delete: La2 }
  };
}
function km(e) {
  this.enter({ type: "delete", children: [] }, e);
}
function Om(e) {
  this.exit(e);
}
function La2(e, t3, n4, r4) {
  const u5 = n4.createTracker(r4), a3 = n4.enter("strikethrough");
  let i5 = u5.move("~~");
  return i5 += n4.containerPhrasing(e, {
    ...u5.current(),
    before: i5,
    after: "~"
  }), i5 += u5.move("~~"), a3(), i5;
}
function ym() {
  return "~";
}
function Lm(e) {
  return e.length;
}
function Rm(e, t3) {
  const n4 = t3 || {}, r4 = (n4.align || []).concat(), u5 = n4.stringLength || Lm, a3 = [], i5 = [], o2 = [], l3 = [];
  let c6 = 0, h3 = -1;
  for (; ++h3 < e.length; ) {
    const I4 = [], L4 = [];
    let x8 = -1;
    for (e[h3].length > c6 && (c6 = e[h3].length); ++x8 < e[h3].length; ) {
      const w6 = Dm(e[h3][x8]);
      if (n4.alignDelimiters !== false) {
        const D3 = u5(w6);
        L4[x8] = D3, (l3[x8] === void 0 || D3 > l3[x8]) && (l3[x8] = D3);
      }
      I4.push(w6);
    }
    i5[h3] = I4, o2[h3] = L4;
  }
  let f8 = -1;
  if (typeof r4 == "object" && "length" in r4)
    for (; ++f8 < c6; )
      a3[f8] = zu2(r4[f8]);
  else {
    const I4 = zu2(r4);
    for (; ++f8 < c6; )
      a3[f8] = I4;
  }
  f8 = -1;
  const p3 = [], d2 = [];
  for (; ++f8 < c6; ) {
    const I4 = a3[f8];
    let L4 = "", x8 = "";
    I4 === 99 ? (L4 = ":", x8 = ":") : I4 === 108 ? L4 = ":" : I4 === 114 && (x8 = ":");
    let w6 = n4.alignDelimiters === false ? 1 : Math.max(
      1,
      l3[f8] - L4.length - x8.length
    );
    const D3 = L4 + "-".repeat(w6) + x8;
    n4.alignDelimiters !== false && (w6 = L4.length + w6 + x8.length, w6 > l3[f8] && (l3[f8] = w6), d2[f8] = w6), p3[f8] = D3;
  }
  i5.splice(1, 0, p3), o2.splice(1, 0, d2), h3 = -1;
  const A3 = [];
  for (; ++h3 < i5.length; ) {
    const I4 = i5[h3], L4 = o2[h3];
    f8 = -1;
    const x8 = [];
    for (; ++f8 < c6; ) {
      const w6 = I4[f8] || "";
      let D3 = "", z4 = "";
      if (n4.alignDelimiters !== false) {
        const Y5 = l3[f8] - (L4[f8] || 0), O4 = a3[f8];
        O4 === 114 ? D3 = " ".repeat(Y5) : O4 === 99 ? Y5 % 2 ? (D3 = " ".repeat(Y5 / 2 + 0.5), z4 = " ".repeat(Y5 / 2 - 0.5)) : (D3 = " ".repeat(Y5 / 2), z4 = D3) : z4 = " ".repeat(Y5);
      }
      n4.delimiterStart !== false && !f8 && x8.push("|"), n4.padding !== false && // Dont add the opening space if were not aligning and the cell is
      // empty: there will be a closing space.
      !(n4.alignDelimiters === false && w6 === "") && (n4.delimiterStart !== false || f8) && x8.push(" "), n4.alignDelimiters !== false && x8.push(D3), x8.push(w6), n4.alignDelimiters !== false && x8.push(z4), n4.padding !== false && x8.push(" "), (n4.delimiterEnd !== false || f8 !== c6 - 1) && x8.push("|");
    }
    A3.push(
      n4.delimiterEnd === false ? x8.join("").replace(/ +$/, "") : x8.join("")
    );
  }
  return A3.join(`
`);
}
function Dm(e) {
  return e == null ? "" : String(e);
}
function zu2(e) {
  const t3 = typeof e == "string" ? e.codePointAt(0) : 0;
  return t3 === 67 || t3 === 99 ? 99 : t3 === 76 || t3 === 108 ? 108 : t3 === 82 || t3 === 114 ? 114 : 0;
}
function Pm(e, t3, n4, r4) {
  const u5 = n4.enter("blockquote"), a3 = n4.createTracker(r4);
  a3.move("> "), a3.shift(2);
  const i5 = n4.indentLines(
    n4.containerFlow(e, a3.current()),
    wm
  );
  return u5(), i5;
}
function wm(e, t3, n4) {
  return ">" + (n4 ? "" : " ") + e;
}
function Mm(e, t3) {
  return Yu2(e, t3.inConstruct, true) && !Yu2(e, t3.notInConstruct, false);
}
function Yu2(e, t3, n4) {
  if (typeof t3 == "string" && (t3 = [t3]), !t3 || t3.length === 0)
    return n4;
  let r4 = -1;
  for (; ++r4 < t3.length; )
    if (e.includes(t3[r4]))
      return true;
  return false;
}
function qu2(e, t3, n4, r4) {
  let u5 = -1;
  for (; ++u5 < n4.unsafe.length; )
    if (n4.unsafe[u5].character === `
` && Mm(n4.stack, n4.unsafe[u5]))
      return /[ \t]/.test(r4.before) ? "" : " ";
  return `\\
`;
}
function Bm(e, t3) {
  const n4 = String(e);
  let r4 = n4.indexOf(t3), u5 = r4, a3 = 0, i5 = 0;
  if (typeof t3 != "string")
    throw new TypeError("Expected substring");
  for (; r4 !== -1; )
    r4 === u5 ? ++a3 > i5 && (i5 = a3) : a3 = 1, u5 = r4 + t3.length, r4 = n4.indexOf(t3, u5);
  return i5;
}
function Fm(e, t3) {
  return !!(t3.options.fences === false && e.value && // If theres no info
  !e.lang && // And theres a non-whitespace character
  /[^ \r\n]/.test(e.value) && // And the value doesnt start or end in a blank
  !/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value));
}
function Hm(e) {
  const t3 = e.options.fence || "`";
  if (t3 !== "`" && t3 !== "~")
    throw new Error(
      "Cannot serialize code with `" + t3 + "` for `options.fence`, expected `` ` `` or `~`"
    );
  return t3;
}
function Um(e, t3, n4, r4) {
  const u5 = Hm(n4), a3 = e.value || "", i5 = u5 === "`" ? "GraveAccent" : "Tilde";
  if (Fm(e, n4)) {
    const f8 = n4.enter("codeIndented"), p3 = n4.indentLines(a3, vm);
    return f8(), p3;
  }
  const o2 = n4.createTracker(r4), l3 = u5.repeat(Math.max(Bm(a3, u5) + 1, 3)), c6 = n4.enter("codeFenced");
  let h3 = o2.move(l3);
  if (e.lang) {
    const f8 = n4.enter(`codeFencedLang${i5}`);
    h3 += o2.move(
      n4.safe(e.lang, {
        before: h3,
        after: " ",
        encode: ["`"],
        ...o2.current()
      })
    ), f8();
  }
  if (e.lang && e.meta) {
    const f8 = n4.enter(`codeFencedMeta${i5}`);
    h3 += o2.move(" "), h3 += o2.move(
      n4.safe(e.meta, {
        before: h3,
        after: `
`,
        encode: ["`"],
        ...o2.current()
      })
    ), f8();
  }
  return h3 += o2.move(`
`), a3 && (h3 += o2.move(a3 + `
`)), h3 += o2.move(l3), c6(), h3;
}
function vm(e, t3, n4) {
  return (n4 ? "" : "    ") + e;
}
function Dr2(e) {
  const t3 = e.options.quote || '"';
  if (t3 !== '"' && t3 !== "'")
    throw new Error(
      "Cannot serialize title with `" + t3 + "` for `options.quote`, expected `\"`, or `'`"
    );
  return t3;
}
function zm(e, t3, n4, r4) {
  const u5 = Dr2(n4), a3 = u5 === '"' ? "Quote" : "Apostrophe", i5 = n4.enter("definition");
  let o2 = n4.enter("label");
  const l3 = n4.createTracker(r4);
  let c6 = l3.move("[");
  return c6 += l3.move(
    n4.safe(n4.associationId(e), {
      before: c6,
      after: "]",
      ...l3.current()
    })
  ), c6 += l3.move("]: "), o2(), // If theres no url, or
  !e.url || // If there are control characters or whitespace.
  /[\0- \u007F]/.test(e.url) ? (o2 = n4.enter("destinationLiteral"), c6 += l3.move("<"), c6 += l3.move(
    n4.safe(e.url, { before: c6, after: ">", ...l3.current() })
  ), c6 += l3.move(">")) : (o2 = n4.enter("destinationRaw"), c6 += l3.move(
    n4.safe(e.url, {
      before: c6,
      after: e.title ? " " : `
`,
      ...l3.current()
    })
  )), o2(), e.title && (o2 = n4.enter(`title${a3}`), c6 += l3.move(" " + u5), c6 += l3.move(
    n4.safe(e.title, {
      before: c6,
      after: u5,
      ...l3.current()
    })
  ), c6 += l3.move(u5), o2()), i5(), c6;
}
function Ym(e) {
  const t3 = e.options.emphasis || "*";
  if (t3 !== "*" && t3 !== "_")
    throw new Error(
      "Cannot serialize emphasis with `" + t3 + "` for `options.emphasis`, expected `*`, or `_`"
    );
  return t3;
}
function zt2(e) {
  return "&#x" + e.toString(16).toUpperCase() + ";";
}
function En2(e, t3, n4) {
  const r4 = mt2(e), u5 = mt2(t3);
  return r4 === void 0 ? u5 === void 0 ? (
    // Letter inside:
    // we have to encode *both* letters for `_` as it is looser.
    // it already forms for `*` (and GFMs `~`).
    n4 === "_" ? { inside: true, outside: true } : { inside: false, outside: false }
  ) : u5 === 1 ? (
    // Whitespace inside: encode both (letter, whitespace).
    { inside: true, outside: true }
  ) : (
    // Punctuation inside: encode outer (letter)
    { inside: false, outside: true }
  ) : r4 === 1 ? u5 === void 0 ? (
    // Letter inside: already forms.
    { inside: false, outside: false }
  ) : u5 === 1 ? (
    // Whitespace inside: encode both (whitespace).
    { inside: true, outside: true }
  ) : (
    // Punctuation inside: already forms.
    { inside: false, outside: false }
  ) : u5 === void 0 ? (
    // Letter inside: already forms.
    { inside: false, outside: false }
  ) : u5 === 1 ? (
    // Whitespace inside: encode inner (whitespace).
    { inside: true, outside: false }
  ) : (
    // Punctuation inside: already forms.
    { inside: false, outside: false }
  );
}
Ra2.peek = qm;
function Ra2(e, t3, n4, r4) {
  const u5 = Ym(n4), a3 = n4.enter("emphasis"), i5 = n4.createTracker(r4), o2 = i5.move(u5);
  let l3 = i5.move(
    n4.containerPhrasing(e, {
      after: u5,
      before: o2,
      ...i5.current()
    })
  );
  const c6 = l3.charCodeAt(0), h3 = En2(
    r4.before.charCodeAt(r4.before.length - 1),
    c6,
    u5
  );
  h3.inside && (l3 = zt2(c6) + l3.slice(1));
  const f8 = l3.charCodeAt(l3.length - 1), p3 = En2(r4.after.charCodeAt(0), f8, u5);
  p3.inside && (l3 = l3.slice(0, -1) + zt2(f8));
  const d2 = i5.move(u5);
  return a3(), n4.attentionEncodeSurroundingInfo = {
    after: p3.outside,
    before: h3.outside
  }, o2 + l3 + d2;
}
function qm(e, t3, n4) {
  return n4.options.emphasis || "*";
}
function jm(e, t3) {
  let n4 = false;
  return Vr(e, function(r4) {
    if ("value" in r4 && /\r?\n|\r/.test(r4.value) || r4.type === "break")
      return n4 = true, Fn;
  }), !!((!e.depth || e.depth < 3) && fr2(e) && (t3.options.setext || n4));
}
function Vm(e, t3, n4, r4) {
  const u5 = Math.max(Math.min(6, e.depth || 1), 1), a3 = n4.createTracker(r4);
  if (jm(e, n4)) {
    const h3 = n4.enter("headingSetext"), f8 = n4.enter("phrasing"), p3 = n4.containerPhrasing(e, {
      ...a3.current(),
      before: `
`,
      after: `
`
    });
    return f8(), h3(), p3 + `
` + (u5 === 1 ? "=" : "-").repeat(
      // The whole size
      p3.length - // Minus the position of the character after the last EOL (or
      // 0 if there is none)
      (Math.max(p3.lastIndexOf("\r"), p3.lastIndexOf(`
`)) + 1)
    );
  }
  const i5 = "#".repeat(u5), o2 = n4.enter("headingAtx"), l3 = n4.enter("phrasing");
  a3.move(i5 + " ");
  let c6 = n4.containerPhrasing(e, {
    before: "# ",
    after: `
`,
    ...a3.current()
  });
  return /^[\t ]/.test(c6) && (c6 = zt2(c6.charCodeAt(0)) + c6.slice(1)), c6 = c6 ? i5 + " " + c6 : i5, n4.options.closeAtx && (c6 += " " + i5), l3(), o2(), c6;
}
Da2.peek = Wm;
function Da2(e) {
  return e.value || "";
}
function Wm() {
  return "<";
}
Pa2.peek = Qm;
function Pa2(e, t3, n4, r4) {
  const u5 = Dr2(n4), a3 = u5 === '"' ? "Quote" : "Apostrophe", i5 = n4.enter("image");
  let o2 = n4.enter("label");
  const l3 = n4.createTracker(r4);
  let c6 = l3.move("![");
  return c6 += l3.move(
    n4.safe(e.alt, { before: c6, after: "]", ...l3.current() })
  ), c6 += l3.move("]("), o2(), // If theres no url but there is a title
  !e.url && e.title || // If there are control characters or whitespace.
  /[\0- \u007F]/.test(e.url) ? (o2 = n4.enter("destinationLiteral"), c6 += l3.move("<"), c6 += l3.move(
    n4.safe(e.url, { before: c6, after: ">", ...l3.current() })
  ), c6 += l3.move(">")) : (o2 = n4.enter("destinationRaw"), c6 += l3.move(
    n4.safe(e.url, {
      before: c6,
      after: e.title ? " " : ")",
      ...l3.current()
    })
  )), o2(), e.title && (o2 = n4.enter(`title${a3}`), c6 += l3.move(" " + u5), c6 += l3.move(
    n4.safe(e.title, {
      before: c6,
      after: u5,
      ...l3.current()
    })
  ), c6 += l3.move(u5), o2()), c6 += l3.move(")"), i5(), c6;
}
function Qm() {
  return "!";
}
wa2.peek = Gm;
function wa2(e, t3, n4, r4) {
  const u5 = e.referenceType, a3 = n4.enter("imageReference");
  let i5 = n4.enter("label");
  const o2 = n4.createTracker(r4);
  let l3 = o2.move("![");
  const c6 = n4.safe(e.alt, {
    before: l3,
    after: "]",
    ...o2.current()
  });
  l3 += o2.move(c6 + "]["), i5();
  const h3 = n4.stack;
  n4.stack = [], i5 = n4.enter("reference");
  const f8 = n4.safe(n4.associationId(e), {
    before: l3,
    after: "]",
    ...o2.current()
  });
  return i5(), n4.stack = h3, a3(), u5 === "full" || !c6 || c6 !== f8 ? l3 += o2.move(f8 + "]") : u5 === "shortcut" ? l3 = l3.slice(0, -1) : l3 += o2.move("]"), l3;
}
function Gm() {
  return "!";
}
Ma2.peek = Xm;
function Ma2(e, t3, n4) {
  let r4 = e.value || "", u5 = "`", a3 = -1;
  for (; new RegExp("(^|[^`])" + u5 + "([^`]|$)").test(r4); )
    u5 += "`";
  for (/[^ \r\n]/.test(r4) && (/^[ \r\n]/.test(r4) && /[ \r\n]$/.test(r4) || /^`|`$/.test(r4)) && (r4 = " " + r4 + " "); ++a3 < n4.unsafe.length; ) {
    const i5 = n4.unsafe[a3], o2 = n4.compilePattern(i5);
    let l3;
    if (i5.atBreak)
      for (; l3 = o2.exec(r4); ) {
        let c6 = l3.index;
        r4.charCodeAt(c6) === 10 && r4.charCodeAt(c6 - 1) === 13 && c6--, r4 = r4.slice(0, c6) + " " + r4.slice(l3.index + 1);
      }
  }
  return u5 + r4 + u5;
}
function Xm() {
  return "`";
}
function Ba2(e, t3) {
  const n4 = fr2(e);
  return !!(!t3.options.resourceLink && // If theres a url
  e.url && // And theres a no title
  !e.title && // And the content of `node` is a single text node
  e.children && e.children.length === 1 && e.children[0].type === "text" && // And if the url is the same as the content
  (n4 === e.url || "mailto:" + n4 === e.url) && // And that starts w/ a protocol
  /^[a-z][a-z+.-]+:/i.test(e.url) && // And that doesnt contain ASCII control codes (character escapes and
  // references dont work), space, or angle brackets
  !/[\0- <>\u007F]/.test(e.url));
}
Fa2.peek = Km;
function Fa2(e, t3, n4, r4) {
  const u5 = Dr2(n4), a3 = u5 === '"' ? "Quote" : "Apostrophe", i5 = n4.createTracker(r4);
  let o2, l3;
  if (Ba2(e, n4)) {
    const h3 = n4.stack;
    n4.stack = [], o2 = n4.enter("autolink");
    let f8 = i5.move("<");
    return f8 += i5.move(
      n4.containerPhrasing(e, {
        before: f8,
        after: ">",
        ...i5.current()
      })
    ), f8 += i5.move(">"), o2(), n4.stack = h3, f8;
  }
  o2 = n4.enter("link"), l3 = n4.enter("label");
  let c6 = i5.move("[");
  return c6 += i5.move(
    n4.containerPhrasing(e, {
      before: c6,
      after: "](",
      ...i5.current()
    })
  ), c6 += i5.move("]("), l3(), // If theres no url but there is a title
  !e.url && e.title || // If there are control characters or whitespace.
  /[\0- \u007F]/.test(e.url) ? (l3 = n4.enter("destinationLiteral"), c6 += i5.move("<"), c6 += i5.move(
    n4.safe(e.url, { before: c6, after: ">", ...i5.current() })
  ), c6 += i5.move(">")) : (l3 = n4.enter("destinationRaw"), c6 += i5.move(
    n4.safe(e.url, {
      before: c6,
      after: e.title ? " " : ")",
      ...i5.current()
    })
  )), l3(), e.title && (l3 = n4.enter(`title${a3}`), c6 += i5.move(" " + u5), c6 += i5.move(
    n4.safe(e.title, {
      before: c6,
      after: u5,
      ...i5.current()
    })
  ), c6 += i5.move(u5), l3()), c6 += i5.move(")"), o2(), c6;
}
function Km(e, t3, n4) {
  return Ba2(e, n4) ? "<" : "[";
}
Ha2.peek = $m;
function Ha2(e, t3, n4, r4) {
  const u5 = e.referenceType, a3 = n4.enter("linkReference");
  let i5 = n4.enter("label");
  const o2 = n4.createTracker(r4);
  let l3 = o2.move("[");
  const c6 = n4.containerPhrasing(e, {
    before: l3,
    after: "]",
    ...o2.current()
  });
  l3 += o2.move(c6 + "]["), i5();
  const h3 = n4.stack;
  n4.stack = [], i5 = n4.enter("reference");
  const f8 = n4.safe(n4.associationId(e), {
    before: l3,
    after: "]",
    ...o2.current()
  });
  return i5(), n4.stack = h3, a3(), u5 === "full" || !c6 || c6 !== f8 ? l3 += o2.move(f8 + "]") : u5 === "shortcut" ? l3 = l3.slice(0, -1) : l3 += o2.move("]"), l3;
}
function $m() {
  return "[";
}
function Pr2(e) {
  const t3 = e.options.bullet || "*";
  if (t3 !== "*" && t3 !== "+" && t3 !== "-")
    throw new Error(
      "Cannot serialize items with `" + t3 + "` for `options.bullet`, expected `*`, `+`, or `-`"
    );
  return t3;
}
function Jm(e) {
  const t3 = Pr2(e), n4 = e.options.bulletOther;
  if (!n4)
    return t3 === "*" ? "-" : "*";
  if (n4 !== "*" && n4 !== "+" && n4 !== "-")
    throw new Error(
      "Cannot serialize items with `" + n4 + "` for `options.bulletOther`, expected `*`, `+`, or `-`"
    );
  if (n4 === t3)
    throw new Error(
      "Expected `bullet` (`" + t3 + "`) and `bulletOther` (`" + n4 + "`) to be different"
    );
  return n4;
}
function Zm(e) {
  const t3 = e.options.bulletOrdered || ".";
  if (t3 !== "." && t3 !== ")")
    throw new Error(
      "Cannot serialize items with `" + t3 + "` for `options.bulletOrdered`, expected `.` or `)`"
    );
  return t3;
}
function Ua2(e) {
  const t3 = e.options.rule || "*";
  if (t3 !== "*" && t3 !== "-" && t3 !== "_")
    throw new Error(
      "Cannot serialize rules with `" + t3 + "` for `options.rule`, expected `*`, `-`, or `_`"
    );
  return t3;
}
function e1(e, t3, n4, r4) {
  const u5 = n4.enter("list"), a3 = n4.bulletCurrent;
  let i5 = e.ordered ? Zm(n4) : Pr2(n4);
  const o2 = e.ordered ? i5 === "." ? ")" : "." : Jm(n4);
  let l3 = t3 && n4.bulletLastUsed ? i5 === n4.bulletLastUsed : false;
  if (!e.ordered) {
    const h3 = e.children ? e.children[0] : void 0;
    if (
      // Bullet could be used as a thematic break marker:
      (i5 === "*" || i5 === "-") && // Empty first list item:
      h3 && (!h3.children || !h3.children[0]) && // Directly in two other list items:
      n4.stack[n4.stack.length - 1] === "list" && n4.stack[n4.stack.length - 2] === "listItem" && n4.stack[n4.stack.length - 3] === "list" && n4.stack[n4.stack.length - 4] === "listItem" && // That are each the first child.
      n4.indexStack[n4.indexStack.length - 1] === 0 && n4.indexStack[n4.indexStack.length - 2] === 0 && n4.indexStack[n4.indexStack.length - 3] === 0 && (l3 = true), Ua2(n4) === i5 && h3
    ) {
      let f8 = -1;
      for (; ++f8 < e.children.length; ) {
        const p3 = e.children[f8];
        if (p3 && p3.type === "listItem" && p3.children && p3.children[0] && p3.children[0].type === "thematicBreak") {
          l3 = true;
          break;
        }
      }
    }
  }
  l3 && (i5 = o2), n4.bulletCurrent = i5;
  const c6 = n4.containerFlow(e, r4);
  return n4.bulletLastUsed = i5, n4.bulletCurrent = a3, u5(), c6;
}
function t1(e) {
  const t3 = e.options.listItemIndent || "one";
  if (t3 !== "tab" && t3 !== "one" && t3 !== "mixed")
    throw new Error(
      "Cannot serialize items with `" + t3 + "` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`"
    );
  return t3;
}
function n1(e, t3, n4, r4) {
  const u5 = t1(n4);
  let a3 = n4.bulletCurrent || Pr2(n4);
  t3 && t3.type === "list" && t3.ordered && (a3 = (typeof t3.start == "number" && t3.start > -1 ? t3.start : 1) + (n4.options.incrementListMarker === false ? 0 : t3.children.indexOf(e)) + a3);
  let i5 = a3.length + 1;
  (u5 === "tab" || u5 === "mixed" && (t3 && t3.type === "list" && t3.spread || e.spread)) && (i5 = Math.ceil(i5 / 4) * 4);
  const o2 = n4.createTracker(r4);
  o2.move(a3 + " ".repeat(i5 - a3.length)), o2.shift(i5);
  const l3 = n4.enter("listItem"), c6 = n4.indentLines(
    n4.containerFlow(e, o2.current()),
    h3
  );
  return l3(), c6;
  function h3(f8, p3, d2) {
    return p3 ? (d2 ? "" : " ".repeat(i5)) + f8 : (d2 ? a3 : a3 + " ".repeat(i5 - a3.length)) + f8;
  }
}
function r1(e, t3, n4, r4) {
  const u5 = n4.enter("paragraph"), a3 = n4.enter("phrasing"), i5 = n4.containerPhrasing(e, r4);
  return a3(), u5(), i5;
}
var u1 = (
  /** @type {(node?: unknown) => node is Exclude<PhrasingContent, Html>} */
  Wr([
    "break",
    "delete",
    "emphasis",
    // To do: next major: removed since footnotes were added to GFM.
    "footnote",
    "footnoteReference",
    "image",
    "imageReference",
    "inlineCode",
    // Enabled by `mdast-util-math`:
    "inlineMath",
    "link",
    "linkReference",
    // Enabled by `mdast-util-mdx`:
    "mdxJsxTextElement",
    // Enabled by `mdast-util-mdx`:
    "mdxTextExpression",
    "strong",
    "text",
    // Enabled by `mdast-util-directive`:
    "textDirective"
  ])
);
function i1(e, t3, n4, r4) {
  return (e.children.some(function(i5) {
    return u1(i5);
  }) ? n4.containerPhrasing : n4.containerFlow).call(n4, e, r4);
}
function a1(e) {
  const t3 = e.options.strong || "*";
  if (t3 !== "*" && t3 !== "_")
    throw new Error(
      "Cannot serialize strong with `" + t3 + "` for `options.strong`, expected `*`, or `_`"
    );
  return t3;
}
va2.peek = s1;
function va2(e, t3, n4, r4) {
  const u5 = a1(n4), a3 = n4.enter("strong"), i5 = n4.createTracker(r4), o2 = i5.move(u5 + u5);
  let l3 = i5.move(
    n4.containerPhrasing(e, {
      after: u5,
      before: o2,
      ...i5.current()
    })
  );
  const c6 = l3.charCodeAt(0), h3 = En2(
    r4.before.charCodeAt(r4.before.length - 1),
    c6,
    u5
  );
  h3.inside && (l3 = zt2(c6) + l3.slice(1));
  const f8 = l3.charCodeAt(l3.length - 1), p3 = En2(r4.after.charCodeAt(0), f8, u5);
  p3.inside && (l3 = l3.slice(0, -1) + zt2(f8));
  const d2 = i5.move(u5 + u5);
  return a3(), n4.attentionEncodeSurroundingInfo = {
    after: p3.outside,
    before: h3.outside
  }, o2 + l3 + d2;
}
function s1(e, t3, n4) {
  return n4.options.strong || "*";
}
function o1(e, t3, n4, r4) {
  return n4.safe(e.value, r4);
}
function l1(e) {
  const t3 = e.options.ruleRepetition || 3;
  if (t3 < 3)
    throw new Error(
      "Cannot serialize rules with repetition `" + t3 + "` for `options.ruleRepetition`, expected `3` or more"
    );
  return t3;
}
function c1(e, t3, n4) {
  const r4 = (Ua2(n4) + (n4.options.ruleSpaces ? " " : "")).repeat(l1(n4));
  return n4.options.ruleSpaces ? r4.slice(0, -1) : r4;
}
var za2 = {
  blockquote: Pm,
  break: qu2,
  code: Um,
  definition: zm,
  emphasis: Ra2,
  hardBreak: qu2,
  heading: Vm,
  html: Da2,
  image: Pa2,
  imageReference: wa2,
  inlineCode: Ma2,
  link: Fa2,
  linkReference: Ha2,
  list: e1,
  listItem: n1,
  paragraph: r1,
  root: i1,
  strong: va2,
  text: o1,
  thematicBreak: c1
};
function f1() {
  return {
    enter: {
      table: h1,
      tableData: ju2,
      tableHeader: ju2,
      tableRow: m1
    },
    exit: {
      codeText: p1,
      table: d1,
      tableData: Gn2,
      tableHeader: Gn2,
      tableRow: Gn2
    }
  };
}
function h1(e) {
  const t3 = e._align;
  this.enter(
    {
      type: "table",
      align: t3.map(function(n4) {
        return n4 === "none" ? null : n4;
      }),
      children: []
    },
    e
  ), this.data.inTable = true;
}
function d1(e) {
  this.exit(e), this.data.inTable = void 0;
}
function m1(e) {
  this.enter({ type: "tableRow", children: [] }, e);
}
function Gn2(e) {
  this.exit(e);
}
function ju2(e) {
  this.enter({ type: "tableCell", children: [] }, e);
}
function p1(e) {
  let t3 = this.resume();
  this.data.inTable && (t3 = t3.replace(/\\([\\|])/g, E1));
  const n4 = this.stack[this.stack.length - 1];
  Qc(n4.type === "inlineCode"), n4.value = t3, this.exit(e);
}
function E1(e, t3) {
  return t3 === "|" ? t3 : e;
}
function T1(e) {
  const t3 = e || {}, n4 = t3.tableCellPadding, r4 = t3.tablePipeAlign, u5 = t3.stringLength, a3 = n4 ? " " : "|";
  return {
    unsafe: [
      { character: "\r", inConstruct: "tableCell" },
      { character: `
`, inConstruct: "tableCell" },
      // A pipe, when followed by a tab or space (padding), or a dash or colon
      // (unpadded delimiter row), could result in a table.
      { atBreak: true, character: "|", after: "[	 :-]" },
      // A pipe in a cell must be encoded.
      { character: "|", inConstruct: "tableCell" },
      // A colon must be followed by a dash, in which case it could start a
      // delimiter row.
      { atBreak: true, character: ":", after: "-" },
      // A delimiter row can also start with a dash, when followed by more
      // dashes, a colon, or a pipe.
      // This is a stricter version than the built in check for lists, thematic
      // breaks, and setex heading underlines though:
      // <https://github.com/syntax-tree/mdast-util-to-markdown/blob/51a2038/lib/unsafe.js#L57>
      { atBreak: true, character: "-", after: "[:|-]" }
    ],
    handlers: {
      inlineCode: p3,
      table: i5,
      tableCell: l3,
      tableRow: o2
    }
  };
  function i5(d2, A3, I4, L4) {
    return c6(h3(d2, I4, L4), d2.align);
  }
  function o2(d2, A3, I4, L4) {
    const x8 = f8(d2, I4, L4), w6 = c6([x8]);
    return w6.slice(0, w6.indexOf(`
`));
  }
  function l3(d2, A3, I4, L4) {
    const x8 = I4.enter("tableCell"), w6 = I4.enter("phrasing"), D3 = I4.containerPhrasing(d2, {
      ...L4,
      before: a3,
      after: a3
    });
    return w6(), x8(), D3;
  }
  function c6(d2, A3) {
    return Rm(d2, {
      align: A3,
      // @ts-expect-error: `markdown-table` types should support `null`.
      alignDelimiters: r4,
      // @ts-expect-error: `markdown-table` types should support `null`.
      padding: n4,
      // @ts-expect-error: `markdown-table` types should support `null`.
      stringLength: u5
    });
  }
  function h3(d2, A3, I4) {
    const L4 = d2.children;
    let x8 = -1;
    const w6 = [], D3 = A3.enter("table");
    for (; ++x8 < L4.length; )
      w6[x8] = f8(L4[x8], A3, I4);
    return D3(), w6;
  }
  function f8(d2, A3, I4) {
    const L4 = d2.children;
    let x8 = -1;
    const w6 = [], D3 = A3.enter("tableRow");
    for (; ++x8 < L4.length; )
      w6[x8] = l3(L4[x8], d2, A3, I4);
    return D3(), w6;
  }
  function p3(d2, A3, I4) {
    let L4 = za2.inlineCode(d2, A3, I4);
    return I4.stack.includes("tableCell") && (L4 = L4.replace(/\|/g, "\\$&")), L4;
  }
}
function g1() {
  return {
    exit: {
      taskListCheckValueChecked: Vu2,
      taskListCheckValueUnchecked: Vu2,
      paragraph: A1
    }
  };
}
function b1() {
  return {
    unsafe: [{ atBreak: true, character: "-", after: "[:|-]" }],
    handlers: { listItem: _1 }
  };
}
function Vu2(e) {
  const t3 = this.stack[this.stack.length - 2];
  Qc(t3.type === "listItem"), t3.checked = e.type === "taskListCheckValueChecked";
}
function A1(e) {
  const t3 = this.stack[this.stack.length - 2];
  if (t3 && t3.type === "listItem" && typeof t3.checked == "boolean") {
    const n4 = this.stack[this.stack.length - 1];
    Qc(n4.type === "paragraph");
    const r4 = n4.children[0];
    if (r4 && r4.type === "text") {
      const u5 = t3.children;
      let a3 = -1, i5;
      for (; ++a3 < u5.length; ) {
        const o2 = u5[a3];
        if (o2.type === "paragraph") {
          i5 = o2;
          break;
        }
      }
      i5 === n4 && (r4.value = r4.value.slice(1), r4.value.length === 0 ? n4.children.shift() : n4.position && r4.position && typeof r4.position.start.offset == "number" && (r4.position.start.column++, r4.position.start.offset++, n4.position.start = Object.assign({}, r4.position.start)));
    }
  }
  this.exit(e);
}
function _1(e, t3, n4, r4) {
  const u5 = e.children[0], a3 = typeof e.checked == "boolean" && u5 && u5.type === "paragraph", i5 = "[" + (e.checked ? "x" : " ") + "] ", o2 = n4.createTracker(r4);
  a3 && o2.move(i5);
  let l3 = za2.listItem(e, t3, n4, {
    ...r4,
    ...o2.current()
  });
  return a3 && (l3 = l3.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/, c6)), l3;
  function c6(h3) {
    return h3 + i5;
  }
}
function C1() {
  return [
    em(),
    _m(),
    Nm(),
    f1(),
    g1()
  ];
}
function I1(e) {
  return {
    extensions: [
      tm(),
      Cm(e),
      Sm(),
      T1(e),
      b1()
    ]
  };
}
function sn2(e, t3, n4, r4) {
  const u5 = e.length;
  let a3 = 0, i5;
  if (t3 < 0 ? t3 = -t3 > u5 ? 0 : u5 + t3 : t3 = t3 > u5 ? u5 : t3, n4 = n4 > 0 ? n4 : 0, r4.length < 1e4)
    i5 = Array.from(r4), i5.unshift(t3, n4), e.splice(...i5);
  else
    for (n4 && e.splice(t3, n4); a3 < r4.length; )
      i5 = r4.slice(a3, a3 + 1e4), i5.unshift(t3, 0), e.splice(...i5), a3 += 1e4, t3 += 1e4;
}
var Wu2 = {}.hasOwnProperty;
function x1(e) {
  const t3 = {};
  let n4 = -1;
  for (; ++n4 < e.length; )
    N1(t3, e[n4]);
  return t3;
}
function N1(e, t3) {
  let n4;
  for (n4 in t3) {
    const u5 = (Wu2.call(e, n4) ? e[n4] : void 0) || (e[n4] = {}), a3 = t3[n4];
    let i5;
    if (a3)
      for (i5 in a3) {
        Wu2.call(u5, i5) || (u5[i5] = []);
        const o2 = a3[i5];
        S1(
          // @ts-expect-error Looks like a list.
          u5[i5],
          Array.isArray(o2) ? o2 : o2 ? [o2] : []
        );
      }
  }
}
function S1(e, t3) {
  let n4 = -1;
  const r4 = [];
  for (; ++n4 < t3.length; )
    (t3[n4].add === "after" ? e : r4).push(t3[n4]);
  sn2(e, 0, 0, r4);
}
var k1 = {
  tokenize: P1,
  partial: true
};
var Ya2 = {
  tokenize: w1,
  partial: true
};
var qa2 = {
  tokenize: M1,
  partial: true
};
var ja2 = {
  tokenize: B1,
  partial: true
};
var O1 = {
  tokenize: F1,
  partial: true
};
var Va2 = {
  name: "wwwAutolink",
  tokenize: R1,
  previous: Qa2
};
var Wa2 = {
  name: "protocolAutolink",
  tokenize: D1,
  previous: Ga2
};
var Be3 = {
  name: "emailAutolink",
  tokenize: L1,
  previous: Xa2
};
var ye2 = {};
function y1() {
  return {
    text: ye2
  };
}
var Je2 = 48;
for (; Je2 < 123; )
  ye2[Je2] = Be3, Je2++, Je2 === 58 ? Je2 = 65 : Je2 === 91 && (Je2 = 97);
ye2[43] = Be3;
ye2[45] = Be3;
ye2[46] = Be3;
ye2[95] = Be3;
ye2[72] = [Be3, Wa2];
ye2[104] = [Be3, Wa2];
ye2[87] = [Be3, Va2];
ye2[119] = [Be3, Va2];
function L1(e, t3, n4) {
  const r4 = this;
  let u5, a3;
  return i5;
  function i5(f8) {
    return !sr3(f8) || !Xa2.call(r4, r4.previous) || wr2(r4.events) ? n4(f8) : (e.enter("literalAutolink"), e.enter("literalAutolinkEmail"), o2(f8));
  }
  function o2(f8) {
    return sr3(f8) ? (e.consume(f8), o2) : f8 === 64 ? (e.consume(f8), l3) : n4(f8);
  }
  function l3(f8) {
    return f8 === 46 ? e.check(O1, h3, c6)(f8) : f8 === 45 || f8 === 95 || fe2(f8) ? (a3 = true, e.consume(f8), l3) : h3(f8);
  }
  function c6(f8) {
    return e.consume(f8), u5 = true, l3;
  }
  function h3(f8) {
    return a3 && u5 && de3(r4.previous) ? (e.exit("literalAutolinkEmail"), e.exit("literalAutolink"), t3(f8)) : n4(f8);
  }
}
function R1(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(i5) {
    return i5 !== 87 && i5 !== 119 || !Qa2.call(r4, r4.previous) || wr2(r4.events) ? n4(i5) : (e.enter("literalAutolink"), e.enter("literalAutolinkWww"), e.check(k1, e.attempt(Ya2, e.attempt(qa2, a3), n4), n4)(i5));
  }
  function a3(i5) {
    return e.exit("literalAutolinkWww"), e.exit("literalAutolink"), t3(i5);
  }
}
function D1(e, t3, n4) {
  const r4 = this;
  let u5 = "", a3 = false;
  return i5;
  function i5(f8) {
    return (f8 === 72 || f8 === 104) && Ga2.call(r4, r4.previous) && !wr2(r4.events) ? (e.enter("literalAutolink"), e.enter("literalAutolinkHttp"), u5 += String.fromCodePoint(f8), e.consume(f8), o2) : n4(f8);
  }
  function o2(f8) {
    if (de3(f8) && u5.length < 5)
      return u5 += String.fromCodePoint(f8), e.consume(f8), o2;
    if (f8 === 58) {
      const p3 = u5.toLowerCase();
      if (p3 === "http" || p3 === "https")
        return e.consume(f8), l3;
    }
    return n4(f8);
  }
  function l3(f8) {
    return f8 === 47 ? (e.consume(f8), a3 ? c6 : (a3 = true, l3)) : n4(f8);
  }
  function c6(f8) {
    return f8 === null || on2(f8) || J5(f8) || tt2(f8) || bn2(f8) ? n4(f8) : e.attempt(Ya2, e.attempt(qa2, h3), n4)(f8);
  }
  function h3(f8) {
    return e.exit("literalAutolinkHttp"), e.exit("literalAutolink"), t3(f8);
  }
}
function P1(e, t3, n4) {
  let r4 = 0;
  return u5;
  function u5(i5) {
    return (i5 === 87 || i5 === 119) && r4 < 3 ? (r4++, e.consume(i5), u5) : i5 === 46 && r4 === 3 ? (e.consume(i5), a3) : n4(i5);
  }
  function a3(i5) {
    return i5 === null ? n4(i5) : t3(i5);
  }
}
function w1(e, t3, n4) {
  let r4, u5, a3;
  return i5;
  function i5(c6) {
    return c6 === 46 || c6 === 95 ? e.check(ja2, l3, o2)(c6) : c6 === null || J5(c6) || tt2(c6) || c6 !== 45 && bn2(c6) ? l3(c6) : (a3 = true, e.consume(c6), i5);
  }
  function o2(c6) {
    return c6 === 95 ? r4 = true : (u5 = r4, r4 = void 0), e.consume(c6), i5;
  }
  function l3(c6) {
    return u5 || r4 || !a3 ? n4(c6) : t3(c6);
  }
}
function M1(e, t3) {
  let n4 = 0, r4 = 0;
  return u5;
  function u5(i5) {
    return i5 === 40 ? (n4++, e.consume(i5), u5) : i5 === 41 && r4 < n4 ? a3(i5) : i5 === 33 || i5 === 34 || i5 === 38 || i5 === 39 || i5 === 41 || i5 === 42 || i5 === 44 || i5 === 46 || i5 === 58 || i5 === 59 || i5 === 60 || i5 === 63 || i5 === 93 || i5 === 95 || i5 === 126 ? e.check(ja2, t3, a3)(i5) : i5 === null || J5(i5) || tt2(i5) ? t3(i5) : (e.consume(i5), u5);
  }
  function a3(i5) {
    return i5 === 41 && r4++, e.consume(i5), u5;
  }
}
function B1(e, t3, n4) {
  return r4;
  function r4(o2) {
    return o2 === 33 || o2 === 34 || o2 === 39 || o2 === 41 || o2 === 42 || o2 === 44 || o2 === 46 || o2 === 58 || o2 === 59 || o2 === 63 || o2 === 95 || o2 === 126 ? (e.consume(o2), r4) : o2 === 38 ? (e.consume(o2), a3) : o2 === 93 ? (e.consume(o2), u5) : (
      // `<` is an end.
      o2 === 60 || // So is whitespace.
      o2 === null || J5(o2) || tt2(o2) ? t3(o2) : n4(o2)
    );
  }
  function u5(o2) {
    return o2 === null || o2 === 40 || o2 === 91 || J5(o2) || tt2(o2) ? t3(o2) : r4(o2);
  }
  function a3(o2) {
    return de3(o2) ? i5(o2) : n4(o2);
  }
  function i5(o2) {
    return o2 === 59 ? (e.consume(o2), r4) : de3(o2) ? (e.consume(o2), i5) : n4(o2);
  }
}
function F1(e, t3, n4) {
  return r4;
  function r4(a3) {
    return e.consume(a3), u5;
  }
  function u5(a3) {
    return fe2(a3) ? n4(a3) : t3(a3);
  }
}
function Qa2(e) {
  return e === null || e === 40 || e === 42 || e === 95 || e === 91 || e === 93 || e === 126 || J5(e);
}
function Ga2(e) {
  return !de3(e);
}
function Xa2(e) {
  return !(e === 47 || sr3(e));
}
function sr3(e) {
  return e === 43 || e === 45 || e === 46 || e === 95 || fe2(e);
}
function wr2(e) {
  let t3 = e.length, n4 = false;
  for (; t3--; ) {
    const r4 = e[t3][1];
    if ((r4.type === "labelLink" || r4.type === "labelImage") && !r4._balanced) {
      n4 = true;
      break;
    }
    if (r4._gfmAutolinkLiteralWalkedInto) {
      n4 = false;
      break;
    }
  }
  return e.length > 0 && !n4 && (e[e.length - 1][1]._gfmAutolinkLiteralWalkedInto = true), n4;
}
function H1(e, t3, n4) {
  const r4 = [];
  let u5 = -1;
  for (; ++u5 < e.length; ) {
    const a3 = e[u5].resolveAll;
    a3 && !r4.includes(a3) && (t3 = a3(t3, n4), r4.push(a3));
  }
  return t3;
}
var U1 = {
  partial: true,
  tokenize: v1
};
function v1(e, t3, n4) {
  return r4;
  function r4(a3) {
    return j6(a3) ? W4(e, u5, "linePrefix")(a3) : u5(a3);
  }
  function u5(a3) {
    return a3 === null || H4(a3) ? t3(a3) : n4(a3);
  }
}
var z1 = {
  tokenize: X1,
  partial: true
};
function Y1() {
  return {
    document: {
      91: {
        name: "gfmFootnoteDefinition",
        tokenize: W1,
        continuation: {
          tokenize: Q1
        },
        exit: G1
      }
    },
    text: {
      91: {
        name: "gfmFootnoteCall",
        tokenize: V1
      },
      93: {
        name: "gfmPotentialFootnoteCall",
        add: "after",
        tokenize: q1,
        resolveTo: j1
      }
    }
  };
}
function q1(e, t3, n4) {
  const r4 = this;
  let u5 = r4.events.length;
  const a3 = r4.parser.gfmFootnotes || (r4.parser.gfmFootnotes = []);
  let i5;
  for (; u5--; ) {
    const l3 = r4.events[u5][1];
    if (l3.type === "labelImage") {
      i5 = l3;
      break;
    }
    if (l3.type === "gfmFootnoteCall" || l3.type === "labelLink" || l3.type === "label" || l3.type === "image" || l3.type === "link")
      break;
  }
  return o2;
  function o2(l3) {
    if (!i5 || !i5._balanced)
      return n4(l3);
    const c6 = Qt2(r4.sliceSerialize({
      start: i5.end,
      end: r4.now()
    }));
    return c6.codePointAt(0) !== 94 || !a3.includes(c6.slice(1)) ? n4(l3) : (e.enter("gfmFootnoteCallLabelMarker"), e.consume(l3), e.exit("gfmFootnoteCallLabelMarker"), t3(l3));
  }
}
function j1(e, t3) {
  let n4 = e.length;
  for (; n4--; )
    if (e[n4][1].type === "labelImage" && e[n4][0] === "enter") {
      e[n4][1];
      break;
    }
  e[n4 + 1][1].type = "data", e[n4 + 3][1].type = "gfmFootnoteCallLabelMarker";
  const r4 = {
    type: "gfmFootnoteCall",
    start: Object.assign({}, e[n4 + 3][1].start),
    end: Object.assign({}, e[e.length - 1][1].end)
  }, u5 = {
    type: "gfmFootnoteCallMarker",
    start: Object.assign({}, e[n4 + 3][1].end),
    end: Object.assign({}, e[n4 + 3][1].end)
  };
  u5.end.column++, u5.end.offset++, u5.end._bufferIndex++;
  const a3 = {
    type: "gfmFootnoteCallString",
    start: Object.assign({}, u5.end),
    end: Object.assign({}, e[e.length - 1][1].start)
  }, i5 = {
    type: "chunkString",
    contentType: "string",
    start: Object.assign({}, a3.start),
    end: Object.assign({}, a3.end)
  }, o2 = [
    // Take the `labelImageMarker` (now `data`, the `!`)
    e[n4 + 1],
    e[n4 + 2],
    ["enter", r4, t3],
    // The `[`
    e[n4 + 3],
    e[n4 + 4],
    // The `^`.
    ["enter", u5, t3],
    ["exit", u5, t3],
    // Everything in between.
    ["enter", a3, t3],
    ["enter", i5, t3],
    ["exit", i5, t3],
    ["exit", a3, t3],
    // The ending (`]`, properly parsed and labelled).
    e[e.length - 2],
    e[e.length - 1],
    ["exit", r4, t3]
  ];
  return e.splice(n4, e.length - n4 + 1, ...o2), e;
}
function V1(e, t3, n4) {
  const r4 = this, u5 = r4.parser.gfmFootnotes || (r4.parser.gfmFootnotes = []);
  let a3 = 0, i5;
  return o2;
  function o2(f8) {
    return e.enter("gfmFootnoteCall"), e.enter("gfmFootnoteCallLabelMarker"), e.consume(f8), e.exit("gfmFootnoteCallLabelMarker"), l3;
  }
  function l3(f8) {
    return f8 !== 94 ? n4(f8) : (e.enter("gfmFootnoteCallMarker"), e.consume(f8), e.exit("gfmFootnoteCallMarker"), e.enter("gfmFootnoteCallString"), e.enter("chunkString").contentType = "string", c6);
  }
  function c6(f8) {
    if (
      // Too long.
      a3 > 999 || // Closing brace with nothing.
      f8 === 93 && !i5 || // Space or tab is not supported by GFM for some reason.
      // `\n` and `[` not being supported makes sense.
      f8 === null || f8 === 91 || J5(f8)
    )
      return n4(f8);
    if (f8 === 93) {
      e.exit("chunkString");
      const p3 = e.exit("gfmFootnoteCallString");
      return u5.includes(Qt2(r4.sliceSerialize(p3))) ? (e.enter("gfmFootnoteCallLabelMarker"), e.consume(f8), e.exit("gfmFootnoteCallLabelMarker"), e.exit("gfmFootnoteCall"), t3) : n4(f8);
    }
    return J5(f8) || (i5 = true), a3++, e.consume(f8), f8 === 92 ? h3 : c6;
  }
  function h3(f8) {
    return f8 === 91 || f8 === 92 || f8 === 93 ? (e.consume(f8), a3++, c6) : c6(f8);
  }
}
function W1(e, t3, n4) {
  const r4 = this, u5 = r4.parser.gfmFootnotes || (r4.parser.gfmFootnotes = []);
  let a3, i5 = 0, o2;
  return l3;
  function l3(A3) {
    return e.enter("gfmFootnoteDefinition")._container = true, e.enter("gfmFootnoteDefinitionLabel"), e.enter("gfmFootnoteDefinitionLabelMarker"), e.consume(A3), e.exit("gfmFootnoteDefinitionLabelMarker"), c6;
  }
  function c6(A3) {
    return A3 === 94 ? (e.enter("gfmFootnoteDefinitionMarker"), e.consume(A3), e.exit("gfmFootnoteDefinitionMarker"), e.enter("gfmFootnoteDefinitionLabelString"), e.enter("chunkString").contentType = "string", h3) : n4(A3);
  }
  function h3(A3) {
    if (
      // Too long.
      i5 > 999 || // Closing brace with nothing.
      A3 === 93 && !o2 || // Space or tab is not supported by GFM for some reason.
      // `\n` and `[` not being supported makes sense.
      A3 === null || A3 === 91 || J5(A3)
    )
      return n4(A3);
    if (A3 === 93) {
      e.exit("chunkString");
      const I4 = e.exit("gfmFootnoteDefinitionLabelString");
      return a3 = Qt2(r4.sliceSerialize(I4)), e.enter("gfmFootnoteDefinitionLabelMarker"), e.consume(A3), e.exit("gfmFootnoteDefinitionLabelMarker"), e.exit("gfmFootnoteDefinitionLabel"), p3;
    }
    return J5(A3) || (o2 = true), i5++, e.consume(A3), A3 === 92 ? f8 : h3;
  }
  function f8(A3) {
    return A3 === 91 || A3 === 92 || A3 === 93 ? (e.consume(A3), i5++, h3) : h3(A3);
  }
  function p3(A3) {
    return A3 === 58 ? (e.enter("definitionMarker"), e.consume(A3), e.exit("definitionMarker"), u5.includes(a3) || u5.push(a3), W4(e, d2, "gfmFootnoteDefinitionWhitespace")) : n4(A3);
  }
  function d2(A3) {
    return t3(A3);
  }
}
function Q1(e, t3, n4) {
  return e.check(U1, t3, e.attempt(z1, t3, n4));
}
function G1(e) {
  e.exit("gfmFootnoteDefinition");
}
function X1(e, t3, n4) {
  const r4 = this;
  return W4(e, u5, "gfmFootnoteDefinitionIndent", 5);
  function u5(a3) {
    const i5 = r4.events[r4.events.length - 1];
    return i5 && i5[1].type === "gfmFootnoteDefinitionIndent" && i5[2].sliceSerialize(i5[1], true).length === 4 ? t3(a3) : n4(a3);
  }
}
function K1(e) {
  let n4 = (e || {}).singleTilde;
  const r4 = {
    name: "strikethrough",
    tokenize: a3,
    resolveAll: u5
  };
  return n4 == null && (n4 = true), {
    text: {
      126: r4
    },
    insideSpan: {
      null: [r4]
    },
    attentionMarkers: {
      null: [126]
    }
  };
  function u5(i5, o2) {
    let l3 = -1;
    for (; ++l3 < i5.length; )
      if (i5[l3][0] === "enter" && i5[l3][1].type === "strikethroughSequenceTemporary" && i5[l3][1]._close) {
        let c6 = l3;
        for (; c6--; )
          if (i5[c6][0] === "exit" && i5[c6][1].type === "strikethroughSequenceTemporary" && i5[c6][1]._open && // If the sizes are the same:
          i5[l3][1].end.offset - i5[l3][1].start.offset === i5[c6][1].end.offset - i5[c6][1].start.offset) {
            i5[l3][1].type = "strikethroughSequence", i5[c6][1].type = "strikethroughSequence";
            const h3 = {
              type: "strikethrough",
              start: Object.assign({}, i5[c6][1].start),
              end: Object.assign({}, i5[l3][1].end)
            }, f8 = {
              type: "strikethroughText",
              start: Object.assign({}, i5[c6][1].end),
              end: Object.assign({}, i5[l3][1].start)
            }, p3 = [["enter", h3, o2], ["enter", i5[c6][1], o2], ["exit", i5[c6][1], o2], ["enter", f8, o2]], d2 = o2.parser.constructs.insideSpan.null;
            d2 && sn2(p3, p3.length, 0, H1(d2, i5.slice(c6 + 1, l3), o2)), sn2(p3, p3.length, 0, [["exit", f8, o2], ["enter", i5[l3][1], o2], ["exit", i5[l3][1], o2], ["exit", h3, o2]]), sn2(i5, c6 - 1, l3 - c6 + 3, p3), l3 = c6 + p3.length - 2;
            break;
          }
      }
    for (l3 = -1; ++l3 < i5.length; )
      i5[l3][1].type === "strikethroughSequenceTemporary" && (i5[l3][1].type = "data");
    return i5;
  }
  function a3(i5, o2, l3) {
    const c6 = this.previous, h3 = this.events;
    let f8 = 0;
    return p3;
    function p3(A3) {
      return c6 === 126 && h3[h3.length - 1][1].type !== "characterEscape" ? l3(A3) : (i5.enter("strikethroughSequenceTemporary"), d2(A3));
    }
    function d2(A3) {
      const I4 = mt2(c6);
      if (A3 === 126)
        return f8 > 1 ? l3(A3) : (i5.consume(A3), f8++, d2);
      if (f8 < 2 && !n4) return l3(A3);
      const L4 = i5.exit("strikethroughSequenceTemporary"), x8 = mt2(A3);
      return L4._open = !x8 || x8 === 2 && !!I4, L4._close = !I4 || I4 === 2 && !!x8, o2(A3);
    }
  }
}
var $1 = class {
  /**
   * Create a new edit map.
   */
  constructor() {
    this.map = [];
  }
  /**
   * Create an edit: a remove and/or add at a certain place.
   *
   * @param {number} index
   * @param {number} remove
   * @param {Array<Event>} add
   * @returns {undefined}
   */
  add(t3, n4, r4) {
    J1(this, t3, n4, r4);
  }
  // To do: add this when moving to `micromark`.
  // /**
  //  * Create an edit: but insert `add` before existing additions.
  //  *
  //  * @param {number} index
  //  * @param {number} remove
  //  * @param {Array<Event>} add
  //  * @returns {undefined}
  //  */
  // addBefore(index, remove, add) {
  //   addImplementation(this, index, remove, add, true)
  // }
  /**
   * Done, change the events.
   *
   * @param {Array<Event>} events
   * @returns {undefined}
   */
  consume(t3) {
    if (this.map.sort(function(a3, i5) {
      return a3[0] - i5[0];
    }), this.map.length === 0)
      return;
    let n4 = this.map.length;
    const r4 = [];
    for (; n4 > 0; )
      n4 -= 1, r4.push(t3.slice(this.map[n4][0] + this.map[n4][1]), this.map[n4][2]), t3.length = this.map[n4][0];
    r4.push(t3.slice()), t3.length = 0;
    let u5 = r4.pop();
    for (; u5; ) {
      for (const a3 of u5)
        t3.push(a3);
      u5 = r4.pop();
    }
    this.map.length = 0;
  }
};
function J1(e, t3, n4, r4) {
  let u5 = 0;
  if (!(n4 === 0 && r4.length === 0)) {
    for (; u5 < e.map.length; ) {
      if (e.map[u5][0] === t3) {
        e.map[u5][1] += n4, e.map[u5][2].push(...r4);
        return;
      }
      u5 += 1;
    }
    e.map.push([t3, n4, r4]);
  }
}
function Z1(e, t3) {
  let n4 = false;
  const r4 = [];
  for (; t3 < e.length; ) {
    const u5 = e[t3];
    if (n4) {
      if (u5[0] === "enter")
        u5[1].type === "tableContent" && r4.push(e[t3 + 1][1].type === "tableDelimiterMarker" ? "left" : "none");
      else if (u5[1].type === "tableContent") {
        if (e[t3 - 1][1].type === "tableDelimiterMarker") {
          const a3 = r4.length - 1;
          r4[a3] = r4[a3] === "left" ? "center" : "right";
        }
      } else if (u5[1].type === "tableDelimiterRow")
        break;
    } else u5[0] === "enter" && u5[1].type === "tableDelimiterRow" && (n4 = true);
    t3 += 1;
  }
  return r4;
}
function ep() {
  return {
    flow: {
      null: {
        name: "table",
        tokenize: tp,
        resolveAll: np
      }
    }
  };
}
function tp(e, t3, n4) {
  const r4 = this;
  let u5 = 0, a3 = 0, i5;
  return o2;
  function o2(N5) {
    let B4 = r4.events.length - 1;
    for (; B4 > -1; ) {
      const ne6 = r4.events[B4][1].type;
      if (ne6 === "lineEnding" || // Note: markdown-rs uses `whitespace` instead of `linePrefix`
      ne6 === "linePrefix") B4--;
      else break;
    }
    const F4 = B4 > -1 ? r4.events[B4][1].type : null, $7 = F4 === "tableHead" || F4 === "tableRow" ? O4 : l3;
    return $7 === O4 && r4.parser.lazy[r4.now().line] ? n4(N5) : $7(N5);
  }
  function l3(N5) {
    return e.enter("tableHead"), e.enter("tableRow"), c6(N5);
  }
  function c6(N5) {
    return N5 === 124 || (i5 = true, a3 += 1), h3(N5);
  }
  function h3(N5) {
    return N5 === null ? n4(N5) : H4(N5) ? a3 > 1 ? (a3 = 0, r4.interrupt = true, e.exit("tableRow"), e.enter("lineEnding"), e.consume(N5), e.exit("lineEnding"), d2) : n4(N5) : j6(N5) ? W4(e, h3, "whitespace")(N5) : (a3 += 1, i5 && (i5 = false, u5 += 1), N5 === 124 ? (e.enter("tableCellDivider"), e.consume(N5), e.exit("tableCellDivider"), i5 = true, h3) : (e.enter("data"), f8(N5)));
  }
  function f8(N5) {
    return N5 === null || N5 === 124 || J5(N5) ? (e.exit("data"), h3(N5)) : (e.consume(N5), N5 === 92 ? p3 : f8);
  }
  function p3(N5) {
    return N5 === 92 || N5 === 124 ? (e.consume(N5), f8) : f8(N5);
  }
  function d2(N5) {
    return r4.interrupt = false, r4.parser.lazy[r4.now().line] ? n4(N5) : (e.enter("tableDelimiterRow"), i5 = false, j6(N5) ? W4(e, A3, "linePrefix", r4.parser.constructs.disable.null.includes("codeIndented") ? void 0 : 4)(N5) : A3(N5));
  }
  function A3(N5) {
    return N5 === 45 || N5 === 58 ? L4(N5) : N5 === 124 ? (i5 = true, e.enter("tableCellDivider"), e.consume(N5), e.exit("tableCellDivider"), I4) : Y5(N5);
  }
  function I4(N5) {
    return j6(N5) ? W4(e, L4, "whitespace")(N5) : L4(N5);
  }
  function L4(N5) {
    return N5 === 58 ? (a3 += 1, i5 = true, e.enter("tableDelimiterMarker"), e.consume(N5), e.exit("tableDelimiterMarker"), x8) : N5 === 45 ? (a3 += 1, x8(N5)) : N5 === null || H4(N5) ? z4(N5) : Y5(N5);
  }
  function x8(N5) {
    return N5 === 45 ? (e.enter("tableDelimiterFiller"), w6(N5)) : Y5(N5);
  }
  function w6(N5) {
    return N5 === 45 ? (e.consume(N5), w6) : N5 === 58 ? (i5 = true, e.exit("tableDelimiterFiller"), e.enter("tableDelimiterMarker"), e.consume(N5), e.exit("tableDelimiterMarker"), D3) : (e.exit("tableDelimiterFiller"), D3(N5));
  }
  function D3(N5) {
    return j6(N5) ? W4(e, z4, "whitespace")(N5) : z4(N5);
  }
  function z4(N5) {
    return N5 === 124 ? A3(N5) : N5 === null || H4(N5) ? !i5 || u5 !== a3 ? Y5(N5) : (e.exit("tableDelimiterRow"), e.exit("tableHead"), t3(N5)) : Y5(N5);
  }
  function Y5(N5) {
    return n4(N5);
  }
  function O4(N5) {
    return e.enter("tableRow"), Q6(N5);
  }
  function Q6(N5) {
    return N5 === 124 ? (e.enter("tableCellDivider"), e.consume(N5), e.exit("tableCellDivider"), Q6) : N5 === null || H4(N5) ? (e.exit("tableRow"), t3(N5)) : j6(N5) ? W4(e, Q6, "whitespace")(N5) : (e.enter("data"), ee3(N5));
  }
  function ee3(N5) {
    return N5 === null || N5 === 124 || J5(N5) ? (e.exit("data"), Q6(N5)) : (e.consume(N5), N5 === 92 ? X6 : ee3);
  }
  function X6(N5) {
    return N5 === 92 || N5 === 124 ? (e.consume(N5), ee3) : ee3(N5);
  }
}
function np(e, t3) {
  let n4 = -1, r4 = true, u5 = 0, a3 = [0, 0, 0, 0], i5 = [0, 0, 0, 0], o2 = false, l3 = 0, c6, h3, f8;
  const p3 = new $1();
  for (; ++n4 < e.length; ) {
    const d2 = e[n4], A3 = d2[1];
    d2[0] === "enter" ? A3.type === "tableHead" ? (o2 = false, l3 !== 0 && (Qu2(p3, t3, l3, c6, h3), h3 = void 0, l3 = 0), c6 = {
      type: "table",
      start: Object.assign({}, A3.start),
      // Note: correct end is set later.
      end: Object.assign({}, A3.end)
    }, p3.add(n4, 0, [["enter", c6, t3]])) : A3.type === "tableRow" || A3.type === "tableDelimiterRow" ? (r4 = true, f8 = void 0, a3 = [0, 0, 0, 0], i5 = [0, n4 + 1, 0, 0], o2 && (o2 = false, h3 = {
      type: "tableBody",
      start: Object.assign({}, A3.start),
      // Note: correct end is set later.
      end: Object.assign({}, A3.end)
    }, p3.add(n4, 0, [["enter", h3, t3]])), u5 = A3.type === "tableDelimiterRow" ? 2 : h3 ? 3 : 1) : u5 && (A3.type === "data" || A3.type === "tableDelimiterMarker" || A3.type === "tableDelimiterFiller") ? (r4 = false, i5[2] === 0 && (a3[1] !== 0 && (i5[0] = i5[1], f8 = Zt2(p3, t3, a3, u5, void 0, f8), a3 = [0, 0, 0, 0]), i5[2] = n4)) : A3.type === "tableCellDivider" && (r4 ? r4 = false : (a3[1] !== 0 && (i5[0] = i5[1], f8 = Zt2(p3, t3, a3, u5, void 0, f8)), a3 = i5, i5 = [a3[1], n4, 0, 0])) : A3.type === "tableHead" ? (o2 = true, l3 = n4) : A3.type === "tableRow" || A3.type === "tableDelimiterRow" ? (l3 = n4, a3[1] !== 0 ? (i5[0] = i5[1], f8 = Zt2(p3, t3, a3, u5, n4, f8)) : i5[1] !== 0 && (f8 = Zt2(p3, t3, i5, u5, n4, f8)), u5 = 0) : u5 && (A3.type === "data" || A3.type === "tableDelimiterMarker" || A3.type === "tableDelimiterFiller") && (i5[3] = n4);
  }
  for (l3 !== 0 && Qu2(p3, t3, l3, c6, h3), p3.consume(t3.events), n4 = -1; ++n4 < t3.events.length; ) {
    const d2 = t3.events[n4];
    d2[0] === "enter" && d2[1].type === "table" && (d2[1]._align = Z1(t3.events, n4));
  }
  return e;
}
function Zt2(e, t3, n4, r4, u5, a3) {
  const i5 = r4 === 1 ? "tableHeader" : r4 === 2 ? "tableDelimiter" : "tableData", o2 = "tableContent";
  n4[0] !== 0 && (a3.end = Object.assign({}, lt2(t3.events, n4[0])), e.add(n4[0], 0, [["exit", a3, t3]]));
  const l3 = lt2(t3.events, n4[1]);
  if (a3 = {
    type: i5,
    start: Object.assign({}, l3),
    // Note: correct end is set later.
    end: Object.assign({}, l3)
  }, e.add(n4[1], 0, [["enter", a3, t3]]), n4[2] !== 0) {
    const c6 = lt2(t3.events, n4[2]), h3 = lt2(t3.events, n4[3]), f8 = {
      type: o2,
      start: Object.assign({}, c6),
      end: Object.assign({}, h3)
    };
    if (e.add(n4[2], 0, [["enter", f8, t3]]), r4 !== 2) {
      const p3 = t3.events[n4[2]], d2 = t3.events[n4[3]];
      if (p3[1].end = Object.assign({}, d2[1].end), p3[1].type = "chunkText", p3[1].contentType = "text", n4[3] > n4[2] + 1) {
        const A3 = n4[2] + 1, I4 = n4[3] - n4[2] - 1;
        e.add(A3, I4, []);
      }
    }
    e.add(n4[3] + 1, 0, [["exit", f8, t3]]);
  }
  return u5 !== void 0 && (a3.end = Object.assign({}, lt2(t3.events, u5)), e.add(u5, 0, [["exit", a3, t3]]), a3 = void 0), a3;
}
function Qu2(e, t3, n4, r4, u5) {
  const a3 = [], i5 = lt2(t3.events, n4);
  u5 && (u5.end = Object.assign({}, i5), a3.push(["exit", u5, t3])), r4.end = Object.assign({}, i5), a3.push(["exit", r4, t3]), e.add(n4 + 1, 0, a3);
}
function lt2(e, t3) {
  const n4 = e[t3], r4 = n4[0] === "enter" ? "start" : "end";
  return n4[1][r4];
}
var rp = {
  name: "tasklistCheck",
  tokenize: ip
};
function up() {
  return {
    text: {
      91: rp
    }
  };
}
function ip(e, t3, n4) {
  const r4 = this;
  return u5;
  function u5(l3) {
    return (
      // Exit if theres stuff before.
      r4.previous !== null || // Exit if not in the first content that is the first child of a list
      // item.
      !r4._gfmTasklistFirstContentOfListItem ? n4(l3) : (e.enter("taskListCheck"), e.enter("taskListCheckMarker"), e.consume(l3), e.exit("taskListCheckMarker"), a3)
    );
  }
  function a3(l3) {
    return J5(l3) ? (e.enter("taskListCheckValueUnchecked"), e.consume(l3), e.exit("taskListCheckValueUnchecked"), i5) : l3 === 88 || l3 === 120 ? (e.enter("taskListCheckValueChecked"), e.consume(l3), e.exit("taskListCheckValueChecked"), i5) : n4(l3);
  }
  function i5(l3) {
    return l3 === 93 ? (e.enter("taskListCheckMarker"), e.consume(l3), e.exit("taskListCheckMarker"), e.exit("taskListCheck"), o2) : n4(l3);
  }
  function o2(l3) {
    return H4(l3) ? t3(l3) : j6(l3) ? e.check({
      tokenize: ap
    }, t3, n4)(l3) : n4(l3);
  }
}
function ap(e, t3, n4) {
  return W4(e, r4, "whitespace");
  function r4(u5) {
    return u5 === null ? n4(u5) : t3(u5);
  }
}
function sp(e) {
  return x1([
    y1(),
    Y1(),
    K1(e),
    ep(),
    up()
  ]);
}
var op = {};
function lp(e) {
  const t3 = (
    /** @type {Processor<Root>} */
    this
  ), n4 = e || op, r4 = t3.data(), u5 = r4.micromarkExtensions || (r4.micromarkExtensions = []), a3 = r4.fromMarkdownExtensions || (r4.fromMarkdownExtensions = []), i5 = r4.toMarkdownExtensions || (r4.toMarkdownExtensions = []);
  u5.push(sp(n4)), a3.push(C1()), i5.push(I1(n4));
}
var cp = ({
  children: e,
  title: t3 = "Code",
  language: n4,
  showCopy: r4 = "hover",
  showLanguageIndicator: u5 = false,
  showLineNumbers: a3,
  ...i5
}) => {
  const [o2, l3] = C2(), c6 = (0, import_react6.useRef)(null);
  return e ? ae.jsxs(
    "div",
    {
      className: mo(
        "border code-block-wrapper relative group bg-muted/50 rounded-md overflow-hidden",
        a3 && "line-numbers"
      ),
      children: [
        ae.jsxs("div", { className: "border-b flex items-center h-10 font-sans bg-black/2", children: [
          ae.jsxs("div", { className: "flex-1 text-sm w-full px-4", children: [
            t3,
            u5 && n4 && ae.jsxs("span", { className: "text-muted-foreground ml-2", children: [
              "(",
              n4,
              ")"
            ] })
          ] }),
          " ",
          r4 !== "never" && ae.jsx(
            "button",
            {
              type: "button",
              "aria-label": "Copy code",
              title: "Copy code",
              className: mo(
                "cursor:pointer h-full hover:border-l-border active:shadow-none active:inset-shadow-xs hover:inset-shadow-xs flex items-center gap-2 px-4 outline-border text-sm hover:bg-black/5 transition-all"
              ),
              disabled: o2,
              onClick: () => {
                c6.current?.textContent && l3(c6.current.textContent);
              },
              children: o2 ? ae.jsx(
                Check,
                {
                  className: "text-emerald-600",
                  size: 14,
                  strokeWidth: 2.5,
                  absoluteStrokeWidth: true
                }
              ) : ae.jsx(Copy, { size: 14 })
            }
          )
        ] }),
        ae.jsx(
          "div",
          {
            className: mo(
              "code-block text-sm not-prose scrollbar overflow-x-auto scrollbar p-4",
              i5.className
            ),
            ref: c6,
            children: e
          }
        )
      ]
    }
  ) : null;
};
var Ka2 = (0, import_react6.createContext)({
  activeAnchor: "",
  setActiveAnchor: () => {
  },
  observe: () => {
  },
  unobserve: () => {
  }
});
var Mr2 = () => (0, import_react6.use)(Ka2);
var fp = () => {
  const e = (0, import_react6.useRef)(null), { observe: t3, unobserve: n4 } = Mr2();
  return (0, import_react6.useEffect)(() => {
    const u5 = e.current;
    if (u5)
      return t3(u5), () => n4(u5);
  }, [t3, n4]), { ref: (0, import_react6.useCallback)((u5) => {
    u5 && (e.current = u5);
  }, []) };
};
var PE = ({ children: e }) => {
  const [t3, n4] = (0, import_react6.useState)(""), r4 = (0, import_react6.useRef)(null), u5 = (0, import_react6.useRef)(/* @__PURE__ */ new Set()), a3 = (0, import_react6.useRef)(/* @__PURE__ */ new Set());
  (0, import_react6.useEffect)(() => (r4.current = new IntersectionObserver(
    (l3) => {
      for (const c6 of l3)
        c6.isIntersecting && c6.target.id && n4(c6.target.id);
    },
    {
      rootMargin: "0px 0px -80% 0px",
      threshold: 0.75
    }
  ), a3.current.forEach((l3) => {
    u5.current.add(l3), r4.current?.observe(l3);
  }), a3.current.clear(), () => r4.current?.disconnect()), []), (0, import_react6.useEffect)(() => {
    const l3 = u5.current, c6 = () => {
      const h3 = window.scrollY === 0, f8 = window.innerHeight + window.scrollY >= document.body.scrollHeight;
      if (h3)
        n4("");
      else if (f8) {
        const d2 = Array.from(l3).pop()?.id ?? "";
        n4(d2);
      }
    };
    return document.addEventListener("scroll", c6), () => {
      l3.clear(), document.removeEventListener("scroll", c6);
    };
  }, []);
  const i5 = (0, import_react6.useMemo)(() => ({
    observe: (l3) => {
      if (l3) {
        if (!r4.current) {
          a3.current.add(l3);
          return;
        }
        u5.current.add(l3), r4.current.observe(l3);
      }
    },
    unobserve: (l3) => {
      l3 && (a3.current.delete(l3), u5.current.delete(l3), r4.current?.unobserve(l3));
    }
  }), []), o2 = (0, import_react6.useMemo)(
    () => ({ activeAnchor: t3, setActiveAnchor: n4, ...i5 }),
    [t3, n4, i5]
  );
  return ae.jsx(Ka2, { value: o2, children: e });
};
var hp = Provider;
var dp = Root3;
var mp = Trigger2;
var pp = (e) => ae.jsx(
  Arrow2,
  {
    ...e,
    className: mo(e.className, "fill-border")
  }
);
var $a2 = Ms2.forwardRef(({ className: e, sideOffset: t3 = 4, ...n4 }, r4) => ae.jsx(
  Content22,
  {
    ref: r4,
    sideOffset: t3,
    className: mo(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      e
    ),
    ...n4
  }
));
$a2.displayName = Content22.displayName;
var Ep = {
  green: "bg-green-400 dark:bg-green-800",
  blue: "bg-sky-400 dark:bg-sky-800",
  yellow: "bg-yellow-400 dark:bg-yellow-800",
  red: "bg-red-400 dark:bg-red-800",
  purple: "bg-purple-400 dark:bg-purple-600",
  indigo: "bg-indigo-400 dark:bg-indigo-600",
  gray: "bg-gray-400 dark:bg-gray-600",
  outline: "border border-border rounded-md text-foreground"
};
var Tp = {
  green: "text-green-500 dark:text-green-600",
  blue: "text-sky-400 dark:text-sky-600",
  yellow: "text-yellow-400 dark:text-yellow-600",
  red: "text-red-400 dark:text-red-600",
  purple: "text-purple-400 dark:text-purple-600",
  indigo: "text-indigo-400 dark:text-indigo-600",
  gray: "text-gray-400 dark:text-gray-600",
  outline: ""
};
var Gu2 = ({
  color: e,
  label: t3,
  className: n4,
  invert: r4
}) => ae.jsx(
  "span",
  {
    className: mo(
      "flex items-center duration-200 transition-opacity text-center uppercase text-[0.65rem] leading-5 font-bold rounded-sm text-background dark:text-zinc-50 h-full",
      e === "outline" ? "px-3" : "mt-0.5 px-1",
      r4 ? Tp[e] : Ep[e],
      n4
    ),
    children: t3
  }
);
var gp = Object.getOwnPropertyNames;
var bp = Object.getOwnPropertySymbols;
var Ap = Object.prototype.hasOwnProperty;
function Xu2(e, t3) {
  return function(r4, u5, a3) {
    return e(r4, u5, a3) && t3(r4, u5, a3);
  };
}
function en2(e) {
  return function(n4, r4, u5) {
    if (!n4 || !r4 || typeof n4 != "object" || typeof r4 != "object")
      return e(n4, r4, u5);
    var a3 = u5.cache, i5 = a3.get(n4), o2 = a3.get(r4);
    if (i5 && o2)
      return i5 === r4 && o2 === n4;
    a3.set(n4, r4), a3.set(r4, n4);
    var l3 = e(n4, r4, u5);
    return a3.delete(n4), a3.delete(r4), l3;
  };
}
function Ku2(e) {
  return gp(e).concat(bp(e));
}
var _p = Object.hasOwn || function(e, t3) {
  return Ap.call(e, t3);
};
function ut2(e, t3) {
  return e === t3 || !e && !t3 && e !== e && t3 !== t3;
}
var Cp = "__v";
var Ip = "__o";
var xp = "_owner";
var $u2 = Object.getOwnPropertyDescriptor;
var Ju2 = Object.keys;
function Np(e, t3, n4) {
  var r4 = e.length;
  if (t3.length !== r4)
    return false;
  for (; r4-- > 0; )
    if (!n4.equals(e[r4], t3[r4], r4, r4, e, t3, n4))
      return false;
  return true;
}
function Sp(e, t3) {
  return ut2(e.getTime(), t3.getTime());
}
function kp(e, t3) {
  return e.name === t3.name && e.message === t3.message && e.cause === t3.cause && e.stack === t3.stack;
}
function Op(e, t3) {
  return e === t3;
}
function Zu2(e, t3, n4) {
  var r4 = e.size;
  if (r4 !== t3.size)
    return false;
  if (!r4)
    return true;
  for (var u5 = new Array(r4), a3 = e.entries(), i5, o2, l3 = 0; (i5 = a3.next()) && !i5.done; ) {
    for (var c6 = t3.entries(), h3 = false, f8 = 0; (o2 = c6.next()) && !o2.done; ) {
      if (u5[f8]) {
        f8++;
        continue;
      }
      var p3 = i5.value, d2 = o2.value;
      if (n4.equals(p3[0], d2[0], l3, f8, e, t3, n4) && n4.equals(p3[1], d2[1], p3[0], d2[0], e, t3, n4)) {
        h3 = u5[f8] = true;
        break;
      }
      f8++;
    }
    if (!h3)
      return false;
    l3++;
  }
  return true;
}
var yp = ut2;
function Lp(e, t3, n4) {
  var r4 = Ju2(e), u5 = r4.length;
  if (Ju2(t3).length !== u5)
    return false;
  for (; u5-- > 0; )
    if (!Ja2(e, t3, n4, r4[u5]))
      return false;
  return true;
}
function yt2(e, t3, n4) {
  var r4 = Ku2(e), u5 = r4.length;
  if (Ku2(t3).length !== u5)
    return false;
  for (var a3, i5, o2; u5-- > 0; )
    if (a3 = r4[u5], !Ja2(e, t3, n4, a3) || (i5 = $u2(e, a3), o2 = $u2(t3, a3), (i5 || o2) && (!i5 || !o2 || i5.configurable !== o2.configurable || i5.enumerable !== o2.enumerable || i5.writable !== o2.writable)))
      return false;
  return true;
}
function Rp(e, t3) {
  return ut2(e.valueOf(), t3.valueOf());
}
function Dp(e, t3) {
  return e.source === t3.source && e.flags === t3.flags;
}
function ei2(e, t3, n4) {
  var r4 = e.size;
  if (r4 !== t3.size)
    return false;
  if (!r4)
    return true;
  for (var u5 = new Array(r4), a3 = e.values(), i5, o2; (i5 = a3.next()) && !i5.done; ) {
    for (var l3 = t3.values(), c6 = false, h3 = 0; (o2 = l3.next()) && !o2.done; ) {
      if (!u5[h3] && n4.equals(i5.value, o2.value, i5.value, o2.value, e, t3, n4)) {
        c6 = u5[h3] = true;
        break;
      }
      h3++;
    }
    if (!c6)
      return false;
  }
  return true;
}
function Pp(e, t3) {
  var n4 = e.length;
  if (t3.length !== n4)
    return false;
  for (; n4-- > 0; )
    if (e[n4] !== t3[n4])
      return false;
  return true;
}
function wp(e, t3) {
  return e.hostname === t3.hostname && e.pathname === t3.pathname && e.protocol === t3.protocol && e.port === t3.port && e.hash === t3.hash && e.username === t3.username && e.password === t3.password;
}
function Ja2(e, t3, n4, r4) {
  return (r4 === xp || r4 === Ip || r4 === Cp) && (e.$$typeof || t3.$$typeof) ? true : _p(t3, r4) && n4.equals(e[r4], t3[r4], r4, r4, e, t3, n4);
}
var Mp = "[object Arguments]";
var Bp = "[object Boolean]";
var Fp = "[object Date]";
var Hp = "[object Error]";
var Up = "[object Map]";
var vp = "[object Number]";
var zp = "[object Object]";
var Yp = "[object RegExp]";
var qp = "[object Set]";
var jp = "[object String]";
var Vp = "[object URL]";
var Wp = Array.isArray;
var ti2 = typeof ArrayBuffer == "function" && ArrayBuffer.isView ? ArrayBuffer.isView : null;
var ni2 = Object.assign;
var Qp = Object.prototype.toString.call.bind(Object.prototype.toString);
function Gp(e) {
  var t3 = e.areArraysEqual, n4 = e.areDatesEqual, r4 = e.areErrorsEqual, u5 = e.areFunctionsEqual, a3 = e.areMapsEqual, i5 = e.areNumbersEqual, o2 = e.areObjectsEqual, l3 = e.arePrimitiveWrappersEqual, c6 = e.areRegExpsEqual, h3 = e.areSetsEqual, f8 = e.areTypedArraysEqual, p3 = e.areUrlsEqual;
  return function(A3, I4, L4) {
    if (A3 === I4)
      return true;
    if (A3 == null || I4 == null)
      return false;
    var x8 = typeof A3;
    if (x8 !== typeof I4)
      return false;
    if (x8 !== "object")
      return x8 === "number" ? i5(A3, I4, L4) : x8 === "function" ? u5(A3, I4, L4) : false;
    var w6 = A3.constructor;
    if (w6 !== I4.constructor)
      return false;
    if (w6 === Object)
      return o2(A3, I4, L4);
    if (Wp(A3))
      return t3(A3, I4, L4);
    if (ti2 != null && ti2(A3))
      return f8(A3, I4, L4);
    if (w6 === Date)
      return n4(A3, I4, L4);
    if (w6 === RegExp)
      return c6(A3, I4, L4);
    if (w6 === Map)
      return a3(A3, I4, L4);
    if (w6 === Set)
      return h3(A3, I4, L4);
    var D3 = Qp(A3);
    return D3 === Fp ? n4(A3, I4, L4) : D3 === Yp ? c6(A3, I4, L4) : D3 === Up ? a3(A3, I4, L4) : D3 === qp ? h3(A3, I4, L4) : D3 === zp ? typeof A3.then != "function" && typeof I4.then != "function" && o2(A3, I4, L4) : D3 === Vp ? p3(A3, I4, L4) : D3 === Hp ? r4(A3, I4, L4) : D3 === Mp ? o2(A3, I4, L4) : D3 === Bp || D3 === vp || D3 === jp ? l3(A3, I4, L4) : false;
  };
}
function Xp(e) {
  var t3 = e.circular, n4 = e.createCustomConfig, r4 = e.strict, u5 = {
    areArraysEqual: r4 ? yt2 : Np,
    areDatesEqual: Sp,
    areErrorsEqual: kp,
    areFunctionsEqual: Op,
    areMapsEqual: r4 ? Xu2(Zu2, yt2) : Zu2,
    areNumbersEqual: yp,
    areObjectsEqual: r4 ? yt2 : Lp,
    arePrimitiveWrappersEqual: Rp,
    areRegExpsEqual: Dp,
    areSetsEqual: r4 ? Xu2(ei2, yt2) : ei2,
    areTypedArraysEqual: r4 ? yt2 : Pp,
    areUrlsEqual: wp
  };
  if (n4 && (u5 = ni2({}, u5, n4(u5))), t3) {
    var a3 = en2(u5.areArraysEqual), i5 = en2(u5.areMapsEqual), o2 = en2(u5.areObjectsEqual), l3 = en2(u5.areSetsEqual);
    u5 = ni2({}, u5, {
      areArraysEqual: a3,
      areMapsEqual: i5,
      areObjectsEqual: o2,
      areSetsEqual: l3
    });
  }
  return u5;
}
function Kp(e) {
  return function(t3, n4, r4, u5, a3, i5, o2) {
    return e(t3, n4, o2);
  };
}
function $p(e) {
  var t3 = e.circular, n4 = e.comparator, r4 = e.createState, u5 = e.equals, a3 = e.strict;
  if (r4)
    return function(l3, c6) {
      var h3 = r4(), f8 = h3.cache, p3 = f8 === void 0 ? t3 ? /* @__PURE__ */ new WeakMap() : void 0 : f8, d2 = h3.meta;
      return n4(l3, c6, {
        cache: p3,
        equals: u5,
        meta: d2,
        strict: a3
      });
    };
  if (t3)
    return function(l3, c6) {
      return n4(l3, c6, {
        cache: /* @__PURE__ */ new WeakMap(),
        equals: u5,
        meta: void 0,
        strict: a3
      });
    };
  var i5 = {
    cache: void 0,
    equals: u5,
    meta: void 0,
    strict: a3
  };
  return function(l3, c6) {
    return n4(l3, c6, i5);
  };
}
var Jp = Ge3();
Ge3({ strict: true });
Ge3({ circular: true });
Ge3({
  circular: true,
  strict: true
});
Ge3({
  createInternalComparator: function() {
    return ut2;
  }
});
Ge3({
  strict: true,
  createInternalComparator: function() {
    return ut2;
  }
});
Ge3({
  circular: true,
  createInternalComparator: function() {
    return ut2;
  }
});
Ge3({
  circular: true,
  createInternalComparator: function() {
    return ut2;
  },
  strict: true
});
function Ge3(e) {
  e === void 0 && (e = {});
  var t3 = e.circular, n4 = t3 === void 0 ? false : t3, r4 = e.createInternalComparator, u5 = e.createState, a3 = e.strict, i5 = a3 === void 0 ? false : a3, o2 = Xp(e), l3 = Gp(o2), c6 = r4 ? r4(l3) : Kp(l3);
  return $p({ circular: n4, comparator: l3, createState: u5, equals: c6, strict: i5 });
}
var Zp = ({
  category: e,
  onRequestClose: t3
}) => {
  const n4 = De(e), [r4, u5] = (0, import_react6.useState)(false), a3 = N(), i5 = e.collapsible ?? true, o2 = e.collapsed ?? true, l3 = !!(!i5 || !o2 || n4), [c6, h3] = (0, import_react6.useState)(l3), f8 = lr(e.link?.path ?? "");
  (0, import_react6.useEffect)(() => {
    n4 && h3(true);
  }, [n4]);
  const p3 = i5 && ae.jsx(
    g3,
    {
      onClick: (I4) => {
        I4.preventDefault(), h3((L4) => !L4), u5(true);
      },
      variant: "ghost",
      size: "icon",
      className: "size-6 hover:bg-[hsl(from_hsl(var(--accent))_h_s_calc(l-5))] hover:dark:bg-[hsl(from_hsl(var(--accent))_h_s_calc(l+5))]",
      children: ae.jsx(
        ChevronRight,
        {
          size: 16,
          className: mo(
            r4 && "transition",
            "shrink-0 group-data-[state=open]:rotate-90 rtl:rotate-180"
          )
        }
      )
    }
  ), d2 = e.icon && ae.jsx(
    e.icon,
    {
      size: 16,
      className: mo("align-[-0.125em] ", f8 && "text-primary")
    }
  ), A3 = ke({
    className: [
      "group text-start font-medium",
      i5 || typeof e.link < "u" ? "cursor-pointer" : "cursor-default hover:bg-transparent"
    ]
  });
  return ae.jsxs(
    Root5,
    {
      className: "flex flex-col",
      defaultOpen: l3,
      open: c6,
      onOpenChange: () => h3(true),
      children: [
        ae.jsx(Trigger3, { className: "group", asChild: true, disabled: !i5, children: e.link?.type === "doc" ? ae.jsxs(
          Bt,
          {
            to: {
              pathname: F(e.link.path),
              search: a3.search
            },
            className: A3,
            onClick: () => {
              u5(true), f8 && !c6 && h3(true);
            },
            children: [
              d2,
              ae.jsxs("div", { className: "flex items-center gap-2 justify-between w-full text-foreground/80 group-aria-[current='page']:text-primary", children: [
                ae.jsx("div", { className: "truncate", children: e.label }),
                p3
              ] })
            ]
          }
        ) : ae.jsxs("div", { onClick: () => u5(true), className: A3, children: [
          d2,
          ae.jsxs("div", { className: "flex items-center justify-between w-full", children: [
            ae.jsx("div", { className: "flex gap-2 truncate w-full", children: e.label }),
            p3
          ] })
        ] }) }),
        ae.jsx(
          Content3,
          {
            className: mo(
              // CollapsibleContent class is used to animate and it should only be applied when the user has triggered the toggle
              r4 && "CollapsibleContent",
              e.items.length === 0 && "hidden",
              "ms-6 my-1"
            ),
            children: ae.jsx("ul", { className: "relative after:absolute after:-start-(--padding-nav-item) after:translate-x-[1.5px] after:top-0 after:bottom-0 after:w-px after:bg-border", children: e.items.map((I4) => ae.jsx(
              eE,
              {
                onRequestClose: t3,
                item: I4
              },
              I4.type + (I4.label ?? "") + ("path" in I4 ? I4.path : "") + ("file" in I4 ? I4.file : "") + ("to" in I4 ? I4.to : "")
            )) })
          }
        )
      ]
    }
  );
};
var Za2 = (0, import_react6.memo)(Zp, Jp);
Za2.displayName = "NavigationCategory";
var ri2 = ({
  label: e,
  className: t3
}) => {
  const n4 = (0, import_react6.useRef)(null), [r4, u5] = (0, import_react6.useState)(false);
  return (0, import_react6.useEffect)(() => {
    n4.current && n4.current.offsetWidth < n4.current.scrollWidth && u5(true);
  }, []), ae.jsxs(ae.Fragment, { children: [
    ae.jsx(
      "span",
      {
        className: mo("truncate flex-1", t3),
        title: e,
        ref: n4,
        children: e
      }
    ),
    r4 && ae.jsx(hp, { delayDuration: 500, children: ae.jsxs(dp, { disableHoverableContent: true, children: [
      ae.jsx(mp, { className: "absolute inset-0 z-10" }),
      ae.jsxs(
        $a2,
        {
          className: "max-w-64 rounded-lg",
          side: "bottom",
          align: "center",
          children: [
            ae.jsx(pp, {}),
            e
          ]
        }
      )
    ] }) })
  ] });
};
var es2 = "data-anchor";
var eE = ({
  item: e,
  onRequestClose: t3
}) => {
  const n4 = N(), { activeAnchor: r4 } = Mr2();
  switch (e.type) {
    case "category":
      return ae.jsx(Za2, { category: e, onRequestClose: t3 });
    case "doc":
      return ae.jsxs(
        Bt,
        {
          viewTransition: true,
          className: ({ isActive: u5, isPending: a3 }) => ke({ isActive: u5, isPending: a3 }),
          to: F(e.path),
          onClick: t3,
          end: true,
          children: [
            e.icon && ae.jsx(e.icon, { size: 16, className: "align-[-0.125em]" }),
            e.badge ? ae.jsxs(ae.Fragment, { children: [
              e.label && ae.jsx(ri2, { label: e.label, className: "flex-1" }),
              ae.jsx(Gu2, { ...e.badge })
            ] }) : e.label
          ]
        }
      );
    case "link":
    case "custom-page": {
      const u5 = e.type === "link" ? e.to : e.path;
      return u5.startsWith("http") ? ae.jsxs(
        "a",
        {
          className: ke(),
          href: u5,
          target: "_blank",
          rel: "noopener noreferrer",
          onClick: t3,
          children: [
            e.icon && ae.jsx(e.icon, { size: 16, className: "align-[-0.125em]" }),
            ae.jsx("span", { className: "whitespace-normal", children: e.label }),
            ae.jsx("span", { className: "whitespace-nowrap", children: ae.jsx(ExternalLink, { className: "inline -translate-y-0.5", size: 12 }) })
          ]
        }
      ) : ae.jsxs(
        ns2,
        {
          to: {
            pathname: u5.split("#")[0],
            hash: u5.split("#")[1],
            search: n4.search
          },
          [es2]: u5.split("#")[1],
          className: ke({
            isActive: u5 === [n4.pathname, r4].join("#")
          }),
          onClick: t3,
          children: [
            e.icon && ae.jsx(e.icon, { size: 16, className: "align-[-0.125em]" }),
            e.badge ? ae.jsxs(ae.Fragment, { children: [
              e.label && ae.jsx(ri2, { label: e.label }),
              ae.jsx(Gu2, { ...e.badge })
            ] }) : ae.jsx("span", { className: "break-all", children: e.label })
          ]
        }
      );
    }
  }
};
var tE = (e, t3 = { block: "center" }) => {
  if (!e) return;
  const n4 = e.getBoundingClientRect();
  n4.top >= 0 && n4.left >= 0 && n4.bottom <= (window.innerHeight || document.documentElement.clientHeight) && n4.right <= (window.innerWidth || document.documentElement.clientWidth) || e.scrollIntoView(t3);
};
var ts2 = () => {
  const { setActiveAnchor: e } = Mr2();
  return (0, import_react6.useCallback)(
    (n4) => {
      const r4 = n4.replace(/^#/, ""), u5 = r4.split("/").at(0), a3 = document.getElementById(decodeURIComponent(r4)), i5 = document.querySelector(
        `[${es2}="${u5}"]`
      );
      return a3 ? (a3.scrollIntoView(), tE(i5), requestIdleCallback(() => e(u5)), true) : false;
    },
    [e]
  );
};
var wE = () => {
  const e = N(), t3 = ts2(), n4 = (0, import_react6.useRef)(false);
  (0, import_react6.useEffect)(() => {
    !e.hash || !n4.current || t3(e.hash);
  }, [e.hash, t3]), (0, import_react6.useEffect)(() => {
    if (!e.hash) {
      n4.current = true;
      return;
    }
    const r4 = new MutationObserver((u5, a3) => {
      t3(e.hash) && (n4.current = true, a3.disconnect());
    });
    return r4.observe(document.body, { childList: true, subtree: true }), () => r4.disconnect();
  }, [e.hash, t3]);
};
var ns2 = (e) => {
  const t3 = N(), n4 = ts2(), r4 = et(e.to), [u5, a3] = r4.split("#"), i5 = (o2) => {
    e.onClick?.(o2), !(a3 !== t3.hash.slice(1) || u5 !== t3.pathname) && (o2.preventDefault(), n4(a3));
  };
  return ae.jsx(Bt, { ...e, onClick: i5 });
};
var nE = j("", {
  variants: {
    size: {
      sm: "max-w-sm",
      md: "max-w-md",
      lg: "max-w-lg",
      xl: "max-w-xl",
      "2xl": "max-w-2xl",
      full: "max-w-full"
    },
    align: {
      center: "mx-auto",
      start: "me-auto",
      end: "ms-auto"
    }
  },
  defaultVariants: {
    size: "xl",
    align: "center"
  }
});
var rE = ({
  caption: e,
  className: t3,
  size: n4 = "xl",
  align: r4 = "center",
  children: u5
}) => ae.jsxs("figure", { className: mo(nE({ size: n4, align: r4 }), t3), children: [
  ae.jsx("div", { className: "relative overflow-hidden rounded-lg border border-border bg-muted/50 p-1 shadow-sm", children: ae.jsx("div", { className: "not-prose rounded-md [&_img]:rounded-md! relative overflow-hidden bg-background", children: u5 }) }),
  e && ae.jsx("figcaption", { className: "mt-3 text-center text-sm text-muted-foreground", children: e })
] });
var uE = j("group relative", {
  variants: {
    level: {
      6: "text-md",
      5: "text-lg",
      4: "text-xl",
      3: "text-xl font-semibold",
      2: "text-2xl font-bold",
      1: "text-4xl font-extrabold"
    }
  },
  defaultVariants: {
    level: 1
  }
});
var iE = (e) => {
  switch (e) {
    case 1:
      return "h1";
    case 2:
      return "h2";
    case 3:
      return "h3";
    case 4:
      return "h4";
    case 5:
      return "h5";
    case 6:
      return "h6";
    default:
      return "h1";
  }
};
var Ye3 = ({
  level: e,
  children: t3,
  id: n4,
  className: r4,
  registerNavigationAnchor: u5
}) => {
  const a3 = iE(e ?? 1), { ref: i5 } = fp();
  return ae.jsxs(
    a3,
    {
      className: uE({
        className: mo(r4, "flex items-center gap-[0.33em]"),
        level: e
      }),
      ref: u5 ? i5 : void 0,
      id: n4,
      children: [
        t3,
        n4 && ae.jsx(
          "a",
          {
            href: `#${n4}`,
            className: "rounded text-[0.8em] text-muted-foreground p-0.5 -m-0.5 opacity-0 group-hover:opacity-50 hover:text-primary hover:!opacity-100 transition-opacity duration-200",
            "aria-label": `Link to ${n4}`,
            children: ae.jsx(Link, { className: "size-[0.75em] min-w-4 min-h-4" })
          }
        )
      ]
    }
  );
};
var aE = ({
  asChild: e,
  onClick: t3,
  enabled: n4 = true,
  ...r4
}) => {
  const u5 = e ? Slot : "span";
  return ae.jsx(
    u5,
    {
      onClick: (a3) => {
        if (n4) {
          const i5 = document.createRange();
          i5.selectNodeContents(a3.currentTarget);
          const o2 = window.getSelection();
          o2?.removeAllRanges(), o2?.addRange(i5);
        }
        t3?.(a3);
      },
      ...r4
    }
  );
};
var sE = ({
  className: e,
  children: t3,
  selectOnClick: n4,
  onClick: r4
}) => ae.jsx(aE, { asChild: true, enabled: n4, onClick: r4, children: ae.jsx(
  "code",
  {
    className: mo(
      "font-mono border p-1 py-0.5 rounded-sm bg-border/50 dark:bg-border/70 [overflow-wrap:anywhere]",
      e
    ),
    children: t3
  }
) });
var oE = {
  img: ({ node: e, ...t3 }) => /\.(mp4|webm|mov|avi)$/.test(t3.src ?? "") ? ae.jsx(
    "video",
    {
      src: t3.src,
      controls: true,
      playsInline: true,
      autoPlay: true,
      loop: true,
      className: mo("rounded-lg", t3.className)
    }
  ) : ae.jsx("img", { ...t3, className: mo("rounded-lg", t3.className) }),
  Framed: rE,
  h1: ({ children: e, id: t3 }) => ae.jsx(Ye3, { level: 1, id: t3, children: e }),
  h2: ({ children: e, id: t3 }) => ae.jsx(Ye3, { level: 2, id: t3, children: e }),
  h3: ({ children: e, id: t3 }) => ae.jsx(Ye3, { level: 3, id: t3, children: e }),
  h4: ({ children: e, id: t3 }) => ae.jsx(Ye3, { level: 4, id: t3, children: e }),
  h5: ({ children: e, id: t3 }) => ae.jsx(Ye3, { level: 5, id: t3, children: e }),
  h6: ({ children: e, id: t3 }) => ae.jsx(Ye3, { level: 6, id: t3, children: e }),
  a: ({ href: e, node: t3, ...n4 }) => e && !e.startsWith("http") ? ae.jsx(ns2, { to: e, relative: "path", ...n4 }) : ae.jsx("a", { href: e, target: "_blank", ...n4, rel: "noreferrer" }),
  Button: g,
  Callout: w2,
  Stepper: t,
  SyntaxHighlight: Wc,
  tip: (e) => ae.jsx(w2, { type: "tip", ...e }),
  info: (e) => ae.jsx(w2, { type: "info", ...e }),
  note: (e) => ae.jsx(w2, { type: "note", ...e }),
  caution: (e) => ae.jsx(w2, { type: "caution", ...e }),
  warning: (e) => ae.jsx(w2, { type: "caution", ...e }),
  danger: (e) => ae.jsx(w2, { type: "danger", ...e }),
  pre: (e) => ae.jsx("pre", { className: mo("not-prose my-4", e.className), ...e }),
  code: ({
    className: e,
    node: t3,
    children: n4,
    title: r4,
    inline: u5,
    showLineNumbers: a3,
    ...i5
  }) => {
    const o2 = e?.match(/language?-(\w+)/);
    return u5 === "true" || u5 === true ? ae.jsx(sE, { className: mo(e, "inline"), children: n4 }) : ae.jsx(
      cp,
      {
        language: o2?.[1],
        showLanguageIndicator: true,
        showLineNumbers: a3,
        title: r4,
        children: ae.jsx("code", { className: mo(e, "not-inline"), ...i5, children: n4 })
      }
    );
  }
};
var lE = "prose dark:prose-invert prose-neutral";
var Br2 = ({
  children: e,
  className: t3
}) => ae.jsx("div", { className: mo(lE, t3), children: e });
var cE = [lp];
var rs2 = (0, import_react6.memo)(
  ({
    content: e,
    className: t3,
    components: n4
  }) => {
    const { syntaxHighlighting: r4 } = X().options, u5 = (0, import_react6.useMemo)(
      () => [
        Gd,
        ...uh(r4?.themes)
      ],
      [r4?.themes]
    ), a3 = (0, import_react6.useMemo)(
      () => ({ ...oE, ...n4 }),
      [n4]
    );
    return ae.jsx(Br2, { className: t3, children: ae.jsx(
      A0,
      {
        remarkPlugins: cE,
        rehypePlugins: u5,
        components: a3,
        children: e
      }
    ) });
  }
);
rs2.displayName = "Markdown";
var us = ({
  children: e,
  className: t3
}) => {
  if (true)
    return ae.jsx(w2, { type: "caution", title: "Developer hint", className: t3, children: ae.jsxs("div", { className: "flex flex-col gap-2", children: [
      typeof e == "string" ? ae.jsx(rs2, { content: e }) : ae.jsx("div", { children: e }),
      ae.jsx("small", { className: "italic", children: "Note: This hint is only shown in development mode." })
    ] }) });
};
var fE = () => {
  const e = sr();
  return ae.jsxs(Br2, { className: "h-full pt-(--padding-content-top)", children: [
    ae.jsx(ao2, { children: "404" }),
    ae.jsxs(Ye3, { level: 1, className: "flex gap-3.5 items-center", children: [
      "Page not found",
      ae.jsx(Unlink, { size: 24 })
    ] }),
    ae.jsxs(us, { children: [
      "Start by adding a file at",
      " ",
      ae.jsxs("code", { children: [
        "{PROJECT_ROOT}",
        "/",
        e["*"],
        ".mdx"
      ] }),
      " ",
      "and add some content to make this error go away."
    ] }),
    ae.jsx("p", { children: "It seems that the page you are looking for does not exist or may have been moved. Please check the URL for any typos or use the navigation menu to find the correct page." }),
    ae.jsx(Ne, { to: "/", children: "Go back home" })
  ] });
};
var is = (0, import_react6.memo)(
  ({ code: e, children: t3, embedded: n4, ...r4 }) => {
    const { syntaxHighlighting: u5 } = X().options;
    l(u5?.highlighter, "Highlighter not found");
    const a3 = Hc(
      u5.highlighter,
      e ?? t3,
      r4.language,
      u5.themes
    );
    return n4 ? ae.jsx(j5, { ...r4, children: a3 }) : ae.jsx(w3, { ...r4, children: a3 });
  }
);
is.displayName = "SyntaxHighlight";
function hE({ error: e }) {
  const t3 = e instanceof Error ? e.message : "Something went wrong", n4 = e instanceof u ? e.developerHint : void 0, r4 = e instanceof u ? e.title : "Something went wrong", u5 = e instanceof Error ? e.stack : void 0, a3 = e instanceof Error ? e.cause : void 0, i5 = a3 instanceof Error ? String(a3.stack) : u5;
  return ae.jsxs(Br2, { className: "grid grid-cols-1 !max-w-none pt-(--padding-content-top)", children: [
    ae.jsx(Ye3, { level: 1, children: r4 }),
    "Error: ",
    t3,
    n4 && ae.jsx(us, { className: "mb-4", children: n4 }),
    i5 && ae.jsx("div", { children: ae.jsx(
      is,
      {
        className: "max-h-[400px] border mt-2",
        language: "js",
        code: i5
      }
    ) })
  ] });
}
function ME() {
  const e = dt();
  return we(e) && e.status === 404 ? ae.jsx(fE, {}) : ae.jsx(hE, { error: e });
}
var as = ({
  slots: e = {}
} = {}) => {
  const t3 = new Map(
    Object.entries(e).map(([r4, u5]) => [
      r4,
      [{ id: r4, content: u5, type: "replace", sequence: 0 }]
    ])
  ), n4 = [];
  return ie()((r4, u5) => ({
    items: t3,
    sequences: /* @__PURE__ */ new Map(),
    getItems: (a3) => u5().items.get(a3) ?? n4,
    setSlot: (a3, i5, o2, l3) => r4((c6) => {
      if (o2 == null) return c6;
      const h3 = new Map(c6.items), f8 = new Map(c6.sequences), d2 = (h3.get(i5) ?? []).filter((x8) => x8.id !== a3), I4 = (f8.get(i5) ?? 0) + 1;
      f8.set(i5, I4);
      const L4 = {
        id: a3,
        content: o2,
        type: l3,
        // Use negative sequence values for "prepend" to ensure they are sorted before positive values for "append".
        sequence: l3 === "prepend" ? -I4 : I4
      };
      if (l3 === "replace") {
        const x8 = d2.filter(
          (w6) => w6.type !== "replace"
        );
        h3.set(i5, [...x8, L4]);
      } else
        h3.set(i5, [...d2, L4]);
      return { items: h3, sequences: f8 };
    }),
    clearSlot: (a3, i5) => r4((o2) => {
      const l3 = new Map(o2.items), c6 = new Map(o2.sequences), f8 = (l3.get(i5) ?? []).filter((p3) => p3.id !== a3);
      return f8.length === 0 ? (l3.delete(i5), c6.delete(i5)) : l3.set(i5, f8), { items: l3, sequences: c6 };
    })
  }));
};
var ss = (0, import_react6.createContext)(as());
var BE = ({
  children: e,
  slots: t3
}) => {
  const n4 = (0, import_react6.useRef)(as({ slots: t3 })).current;
  return ae.jsx(ss, { value: n4, children: e });
};
function dE(e) {
  const t3 = (0, import_react6.use)(ss);
  return oe(t3, e);
}
var ui2 = ["prepend", "replace", "append"];
var mE = (e) => {
  const t3 = i2(), n4 = dE((r4) => r4.getItems(e));
  return (0, import_react6.useMemo)(() => n4.length === 0 ? [] : n4.toSorted((r4, u5) => {
    const a3 = ui2.indexOf(r4.type) - ui2.indexOf(u5.type);
    return a3 !== 0 ? a3 : r4.sequence - u5.sequence;
  }).map(
    (r4) => typeof r4.content == "function" ? ae.jsx(r4.content, { ...t3 }, r4.id) : ae.jsx(import_react6.Fragment, { children: r4.content }, r4.id)
  ), [n4, t3]);
};
var FE = {
  Target: ({ name: e, fallback: t3 }) => {
    const n4 = mE(e);
    return n4.length === 0 ? t3 : n4;
  }
};

// node_modules/zudoku/lib/ClientOnly-E7hGysn1.js
var import_react7 = __toESM(require_react(), 1);
var t2 = () => () => {
};
var c3 = (e) => (0, import_react7.useSyncExternalStore)(
  t2,
  () => "client",
  () => "server"
) === "client" ? e.children : e.fallback;

// node_modules/zudoku/lib/Spinner-mNLZ6awP.js
var i3 = ({ size: r4 = 16 }) => ae.jsx(LoaderCircle, { size: r4, className: "animate-spin" });

// node_modules/zudoku/lib/index-C_xVKbf9.js
var Q5 = __toESM(require_react(), 1);
var import_react9 = __toESM(require_react(), 1);
var Mn3 = __toESM(require_react_dom(), 1);

// node_modules/zudoku/lib/zudoku.plugins.js
var i4 = (n4) => "events" in n4 && typeof n4.events == "object";
var o = (n4) => "getProfileMenuItems" in n4 && typeof n4.getProfileMenuItems == "function";
var s2 = (n4) => "getRoutes" in n4 && typeof n4.getRoutes == "function";
var c4 = (n4) => "signUp" in n4 && typeof n4.signUp == "function";
var u3 = (n4) => "renderSearch" in n4 && typeof n4.renderSearch == "function";
var g4 = (n4) => "initialize" in n4 && typeof n4.initialize == "function";
var f6 = (n4) => "getHead" in n4 && typeof n4.getHead == "function";
var r = (n4) => "getMdxComponents" in n4 && typeof n4.getMdxComponents == "function";
var a2 = (n4) => "getIdentities" in n4 && typeof n4.getIdentities == "function";

// node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs
var React3 = __toESM(require_react(), 1);

// node_modules/@radix-ui/react-menu/dist/index.mjs
var React2 = __toESM(require_react(), 1);
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var SELECTION_KEYS = ["Enter", " "];
var FIRST_KEYS = ["ArrowDown", "PageUp", "Home"];
var LAST_KEYS = ["ArrowUp", "PageDown", "End"];
var FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];
var SUB_OPEN_KEYS = {
  ltr: [...SELECTION_KEYS, "ArrowRight"],
  rtl: [...SELECTION_KEYS, "ArrowLeft"]
};
var SUB_CLOSE_KEYS = {
  ltr: ["ArrowLeft"],
  rtl: ["ArrowRight"]
};
var MENU_NAME = "Menu";
var [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);
var [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [
  createCollectionScope,
  createPopperScope,
  createRovingFocusGroupScope
]);
var usePopperScope = createPopperScope();
var useRovingFocusGroupScope = createRovingFocusGroupScope();
var [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);
var [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);
var Menu2 = (props) => {
  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;
  const popperScope = usePopperScope(__scopeMenu);
  const [content, setContent] = React2.useState(null);
  const isUsingKeyboardRef = React2.useRef(false);
  const handleOpenChange = useCallbackRef(onOpenChange);
  const direction = useDirection(dir);
  React2.useEffect(() => {
    const handleKeyDown = () => {
      isUsingKeyboardRef.current = true;
      document.addEventListener("pointerdown", handlePointer, { capture: true, once: true });
      document.addEventListener("pointermove", handlePointer, { capture: true, once: true });
    };
    const handlePointer = () => isUsingKeyboardRef.current = false;
    document.addEventListener("keydown", handleKeyDown, { capture: true });
    return () => {
      document.removeEventListener("keydown", handleKeyDown, { capture: true });
      document.removeEventListener("pointerdown", handlePointer, { capture: true });
      document.removeEventListener("pointermove", handlePointer, { capture: true });
    };
  }, []);
  return (0, import_jsx_runtime2.jsx)(Root2, { ...popperScope, children: (0, import_jsx_runtime2.jsx)(
    MenuProvider,
    {
      scope: __scopeMenu,
      open,
      onOpenChange: handleOpenChange,
      content,
      onContentChange: setContent,
      children: (0, import_jsx_runtime2.jsx)(
        MenuRootProvider,
        {
          scope: __scopeMenu,
          onClose: React2.useCallback(() => handleOpenChange(false), [handleOpenChange]),
          isUsingKeyboardRef,
          dir: direction,
          modal,
          children
        }
      )
    }
  ) });
};
Menu2.displayName = MENU_NAME;
var ANCHOR_NAME = "MenuAnchor";
var MenuAnchor = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, ...anchorProps } = props;
    const popperScope = usePopperScope(__scopeMenu);
    return (0, import_jsx_runtime2.jsx)(Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });
  }
);
MenuAnchor.displayName = ANCHOR_NAME;
var PORTAL_NAME = "MenuPortal";
var [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {
  forceMount: void 0
});
var MenuPortal = (props) => {
  const { __scopeMenu, forceMount, children, container } = props;
  const context = useMenuContext(PORTAL_NAME, __scopeMenu);
  return (0, import_jsx_runtime2.jsx)(PortalProvider, { scope: __scopeMenu, forceMount, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Portal, { asChild: true, container, children }) }) });
};
MenuPortal.displayName = PORTAL_NAME;
var CONTENT_NAME2 = "MenuContent";
var [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME2);
var MenuContent = React2.forwardRef(
  (props, forwardedRef) => {
    const portalContext = usePortalContext(CONTENT_NAME2, props.__scopeMenu);
    const { forceMount = portalContext.forceMount, ...contentProps } = props;
    const context = useMenuContext(CONTENT_NAME2, props.__scopeMenu);
    const rootContext = useMenuRootContext(CONTENT_NAME2, props.__scopeMenu);
    return (0, import_jsx_runtime2.jsx)(Collection.Provider, { scope: props.__scopeMenu, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? (0, import_jsx_runtime2.jsx)(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : (0, import_jsx_runtime2.jsx)(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });
  }
);
var MenuRootContentModal = React2.forwardRef(
  (props, forwardedRef) => {
    const context = useMenuContext(CONTENT_NAME2, props.__scopeMenu);
    const ref = React2.useRef(null);
    const composedRefs = useComposedRefs(forwardedRef, ref);
    React2.useEffect(() => {
      const content = ref.current;
      if (content) return hideOthers(content);
    }, []);
    return (0, import_jsx_runtime2.jsx)(
      MenuContentImpl,
      {
        ...props,
        ref: composedRefs,
        trapFocus: context.open,
        disableOutsidePointerEvents: context.open,
        disableOutsideScroll: true,
        onFocusOutside: composeEventHandlers(
          props.onFocusOutside,
          (event) => event.preventDefault(),
          { checkForDefaultPrevented: false }
        ),
        onDismiss: () => context.onOpenChange(false)
      }
    );
  }
);
var MenuRootContentNonModal = React2.forwardRef((props, forwardedRef) => {
  const context = useMenuContext(CONTENT_NAME2, props.__scopeMenu);
  return (0, import_jsx_runtime2.jsx)(
    MenuContentImpl,
    {
      ...props,
      ref: forwardedRef,
      trapFocus: false,
      disableOutsidePointerEvents: false,
      disableOutsideScroll: false,
      onDismiss: () => context.onOpenChange(false)
    }
  );
});
var Slot2 = createSlot("MenuContent.ScrollLock");
var MenuContentImpl = React2.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopeMenu,
      loop = false,
      trapFocus,
      onOpenAutoFocus,
      onCloseAutoFocus,
      disableOutsidePointerEvents,
      onEntryFocus,
      onEscapeKeyDown,
      onPointerDownOutside,
      onFocusOutside,
      onInteractOutside,
      onDismiss,
      disableOutsideScroll,
      ...contentProps
    } = props;
    const context = useMenuContext(CONTENT_NAME2, __scopeMenu);
    const rootContext = useMenuRootContext(CONTENT_NAME2, __scopeMenu);
    const popperScope = usePopperScope(__scopeMenu);
    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);
    const getItems = useCollection(__scopeMenu);
    const [currentItemId, setCurrentItemId] = React2.useState(null);
    const contentRef = React2.useRef(null);
    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);
    const timerRef = React2.useRef(0);
    const searchRef = React2.useRef("");
    const pointerGraceTimerRef = React2.useRef(0);
    const pointerGraceIntentRef = React2.useRef(null);
    const pointerDirRef = React2.useRef("right");
    const lastPointerXRef = React2.useRef(0);
    const ScrollLockWrapper = disableOutsideScroll ? Combination_default : React2.Fragment;
    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot2, allowPinchZoom: true } : void 0;
    const handleTypeaheadSearch = (key) => {
      const search = searchRef.current + key;
      const items = getItems().filter((item) => !item.disabled);
      const currentItem = document.activeElement;
      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;
      const values = items.map((item) => item.textValue);
      const nextMatch = getNextMatch(values, search, currentMatch);
      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;
      (function updateSearch(value) {
        searchRef.current = value;
        window.clearTimeout(timerRef.current);
        if (value !== "") timerRef.current = window.setTimeout(() => updateSearch(""), 1e3);
      })(search);
      if (newItem) {
        setTimeout(() => newItem.focus());
      }
    };
    React2.useEffect(() => {
      return () => window.clearTimeout(timerRef.current);
    }, []);
    useFocusGuards();
    const isPointerMovingToSubmenu = React2.useCallback((event) => {
      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;
      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);
    }, []);
    return (0, import_jsx_runtime2.jsx)(
      MenuContentProvider,
      {
        scope: __scopeMenu,
        searchRef,
        onItemEnter: React2.useCallback(
          (event) => {
            if (isPointerMovingToSubmenu(event)) event.preventDefault();
          },
          [isPointerMovingToSubmenu]
        ),
        onItemLeave: React2.useCallback(
          (event) => {
            if (isPointerMovingToSubmenu(event)) return;
            contentRef.current?.focus();
            setCurrentItemId(null);
          },
          [isPointerMovingToSubmenu]
        ),
        onTriggerLeave: React2.useCallback(
          (event) => {
            if (isPointerMovingToSubmenu(event)) event.preventDefault();
          },
          [isPointerMovingToSubmenu]
        ),
        pointerGraceTimerRef,
        onPointerGraceIntentChange: React2.useCallback((intent) => {
          pointerGraceIntentRef.current = intent;
        }, []),
        children: (0, import_jsx_runtime2.jsx)(ScrollLockWrapper, { ...scrollLockWrapperProps, children: (0, import_jsx_runtime2.jsx)(
          FocusScope,
          {
            asChild: true,
            trapped: trapFocus,
            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {
              event.preventDefault();
              contentRef.current?.focus({ preventScroll: true });
            }),
            onUnmountAutoFocus: onCloseAutoFocus,
            children: (0, import_jsx_runtime2.jsx)(
              DismissableLayer,
              {
                asChild: true,
                disableOutsidePointerEvents,
                onEscapeKeyDown,
                onPointerDownOutside,
                onFocusOutside,
                onInteractOutside,
                onDismiss,
                children: (0, import_jsx_runtime2.jsx)(
                  Root4,
                  {
                    asChild: true,
                    ...rovingFocusGroupScope,
                    dir: rootContext.dir,
                    orientation: "vertical",
                    loop,
                    currentTabStopId: currentItemId,
                    onCurrentTabStopIdChange: setCurrentItemId,
                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {
                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();
                    }),
                    preventScrollOnEntryFocus: true,
                    children: (0, import_jsx_runtime2.jsx)(
                      Content2,
                      {
                        role: "menu",
                        "aria-orientation": "vertical",
                        "data-state": getOpenState(context.open),
                        "data-radix-menu-content": "",
                        dir: rootContext.dir,
                        ...popperScope,
                        ...contentProps,
                        ref: composedRefs,
                        style: { outline: "none", ...contentProps.style },
                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {
                          const target = event.target;
                          const isKeyDownInside = target.closest("[data-radix-menu-content]") === event.currentTarget;
                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;
                          const isCharacterKey = event.key.length === 1;
                          if (isKeyDownInside) {
                            if (event.key === "Tab") event.preventDefault();
                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);
                          }
                          const content = contentRef.current;
                          if (event.target !== content) return;
                          if (!FIRST_LAST_KEYS.includes(event.key)) return;
                          event.preventDefault();
                          const items = getItems().filter((item) => !item.disabled);
                          const candidateNodes = items.map((item) => item.ref.current);
                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();
                          focusFirst(candidateNodes);
                        }),
                        onBlur: composeEventHandlers(props.onBlur, (event) => {
                          if (!event.currentTarget.contains(event.target)) {
                            window.clearTimeout(timerRef.current);
                            searchRef.current = "";
                          }
                        }),
                        onPointerMove: composeEventHandlers(
                          props.onPointerMove,
                          whenMouse((event) => {
                            const target = event.target;
                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;
                            if (event.currentTarget.contains(target) && pointerXHasChanged) {
                              const newDir = event.clientX > lastPointerXRef.current ? "right" : "left";
                              pointerDirRef.current = newDir;
                              lastPointerXRef.current = event.clientX;
                            }
                          })
                        )
                      }
                    )
                  }
                )
              }
            )
          }
        ) })
      }
    );
  }
);
MenuContent.displayName = CONTENT_NAME2;
var GROUP_NAME = "MenuGroup";
var MenuGroup = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, ...groupProps } = props;
    return (0, import_jsx_runtime2.jsx)(Primitive.div, { role: "group", ...groupProps, ref: forwardedRef });
  }
);
MenuGroup.displayName = GROUP_NAME;
var LABEL_NAME = "MenuLabel";
var MenuLabel = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, ...labelProps } = props;
    return (0, import_jsx_runtime2.jsx)(Primitive.div, { ...labelProps, ref: forwardedRef });
  }
);
MenuLabel.displayName = LABEL_NAME;
var ITEM_NAME = "MenuItem";
var ITEM_SELECT = "menu.itemSelect";
var MenuItem = React2.forwardRef(
  (props, forwardedRef) => {
    const { disabled = false, onSelect, ...itemProps } = props;
    const ref = React2.useRef(null);
    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);
    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);
    const composedRefs = useComposedRefs(forwardedRef, ref);
    const isPointerDownRef = React2.useRef(false);
    const handleSelect = () => {
      const menuItem = ref.current;
      if (!disabled && menuItem) {
        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });
        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });
        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);
        if (itemSelectEvent.defaultPrevented) {
          isPointerDownRef.current = false;
        } else {
          rootContext.onClose();
        }
      }
    };
    return (0, import_jsx_runtime2.jsx)(
      MenuItemImpl,
      {
        ...itemProps,
        ref: composedRefs,
        disabled,
        onClick: composeEventHandlers(props.onClick, handleSelect),
        onPointerDown: (event) => {
          props.onPointerDown?.(event);
          isPointerDownRef.current = true;
        },
        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {
          if (!isPointerDownRef.current) event.currentTarget?.click();
        }),
        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {
          const isTypingAhead = contentContext.searchRef.current !== "";
          if (disabled || isTypingAhead && event.key === " ") return;
          if (SELECTION_KEYS.includes(event.key)) {
            event.currentTarget.click();
            event.preventDefault();
          }
        })
      }
    );
  }
);
MenuItem.displayName = ITEM_NAME;
var MenuItemImpl = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;
    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);
    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);
    const ref = React2.useRef(null);
    const composedRefs = useComposedRefs(forwardedRef, ref);
    const [isFocused, setIsFocused] = React2.useState(false);
    const [textContent, setTextContent] = React2.useState("");
    React2.useEffect(() => {
      const menuItem = ref.current;
      if (menuItem) {
        setTextContent((menuItem.textContent ?? "").trim());
      }
    }, [itemProps.children]);
    return (0, import_jsx_runtime2.jsx)(
      Collection.ItemSlot,
      {
        scope: __scopeMenu,
        disabled,
        textValue: textValue ?? textContent,
        children: (0, import_jsx_runtime2.jsx)(Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: (0, import_jsx_runtime2.jsx)(
          Primitive.div,
          {
            role: "menuitem",
            "data-highlighted": isFocused ? "" : void 0,
            "aria-disabled": disabled || void 0,
            "data-disabled": disabled ? "" : void 0,
            ...itemProps,
            ref: composedRefs,
            onPointerMove: composeEventHandlers(
              props.onPointerMove,
              whenMouse((event) => {
                if (disabled) {
                  contentContext.onItemLeave(event);
                } else {
                  contentContext.onItemEnter(event);
                  if (!event.defaultPrevented) {
                    const item = event.currentTarget;
                    item.focus({ preventScroll: true });
                  }
                }
              })
            ),
            onPointerLeave: composeEventHandlers(
              props.onPointerLeave,
              whenMouse((event) => contentContext.onItemLeave(event))
            ),
            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),
            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))
          }
        ) })
      }
    );
  }
);
var CHECKBOX_ITEM_NAME = "MenuCheckboxItem";
var MenuCheckboxItem = React2.forwardRef(
  (props, forwardedRef) => {
    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;
    return (0, import_jsx_runtime2.jsx)(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: (0, import_jsx_runtime2.jsx)(
      MenuItem,
      {
        role: "menuitemcheckbox",
        "aria-checked": isIndeterminate(checked) ? "mixed" : checked,
        ...checkboxItemProps,
        ref: forwardedRef,
        "data-state": getCheckedState(checked),
        onSelect: composeEventHandlers(
          checkboxItemProps.onSelect,
          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),
          { checkForDefaultPrevented: false }
        )
      }
    ) });
  }
);
MenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;
var RADIO_GROUP_NAME = "MenuRadioGroup";
var [RadioGroupProvider, useRadioGroupContext] = createMenuContext(
  RADIO_GROUP_NAME,
  { value: void 0, onValueChange: () => {
  } }
);
var MenuRadioGroup = React2.forwardRef(
  (props, forwardedRef) => {
    const { value, onValueChange, ...groupProps } = props;
    const handleValueChange = useCallbackRef(onValueChange);
    return (0, import_jsx_runtime2.jsx)(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: (0, import_jsx_runtime2.jsx)(MenuGroup, { ...groupProps, ref: forwardedRef }) });
  }
);
MenuRadioGroup.displayName = RADIO_GROUP_NAME;
var RADIO_ITEM_NAME = "MenuRadioItem";
var MenuRadioItem = React2.forwardRef(
  (props, forwardedRef) => {
    const { value, ...radioItemProps } = props;
    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);
    const checked = value === context.value;
    return (0, import_jsx_runtime2.jsx)(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: (0, import_jsx_runtime2.jsx)(
      MenuItem,
      {
        role: "menuitemradio",
        "aria-checked": checked,
        ...radioItemProps,
        ref: forwardedRef,
        "data-state": getCheckedState(checked),
        onSelect: composeEventHandlers(
          radioItemProps.onSelect,
          () => context.onValueChange?.(value),
          { checkForDefaultPrevented: false }
        )
      }
    ) });
  }
);
MenuRadioItem.displayName = RADIO_ITEM_NAME;
var ITEM_INDICATOR_NAME = "MenuItemIndicator";
var [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(
  ITEM_INDICATOR_NAME,
  { checked: false }
);
var MenuItemIndicator = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;
    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);
    return (0, import_jsx_runtime2.jsx)(
      Presence,
      {
        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,
        children: (0, import_jsx_runtime2.jsx)(
          Primitive.span,
          {
            ...itemIndicatorProps,
            ref: forwardedRef,
            "data-state": getCheckedState(indicatorContext.checked)
          }
        )
      }
    );
  }
);
MenuItemIndicator.displayName = ITEM_INDICATOR_NAME;
var SEPARATOR_NAME = "MenuSeparator";
var MenuSeparator = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, ...separatorProps } = props;
    return (0, import_jsx_runtime2.jsx)(
      Primitive.div,
      {
        role: "separator",
        "aria-orientation": "horizontal",
        ...separatorProps,
        ref: forwardedRef
      }
    );
  }
);
MenuSeparator.displayName = SEPARATOR_NAME;
var ARROW_NAME = "MenuArrow";
var MenuArrow = React2.forwardRef(
  (props, forwardedRef) => {
    const { __scopeMenu, ...arrowProps } = props;
    const popperScope = usePopperScope(__scopeMenu);
    return (0, import_jsx_runtime2.jsx)(Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });
  }
);
MenuArrow.displayName = ARROW_NAME;
var SUB_NAME = "MenuSub";
var [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);
var MenuSub = (props) => {
  const { __scopeMenu, children, open = false, onOpenChange } = props;
  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);
  const popperScope = usePopperScope(__scopeMenu);
  const [trigger, setTrigger] = React2.useState(null);
  const [content, setContent] = React2.useState(null);
  const handleOpenChange = useCallbackRef(onOpenChange);
  React2.useEffect(() => {
    if (parentMenuContext.open === false) handleOpenChange(false);
    return () => handleOpenChange(false);
  }, [parentMenuContext.open, handleOpenChange]);
  return (0, import_jsx_runtime2.jsx)(Root2, { ...popperScope, children: (0, import_jsx_runtime2.jsx)(
    MenuProvider,
    {
      scope: __scopeMenu,
      open,
      onOpenChange: handleOpenChange,
      content,
      onContentChange: setContent,
      children: (0, import_jsx_runtime2.jsx)(
        MenuSubProvider,
        {
          scope: __scopeMenu,
          contentId: useId(),
          triggerId: useId(),
          trigger,
          onTriggerChange: setTrigger,
          children
        }
      )
    }
  ) });
};
MenuSub.displayName = SUB_NAME;
var SUB_TRIGGER_NAME = "MenuSubTrigger";
var MenuSubTrigger = React2.forwardRef(
  (props, forwardedRef) => {
    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);
    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);
    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);
    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);
    const openTimerRef = React2.useRef(null);
    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;
    const scope = { __scopeMenu: props.__scopeMenu };
    const clearOpenTimer = React2.useCallback(() => {
      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);
      openTimerRef.current = null;
    }, []);
    React2.useEffect(() => clearOpenTimer, [clearOpenTimer]);
    React2.useEffect(() => {
      const pointerGraceTimer = pointerGraceTimerRef.current;
      return () => {
        window.clearTimeout(pointerGraceTimer);
        onPointerGraceIntentChange(null);
      };
    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);
    return (0, import_jsx_runtime2.jsx)(MenuAnchor, { asChild: true, ...scope, children: (0, import_jsx_runtime2.jsx)(
      MenuItemImpl,
      {
        id: subContext.triggerId,
        "aria-haspopup": "menu",
        "aria-expanded": context.open,
        "aria-controls": subContext.contentId,
        "data-state": getOpenState(context.open),
        ...props,
        ref: composeRefs(forwardedRef, subContext.onTriggerChange),
        onClick: (event) => {
          props.onClick?.(event);
          if (props.disabled || event.defaultPrevented) return;
          event.currentTarget.focus();
          if (!context.open) context.onOpenChange(true);
        },
        onPointerMove: composeEventHandlers(
          props.onPointerMove,
          whenMouse((event) => {
            contentContext.onItemEnter(event);
            if (event.defaultPrevented) return;
            if (!props.disabled && !context.open && !openTimerRef.current) {
              contentContext.onPointerGraceIntentChange(null);
              openTimerRef.current = window.setTimeout(() => {
                context.onOpenChange(true);
                clearOpenTimer();
              }, 100);
            }
          })
        ),
        onPointerLeave: composeEventHandlers(
          props.onPointerLeave,
          whenMouse((event) => {
            clearOpenTimer();
            const contentRect = context.content?.getBoundingClientRect();
            if (contentRect) {
              const side = context.content?.dataset.side;
              const rightSide = side === "right";
              const bleed = rightSide ? -5 : 5;
              const contentNearEdge = contentRect[rightSide ? "left" : "right"];
              const contentFarEdge = contentRect[rightSide ? "right" : "left"];
              contentContext.onPointerGraceIntentChange({
                area: [
                  // Apply a bleed on clientX to ensure that our exit point is
                  // consistently within polygon bounds
                  { x: event.clientX + bleed, y: event.clientY },
                  { x: contentNearEdge, y: contentRect.top },
                  { x: contentFarEdge, y: contentRect.top },
                  { x: contentFarEdge, y: contentRect.bottom },
                  { x: contentNearEdge, y: contentRect.bottom }
                ],
                side
              });
              window.clearTimeout(pointerGraceTimerRef.current);
              pointerGraceTimerRef.current = window.setTimeout(
                () => contentContext.onPointerGraceIntentChange(null),
                300
              );
            } else {
              contentContext.onTriggerLeave(event);
              if (event.defaultPrevented) return;
              contentContext.onPointerGraceIntentChange(null);
            }
          })
        ),
        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {
          const isTypingAhead = contentContext.searchRef.current !== "";
          if (props.disabled || isTypingAhead && event.key === " ") return;
          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {
            context.onOpenChange(true);
            context.content?.focus();
            event.preventDefault();
          }
        })
      }
    ) });
  }
);
MenuSubTrigger.displayName = SUB_TRIGGER_NAME;
var SUB_CONTENT_NAME = "MenuSubContent";
var MenuSubContent = React2.forwardRef(
  (props, forwardedRef) => {
    const portalContext = usePortalContext(CONTENT_NAME2, props.__scopeMenu);
    const { forceMount = portalContext.forceMount, ...subContentProps } = props;
    const context = useMenuContext(CONTENT_NAME2, props.__scopeMenu);
    const rootContext = useMenuRootContext(CONTENT_NAME2, props.__scopeMenu);
    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);
    const ref = React2.useRef(null);
    const composedRefs = useComposedRefs(forwardedRef, ref);
    return (0, import_jsx_runtime2.jsx)(Collection.Provider, { scope: props.__scopeMenu, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Collection.Slot, { scope: props.__scopeMenu, children: (0, import_jsx_runtime2.jsx)(
      MenuContentImpl,
      {
        id: subContext.contentId,
        "aria-labelledby": subContext.triggerId,
        ...subContentProps,
        ref: composedRefs,
        align: "start",
        side: rootContext.dir === "rtl" ? "left" : "right",
        disableOutsidePointerEvents: false,
        disableOutsideScroll: false,
        trapFocus: false,
        onOpenAutoFocus: (event) => {
          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();
          event.preventDefault();
        },
        onCloseAutoFocus: (event) => event.preventDefault(),
        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {
          if (event.target !== subContext.trigger) context.onOpenChange(false);
        }),
        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {
          rootContext.onClose();
          event.preventDefault();
        }),
        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {
          const isKeyDownInside = event.currentTarget.contains(event.target);
          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);
          if (isKeyDownInside && isCloseKey) {
            context.onOpenChange(false);
            subContext.trigger?.focus();
            event.preventDefault();
          }
        })
      }
    ) }) }) });
  }
);
MenuSubContent.displayName = SUB_CONTENT_NAME;
function getOpenState(open) {
  return open ? "open" : "closed";
}
function isIndeterminate(checked) {
  return checked === "indeterminate";
}
function getCheckedState(checked) {
  return isIndeterminate(checked) ? "indeterminate" : checked ? "checked" : "unchecked";
}
function focusFirst(candidates) {
  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;
  for (const candidate of candidates) {
    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;
    candidate.focus();
    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;
  }
}
function wrapArray(array, startIndex) {
  return array.map((_5, index) => array[(startIndex + index) % array.length]);
}
function getNextMatch(values, search, currentMatch) {
  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);
  const normalizedSearch = isRepeated ? search[0] : search;
  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;
  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));
  const excludeCurrentMatch = normalizedSearch.length === 1;
  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v5) => v5 !== currentMatch);
  const nextMatch = wrappedValues.find(
    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())
  );
  return nextMatch !== currentMatch ? nextMatch : void 0;
}
function isPointInPolygon(point, polygon) {
  const { x: x8, y: y4 } = point;
  let inside = false;
  for (let i5 = 0, j7 = polygon.length - 1; i5 < polygon.length; j7 = i5++) {
    const ii3 = polygon[i5];
    const jj = polygon[j7];
    const xi4 = ii3.x;
    const yi4 = ii3.y;
    const xj = jj.x;
    const yj = jj.y;
    const intersect = yi4 > y4 !== yj > y4 && x8 < (xj - xi4) * (y4 - yi4) / (yj - yi4) + xi4;
    if (intersect) inside = !inside;
  }
  return inside;
}
function isPointerInGraceArea(event, area) {
  if (!area) return false;
  const cursorPos = { x: event.clientX, y: event.clientY };
  return isPointInPolygon(cursorPos, area);
}
function whenMouse(handler) {
  return (event) => event.pointerType === "mouse" ? handler(event) : void 0;
}
var Root32 = Menu2;
var Anchor2 = MenuAnchor;
var Portal3 = MenuPortal;
var Content23 = MenuContent;
var Group = MenuGroup;
var Label = MenuLabel;
var Item2 = MenuItem;
var CheckboxItem = MenuCheckboxItem;
var RadioGroup = MenuRadioGroup;
var RadioItem = MenuRadioItem;
var ItemIndicator = MenuItemIndicator;
var Separator = MenuSeparator;
var Arrow22 = MenuArrow;
var Sub = MenuSub;
var SubTrigger = MenuSubTrigger;
var SubContent = MenuSubContent;

// node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var DROPDOWN_MENU_NAME = "DropdownMenu";
var [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(
  DROPDOWN_MENU_NAME,
  [createMenuScope]
);
var useMenuScope = createMenuScope();
var [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);
var DropdownMenu = (props) => {
  const {
    __scopeDropdownMenu,
    children,
    dir,
    open: openProp,
    defaultOpen,
    onOpenChange,
    modal = true
  } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  const triggerRef = React3.useRef(null);
  const [open, setOpen] = useControllableState({
    prop: openProp,
    defaultProp: defaultOpen ?? false,
    onChange: onOpenChange,
    caller: DROPDOWN_MENU_NAME
  });
  return (0, import_jsx_runtime3.jsx)(
    DropdownMenuProvider,
    {
      scope: __scopeDropdownMenu,
      triggerId: useId(),
      triggerRef,
      contentId: useId(),
      open,
      onOpenChange: setOpen,
      onOpenToggle: React3.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),
      modal,
      children: (0, import_jsx_runtime3.jsx)(Root32, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })
    }
  );
};
DropdownMenu.displayName = DROPDOWN_MENU_NAME;
var TRIGGER_NAME2 = "DropdownMenuTrigger";
var DropdownMenuTrigger = React3.forwardRef(
  (props, forwardedRef) => {
    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;
    const context = useDropdownMenuContext(TRIGGER_NAME2, __scopeDropdownMenu);
    const menuScope = useMenuScope(__scopeDropdownMenu);
    return (0, import_jsx_runtime3.jsx)(Anchor2, { asChild: true, ...menuScope, children: (0, import_jsx_runtime3.jsx)(
      Primitive.button,
      {
        type: "button",
        id: context.triggerId,
        "aria-haspopup": "menu",
        "aria-expanded": context.open,
        "aria-controls": context.open ? context.contentId : void 0,
        "data-state": context.open ? "open" : "closed",
        "data-disabled": disabled ? "" : void 0,
        disabled,
        ...triggerProps,
        ref: composeRefs(forwardedRef, context.triggerRef),
        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {
          if (!disabled && event.button === 0 && event.ctrlKey === false) {
            context.onOpenToggle();
            if (!context.open) event.preventDefault();
          }
        }),
        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {
          if (disabled) return;
          if (["Enter", " "].includes(event.key)) context.onOpenToggle();
          if (event.key === "ArrowDown") context.onOpenChange(true);
          if (["Enter", " ", "ArrowDown"].includes(event.key)) event.preventDefault();
        })
      }
    ) });
  }
);
DropdownMenuTrigger.displayName = TRIGGER_NAME2;
var PORTAL_NAME2 = "DropdownMenuPortal";
var DropdownMenuPortal = (props) => {
  const { __scopeDropdownMenu, ...portalProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(Portal3, { ...menuScope, ...portalProps });
};
DropdownMenuPortal.displayName = PORTAL_NAME2;
var CONTENT_NAME3 = "DropdownMenuContent";
var DropdownMenuContent = React3.forwardRef(
  (props, forwardedRef) => {
    const { __scopeDropdownMenu, ...contentProps } = props;
    const context = useDropdownMenuContext(CONTENT_NAME3, __scopeDropdownMenu);
    const menuScope = useMenuScope(__scopeDropdownMenu);
    const hasInteractedOutsideRef = React3.useRef(false);
    return (0, import_jsx_runtime3.jsx)(
      Content23,
      {
        id: context.contentId,
        "aria-labelledby": context.triggerId,
        ...menuScope,
        ...contentProps,
        ref: forwardedRef,
        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {
          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();
          hasInteractedOutsideRef.current = false;
          event.preventDefault();
        }),
        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {
          const originalEvent = event.detail.originalEvent;
          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;
          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;
          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;
        }),
        style: {
          ...props.style,
          // re-namespace exposed content custom properties
          ...{
            "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
            "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
            "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
          }
        }
      }
    );
  }
);
DropdownMenuContent.displayName = CONTENT_NAME3;
var GROUP_NAME2 = "DropdownMenuGroup";
var DropdownMenuGroup = React3.forwardRef(
  (props, forwardedRef) => {
    const { __scopeDropdownMenu, ...groupProps } = props;
    const menuScope = useMenuScope(__scopeDropdownMenu);
    return (0, import_jsx_runtime3.jsx)(Group, { ...menuScope, ...groupProps, ref: forwardedRef });
  }
);
DropdownMenuGroup.displayName = GROUP_NAME2;
var LABEL_NAME2 = "DropdownMenuLabel";
var DropdownMenuLabel = React3.forwardRef(
  (props, forwardedRef) => {
    const { __scopeDropdownMenu, ...labelProps } = props;
    const menuScope = useMenuScope(__scopeDropdownMenu);
    return (0, import_jsx_runtime3.jsx)(Label, { ...menuScope, ...labelProps, ref: forwardedRef });
  }
);
DropdownMenuLabel.displayName = LABEL_NAME2;
var ITEM_NAME2 = "DropdownMenuItem";
var DropdownMenuItem = React3.forwardRef(
  (props, forwardedRef) => {
    const { __scopeDropdownMenu, ...itemProps } = props;
    const menuScope = useMenuScope(__scopeDropdownMenu);
    return (0, import_jsx_runtime3.jsx)(Item2, { ...menuScope, ...itemProps, ref: forwardedRef });
  }
);
DropdownMenuItem.displayName = ITEM_NAME2;
var CHECKBOX_ITEM_NAME2 = "DropdownMenuCheckboxItem";
var DropdownMenuCheckboxItem = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...checkboxItemProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });
});
DropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME2;
var RADIO_GROUP_NAME2 = "DropdownMenuRadioGroup";
var DropdownMenuRadioGroup = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...radioGroupProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });
});
DropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME2;
var RADIO_ITEM_NAME2 = "DropdownMenuRadioItem";
var DropdownMenuRadioItem = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...radioItemProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });
});
DropdownMenuRadioItem.displayName = RADIO_ITEM_NAME2;
var INDICATOR_NAME = "DropdownMenuItemIndicator";
var DropdownMenuItemIndicator = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });
});
DropdownMenuItemIndicator.displayName = INDICATOR_NAME;
var SEPARATOR_NAME2 = "DropdownMenuSeparator";
var DropdownMenuSeparator = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...separatorProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });
});
DropdownMenuSeparator.displayName = SEPARATOR_NAME2;
var ARROW_NAME2 = "DropdownMenuArrow";
var DropdownMenuArrow = React3.forwardRef(
  (props, forwardedRef) => {
    const { __scopeDropdownMenu, ...arrowProps } = props;
    const menuScope = useMenuScope(__scopeDropdownMenu);
    return (0, import_jsx_runtime3.jsx)(Arrow22, { ...menuScope, ...arrowProps, ref: forwardedRef });
  }
);
DropdownMenuArrow.displayName = ARROW_NAME2;
var DropdownMenuSub = (props) => {
  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  const [open, setOpen] = useControllableState({
    prop: openProp,
    defaultProp: defaultOpen ?? false,
    onChange: onOpenChange,
    caller: "DropdownMenuSub"
  });
  return (0, import_jsx_runtime3.jsx)(Sub, { ...menuScope, open, onOpenChange: setOpen, children });
};
var SUB_TRIGGER_NAME2 = "DropdownMenuSubTrigger";
var DropdownMenuSubTrigger = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...subTriggerProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });
});
DropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME2;
var SUB_CONTENT_NAME2 = "DropdownMenuSubContent";
var DropdownMenuSubContent = React3.forwardRef((props, forwardedRef) => {
  const { __scopeDropdownMenu, ...subContentProps } = props;
  const menuScope = useMenuScope(__scopeDropdownMenu);
  return (0, import_jsx_runtime3.jsx)(
    SubContent,
    {
      ...menuScope,
      ...subContentProps,
      ref: forwardedRef,
      style: {
        ...props.style,
        // re-namespace exposed content custom properties
        ...{
          "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
          "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
          "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
          "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
          "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
        }
      }
    }
  );
});
DropdownMenuSubContent.displayName = SUB_CONTENT_NAME2;
var Root22 = DropdownMenu;
var Trigger4 = DropdownMenuTrigger;
var Portal22 = DropdownMenuPortal;
var Content24 = DropdownMenuContent;
var Group2 = DropdownMenuGroup;
var Label2 = DropdownMenuLabel;
var Item22 = DropdownMenuItem;
var CheckboxItem2 = DropdownMenuCheckboxItem;
var RadioItem2 = DropdownMenuRadioItem;
var ItemIndicator2 = DropdownMenuItemIndicator;
var Separator2 = DropdownMenuSeparator;
var Sub2 = DropdownMenuSub;
var SubTrigger2 = DropdownMenuSubTrigger;
var SubContent2 = DropdownMenuSubContent;

// node_modules/zudoku/lib/ui/DropdownMenu.js
var r2 = __toESM(require_react(), 1);
var M4 = Root22;
var R4 = Trigger4;
var v4 = Portal22;
var S2 = Sub2;
var p2 = r2.forwardRef(({ className: t3, inset: o2, children: s3, ...n4 }, i5) => ae.jsxs(
  SubTrigger2,
  {
    ref: i5,
    className: mo(
      "flex cursor-default select-none items-center rounded-xs px-2 py-1.5 text-sm outline-hidden focus:bg-accent data-[state=open]:bg-accent",
      o2 && "pl-8",
      t3
    ),
    ...n4,
    children: [
      s3,
      ae.jsx(ChevronRight, { className: "ml-auto h-4 w-4" })
    ]
  }
));
p2.displayName = SubTrigger2.displayName;
var u4 = r2.forwardRef(({ className: t3, ...o2 }, s3) => ae.jsx(
  SubContent2,
  {
    ref: s3,
    className: mo(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      t3
    ),
    ...o2
  }
));
u4.displayName = SubContent2.displayName;
var f7 = r2.forwardRef(({ className: t3, sideOffset: o2 = 4, ...s3 }, n4) => ae.jsx(Portal22, { children: ae.jsx(
  Content24,
  {
    ref: n4,
    sideOffset: o2,
    className: mo(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",
      "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      t3
    ),
    ...s3
  }
) }));
f7.displayName = Content24.displayName;
var x6 = r2.forwardRef(({ className: t3, inset: o2, ...s3 }, n4) => ae.jsx(
  Item22,
  {
    ref: n4,
    className: mo(
      "relative flex cursor-default select-none items-center rounded-xs px-2 py-1.5 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      o2 && "pl-8",
      t3
    ),
    ...s3
  }
));
x6.displayName = Item22.displayName;
var b6 = r2.forwardRef(({ className: t3, children: o2, checked: s3, ...n4 }, i5) => ae.jsxs(
  CheckboxItem2,
  {
    ref: i5,
    className: mo(
      "relative flex cursor-default select-none items-center rounded-xs py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      t3
    ),
    checked: s3,
    ...n4,
    children: [
      ae.jsx("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: ae.jsx(ItemIndicator2, { children: ae.jsx(Check, { className: "h-4 w-4" }) }) }),
      o2
    ]
  }
));
b6.displayName = CheckboxItem2.displayName;
var w5 = r2.forwardRef(({ className: t3, children: o2, ...s3 }, n4) => ae.jsxs(
  RadioItem2,
  {
    ref: n4,
    className: mo(
      "relative flex cursor-default select-none items-center rounded-xs py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      t3
    ),
    ...s3,
    children: [
      ae.jsx("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: ae.jsx(ItemIndicator2, { children: ae.jsx(Dot, { className: "h-4 w-4 fill-current" }) }) }),
      o2
    ]
  }
));
w5.displayName = RadioItem2.displayName;
var h2 = r2.forwardRef(({ className: t3, inset: o2, ...s3 }, n4) => ae.jsx(
  Label2,
  {
    ref: n4,
    className: mo(
      "px-2 py-1.5 text-sm font-semibold",
      o2 && "pl-8",
      t3
    ),
    ...s3
  }
));
h2.displayName = Label2.displayName;
var N4 = r2.forwardRef(({ className: t3, ...o2 }, s3) => ae.jsx(
  Separator2,
  {
    ref: s3,
    className: mo("-mx-1 my-1 h-px bg-muted", t3),
    ...o2
  }
));
N4.displayName = Separator2.displayName;
var g5 = ({
  className: t3,
  ...o2
}) => ae.jsx(
  "span",
  {
    className: mo("ml-auto text-xs tracking-widest opacity-60", t3),
    ...o2
  }
);
g5.displayName = "DropdownMenuShortcut";

// node_modules/zudoku/lib/Drawer-BzkOKwgC.js
var mt3 = __toESM(require_react(), 1);
var import_react8 = __toESM(require_react(), 1);
function De4(t3) {
  if (typeof document > "u") return;
  let n4 = document.head || document.getElementsByTagName("head")[0], e = document.createElement("style");
  e.type = "text/css", n4.appendChild(e), e.styleSheet ? e.styleSheet.cssText = t3 : e.appendChild(document.createTextNode(t3));
}
var qt3 = import_react8.default.createContext({
  drawerRef: {
    current: null
  },
  overlayRef: {
    current: null
  },
  onPress: () => {
  },
  onRelease: () => {
  },
  onDrag: () => {
  },
  onNestedDrag: () => {
  },
  onNestedOpenChange: () => {
  },
  onNestedRelease: () => {
  },
  openProp: void 0,
  dismissible: false,
  isOpen: false,
  isDragging: false,
  keyboardIsOpen: {
    current: false
  },
  snapPointsOffset: null,
  snapPoints: null,
  handleOnly: false,
  modal: false,
  shouldFade: false,
  activeSnapPoint: null,
  onOpenChange: () => {
  },
  setActiveSnapPoint: () => {
  },
  closeDrawer: () => {
  },
  direction: "bottom",
  shouldAnimate: {
    current: true
  },
  shouldScaleBackground: false,
  setBackgroundColorOnScale: true,
  noBodyStyles: false,
  container: null,
  autoFocus: false
});
var pt3 = () => {
  const t3 = import_react8.default.useContext(qt3);
  if (!t3)
    throw new Error("useDrawerContext must be used within a Drawer.Root");
  return t3;
};
De4(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);
function Te2() {
  const t3 = navigator.userAgent;
  return typeof window < "u" && (/Firefox/.test(t3) && /Mobile/.test(t3) || // Android Firefox
  /FxiOS/.test(t3));
}
function Re4() {
  return Nt3(/^Mac/);
}
function Ee4() {
  return Nt3(/^iPhone/);
}
function Wt3() {
  return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
}
function xe4() {
  return Nt3(/^iPad/) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.
  Re4() && navigator.maxTouchPoints > 1;
}
function Xt4() {
  return Ee4() || xe4();
}
function Nt3(t3) {
  return typeof window < "u" && window.navigator != null ? t3.test(window.navigator.platform) : void 0;
}
var Oe4 = 24;
var Ce4 = typeof window < "u" ? import_react8.useLayoutEffect : import_react8.useEffect;
function zt3(...t3) {
  return (...n4) => {
    for (let e of t3)
      typeof e == "function" && e(...n4);
  };
}
var xt3 = typeof document < "u" && window.visualViewport;
function Vt3(t3) {
  let n4 = window.getComputedStyle(t3);
  return /(auto|scroll)/.test(n4.overflow + n4.overflowX + n4.overflowY);
}
function Kt3(t3) {
  for (Vt3(t3) && (t3 = t3.parentElement); t3 && !Vt3(t3); )
    t3 = t3.parentElement;
  return t3 || document.scrollingElement || document.documentElement;
}
var $e3 = /* @__PURE__ */ new Set([
  "checkbox",
  "radio",
  "range",
  "color",
  "file",
  "image",
  "button",
  "submit",
  "reset"
]);
var vt4 = 0;
var Ot4;
function Ae3(t3 = {}) {
  let { isDisabled: n4 } = t3;
  Ce4(() => {
    if (!n4)
      return vt4++, vt4 === 1 && Xt4() && (Ot4 = Me3()), () => {
        vt4--, vt4 === 0 && Ot4?.();
      };
  }, [
    n4
  ]);
}
function Me3() {
  let t3, n4 = 0, e = (f8) => {
    t3 = Kt3(f8.target), !(t3 === document.documentElement && t3 === document.body) && (n4 = f8.changedTouches[0].pageY);
  }, a3 = (f8) => {
    if (!t3 || t3 === document.documentElement || t3 === document.body) {
      f8.preventDefault();
      return;
    }
    let m3 = f8.changedTouches[0].pageY, B4 = t3.scrollTop, k3 = t3.scrollHeight - t3.clientHeight;
    k3 !== 0 && ((B4 <= 0 && m3 > n4 || B4 >= k3 && m3 < n4) && f8.preventDefault(), n4 = m3);
  }, i5 = (f8) => {
    let m3 = f8.target;
    At3(m3) && m3 !== document.activeElement && (f8.preventDefault(), m3.style.transform = "translateY(-2000px)", m3.focus(), requestAnimationFrame(() => {
      m3.style.transform = "";
    }));
  }, o2 = (f8) => {
    let m3 = f8.target;
    At3(m3) && (m3.style.transform = "translateY(-2000px)", requestAnimationFrame(() => {
      m3.style.transform = "", xt3 && (xt3.height < window.innerHeight ? requestAnimationFrame(() => {
        Yt4(m3);
      }) : xt3.addEventListener("resize", () => Yt4(m3), {
        once: true
      }));
    }));
  }, v5 = () => {
    window.scrollTo(0, 0);
  }, w6 = window.pageXOffset, D3 = window.pageYOffset, R5 = zt3(Ne5(document.documentElement, "paddingRight", `${window.innerWidth - document.documentElement.clientWidth}px`));
  window.scrollTo(0, 0);
  let h3 = zt3(dt4(document, "touchstart", e, {
    passive: false,
    capture: true
  }), dt4(document, "touchmove", a3, {
    passive: false,
    capture: true
  }), dt4(document, "touchend", i5, {
    passive: false,
    capture: true
  }), dt4(document, "focus", o2, true), dt4(window, "scroll", v5));
  return () => {
    R5(), h3(), window.scrollTo(w6, D3);
  };
}
function Ne5(t3, n4, e) {
  let a3 = t3.style[n4];
  return t3.style[n4] = e, () => {
    t3.style[n4] = a3;
  };
}
function dt4(t3, n4, e, a3) {
  return t3.addEventListener(n4, e, a3), () => {
    t3.removeEventListener(n4, e, a3);
  };
}
function Yt4(t3) {
  let n4 = document.scrollingElement || document.documentElement;
  for (; t3 && t3 !== n4; ) {
    let e = Kt3(t3);
    if (e !== document.documentElement && e !== document.body && e !== t3) {
      let a3 = e.getBoundingClientRect().top, i5 = t3.getBoundingClientRect().top, o2 = t3.getBoundingClientRect().bottom;
      const v5 = e.getBoundingClientRect().bottom + Oe4;
      o2 > v5 && (e.scrollTop += i5 - a3);
    }
    t3 = e.parentElement;
  }
}
function At3(t3) {
  return t3 instanceof HTMLInputElement && !$e3.has(t3.type) || t3 instanceof HTMLTextAreaElement || t3 instanceof HTMLElement && t3.isContentEditable;
}
function Pe4(t3, n4) {
  typeof t3 == "function" ? t3(n4) : t3 != null && (t3.current = n4);
}
function Ie4(...t3) {
  return (n4) => t3.forEach((e) => Pe4(e, n4));
}
function Gt3(...t3) {
  return mt3.useCallback(Ie4(...t3), t3);
}
var Jt3 = /* @__PURE__ */ new WeakMap();
function $5(t3, n4, e = false) {
  if (!t3 || !(t3 instanceof HTMLElement)) return;
  let a3 = {};
  Object.entries(n4).forEach(([i5, o2]) => {
    if (i5.startsWith("--")) {
      t3.style.setProperty(i5, o2);
      return;
    }
    a3[i5] = t3.style[i5], t3.style[i5] = o2;
  }), !e && Jt3.set(t3, a3);
}
function _e3(t3, n4) {
  if (!t3 || !(t3 instanceof HTMLElement)) return;
  let e = Jt3.get(t3);
  e && (t3.style[n4] = e[n4]);
}
var C4 = (t3) => {
  switch (t3) {
    case "top":
    case "bottom":
      return true;
    case "left":
    case "right":
      return false;
    default:
      return t3;
  }
};
function yt3(t3, n4) {
  if (!t3)
    return null;
  const e = window.getComputedStyle(t3), a3 = (
    // @ts-ignore
    e.transform || e.webkitTransform || e.mozTransform
  );
  let i5 = a3.match(/^matrix3d\((.+)\)$/);
  return i5 ? parseFloat(i5[1].split(", ")[C4(n4) ? 13 : 12]) : (i5 = a3.match(/^matrix\((.+)\)$/), i5 ? parseFloat(i5[1].split(", ")[C4(n4) ? 5 : 4]) : null);
}
function He4(t3) {
  return 8 * (Math.log(t3 + 1) - 2);
}
function Ct2(t3, n4) {
  if (!t3) return () => {
  };
  const e = t3.style.cssText;
  return Object.assign(t3.style, n4), () => {
    t3.style.cssText = e;
  };
}
function ke5(...t3) {
  return (...n4) => {
    for (const e of t3)
      typeof e == "function" && e(...n4);
  };
}
var x7 = {
  DURATION: 0.5,
  EASE: [
    0.32,
    0.72,
    0,
    1
  ]
};
var Qt3 = 0.4;
var Le3 = 0.25;
var Be4 = 100;
var Zt3 = 8;
var bt4 = 16;
var Mt3 = 26;
var $t3 = "vaul-dragging";
function te3(t3) {
  const n4 = import_react8.default.useRef(t3);
  return import_react8.default.useEffect(() => {
    n4.current = t3;
  }), import_react8.default.useMemo(() => (...e) => n4.current == null ? void 0 : n4.current.call(n4, ...e), []);
}
function Fe4({ defaultProp: t3, onChange: n4 }) {
  const e = import_react8.default.useState(t3), [a3] = e, i5 = import_react8.default.useRef(a3), o2 = te3(n4);
  return import_react8.default.useEffect(() => {
    i5.current !== a3 && (o2(a3), i5.current = a3);
  }, [
    a3,
    i5,
    o2
  ]), e;
}
function ee2({ prop: t3, defaultProp: n4, onChange: e = () => {
} }) {
  const [a3, i5] = Fe4({
    defaultProp: n4,
    onChange: e
  }), o2 = t3 !== void 0, v5 = o2 ? t3 : a3, w6 = te3(e), D3 = import_react8.default.useCallback((R5) => {
    if (o2) {
      const f8 = typeof R5 == "function" ? R5(t3) : R5;
      f8 !== t3 && w6(f8);
    } else
      i5(R5);
  }, [
    o2,
    t3,
    i5,
    w6
  ]);
  return [
    v5,
    D3
  ];
}
function Ue3({ activeSnapPointProp: t3, setActiveSnapPointProp: n4, snapPoints: e, drawerRef: a3, overlayRef: i5, fadeFromIndex: o2, onSnapPointChange: v5, direction: w6 = "bottom", container: D3, snapToSequentialPoint: R5 }) {
  const [h3, f8] = ee2({
    prop: t3,
    defaultProp: e?.[0],
    onChange: n4
  }), [m3, B4] = import_react8.default.useState(typeof window < "u" ? {
    innerWidth: window.innerWidth,
    innerHeight: window.innerHeight
  } : void 0);
  import_react8.default.useEffect(() => {
    function u5() {
      B4({
        innerWidth: window.innerWidth,
        innerHeight: window.innerHeight
      });
    }
    return window.addEventListener("resize", u5), () => window.removeEventListener("resize", u5);
  }, []);
  const k3 = import_react8.default.useMemo(() => h3 === e?.[e.length - 1] || null, [
    e,
    h3
  ]), E5 = import_react8.default.useMemo(() => {
    var u5;
    return (u5 = e?.findIndex((b7) => b7 === h3)) != null ? u5 : null;
  }, [
    e,
    h3
  ]), F4 = e && e.length > 0 && (o2 || o2 === 0) && !Number.isNaN(o2) && e[o2] === h3 || !e, p3 = import_react8.default.useMemo(() => {
    const u5 = D3 ? {
      width: D3.getBoundingClientRect().width,
      height: D3.getBoundingClientRect().height
    } : typeof window < "u" ? {
      width: window.innerWidth,
      height: window.innerHeight
    } : {
      width: 0,
      height: 0
    };
    var b7;
    return (b7 = e?.map((y4) => {
      const I4 = typeof y4 == "string";
      let N5 = 0;
      if (I4 && (N5 = parseInt(y4, 10)), C4(w6)) {
        const l3 = I4 ? N5 : m3 ? y4 * u5.height : 0;
        return m3 ? w6 === "bottom" ? u5.height - l3 : -u5.height + l3 : l3;
      }
      const j7 = I4 ? N5 : m3 ? y4 * u5.width : 0;
      return m3 ? w6 === "right" ? u5.width - j7 : -u5.width + j7 : j7;
    })) != null ? b7 : [];
  }, [
    e,
    m3,
    D3
  ]), M5 = import_react8.default.useMemo(() => E5 !== null ? p3?.[E5] : null, [
    p3,
    E5
  ]), A3 = import_react8.default.useCallback((u5) => {
    var b7;
    const y4 = (b7 = p3?.findIndex((I4) => I4 === u5)) != null ? b7 : null;
    v5(y4), $5(a3.current, {
      transition: `transform ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`,
      transform: C4(w6) ? `translate3d(0, ${u5}px, 0)` : `translate3d(${u5}px, 0, 0)`
    }), p3 && y4 !== p3.length - 1 && o2 !== void 0 && y4 !== o2 && y4 < o2 ? $5(i5.current, {
      transition: `opacity ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`,
      opacity: "0"
    }) : $5(i5.current, {
      transition: `opacity ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`,
      opacity: "1"
    }), f8(e?.[Math.max(y4, 0)]);
  }, [
    a3.current,
    e,
    p3,
    o2,
    i5,
    f8
  ]);
  import_react8.default.useEffect(() => {
    if (h3 || t3) {
      var u5;
      const b7 = (u5 = e?.findIndex((y4) => y4 === t3 || y4 === h3)) != null ? u5 : -1;
      p3 && b7 !== -1 && typeof p3[b7] == "number" && A3(p3[b7]);
    }
  }, [
    h3,
    t3,
    e,
    p3,
    A3
  ]);
  function c6({ draggedDistance: u5, closeDrawer: b7, velocity: y4, dismissible: I4 }) {
    if (o2 === void 0) return;
    const N5 = w6 === "bottom" || w6 === "right" ? (M5 ?? 0) - u5 : (M5 ?? 0) + u5, j7 = E5 === o2 - 1, l3 = E5 === 0, U4 = u5 > 0;
    if (j7 && $5(i5.current, {
      transition: `opacity ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`
    }), !R5 && y4 > 2 && !U4) {
      I4 ? b7() : A3(p3[0]);
      return;
    }
    if (!R5 && y4 > 2 && U4 && p3 && e) {
      A3(p3[e.length - 1]);
      return;
    }
    const _5 = p3?.reduce((P3, K4) => typeof P3 != "number" || typeof K4 != "number" ? P3 : Math.abs(K4 - N5) < Math.abs(P3 - N5) ? K4 : P3), W5 = C4(w6) ? window.innerHeight : window.innerWidth;
    if (y4 > Qt3 && Math.abs(u5) < W5 * 0.4) {
      const P3 = U4 ? 1 : -1;
      if (P3 > 0 && k3 && e) {
        A3(p3[e.length - 1]);
        return;
      }
      if (l3 && P3 < 0 && I4 && b7(), E5 === null) return;
      A3(p3[E5 + P3]);
      return;
    }
    A3(_5);
  }
  function Y5({ draggedDistance: u5 }) {
    if (M5 === null) return;
    const b7 = w6 === "bottom" || w6 === "right" ? M5 - u5 : M5 + u5;
    (w6 === "bottom" || w6 === "right") && b7 < p3[p3.length - 1] || (w6 === "top" || w6 === "left") && b7 > p3[p3.length - 1] || $5(a3.current, {
      transform: C4(w6) ? `translate3d(0, ${b7}px, 0)` : `translate3d(${b7}px, 0, 0)`
    });
  }
  function tt3(u5, b7) {
    if (!e || typeof E5 != "number" || !p3 || o2 === void 0) return null;
    const y4 = E5 === o2 - 1;
    if (E5 >= o2 && b7)
      return 0;
    if (y4 && !b7) return 1;
    if (!F4 && !y4) return null;
    const N5 = y4 ? E5 + 1 : E5 - 1, j7 = y4 ? p3[N5] - p3[N5 - 1] : p3[N5 + 1] - p3[N5], l3 = u5 / Math.abs(j7);
    return y4 ? 1 - l3 : l3;
  }
  return {
    isLastSnapPoint: k3,
    activeSnapPoint: h3,
    shouldFade: F4,
    getPercentageDragged: tt3,
    setActiveSnapPoint: f8,
    activeSnapPointIndex: E5,
    onRelease: c6,
    onDrag: Y5,
    snapPointsOffset: p3
  };
}
var je4 = () => () => {
};
function We3() {
  const { direction: t3, isOpen: n4, shouldScaleBackground: e, setBackgroundColorOnScale: a3, noBodyStyles: i5 } = pt3(), o2 = import_react8.default.useRef(null), v5 = (0, import_react8.useMemo)(() => document.body.style.backgroundColor, []);
  function w6() {
    return (window.innerWidth - Mt3) / window.innerWidth;
  }
  import_react8.default.useEffect(() => {
    if (n4 && e) {
      o2.current && clearTimeout(o2.current);
      const D3 = document.querySelector("[data-vaul-drawer-wrapper]") || document.querySelector("[vaul-drawer-wrapper]");
      if (!D3) return;
      ke5(a3 && !i5 ? Ct2(document.body, {
        background: "black"
      }) : je4, Ct2(D3, {
        transformOrigin: C4(t3) ? "top" : "left",
        transitionProperty: "transform, border-radius",
        transitionDuration: `${x7.DURATION}s`,
        transitionTimingFunction: `cubic-bezier(${x7.EASE.join(",")})`
      }));
      const R5 = Ct2(D3, {
        borderRadius: `${Zt3}px`,
        overflow: "hidden",
        ...C4(t3) ? {
          transform: `scale(${w6()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`
        } : {
          transform: `scale(${w6()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`
        }
      });
      return () => {
        R5(), o2.current = window.setTimeout(() => {
          v5 ? document.body.style.background = v5 : document.body.style.removeProperty("background");
        }, x7.DURATION * 1e3);
      };
    }
  }, [
    n4,
    e,
    v5
  ]);
}
var ft3 = null;
function ze4({ isOpen: t3, modal: n4, nested: e, hasBeenOpened: a3, preventScrollRestoration: i5, noBodyStyles: o2 }) {
  const [v5, w6] = import_react8.default.useState(() => typeof window < "u" ? window.location.href : ""), D3 = import_react8.default.useRef(0), R5 = import_react8.default.useCallback(() => {
    if (Wt3() && ft3 === null && t3 && !o2) {
      ft3 = {
        position: document.body.style.position,
        top: document.body.style.top,
        left: document.body.style.left,
        height: document.body.style.height,
        right: "unset"
      };
      const { scrollX: f8, innerHeight: m3 } = window;
      document.body.style.setProperty("position", "fixed", "important"), Object.assign(document.body.style, {
        top: `${-D3.current}px`,
        left: `${-f8}px`,
        right: "0px",
        height: "auto"
      }), window.setTimeout(() => window.requestAnimationFrame(() => {
        const B4 = m3 - window.innerHeight;
        B4 && D3.current >= m3 && (document.body.style.top = `${-(D3.current + B4)}px`);
      }), 300);
    }
  }, [
    t3
  ]), h3 = import_react8.default.useCallback(() => {
    if (Wt3() && ft3 !== null && !o2) {
      const f8 = -parseInt(document.body.style.top, 10), m3 = -parseInt(document.body.style.left, 10);
      Object.assign(document.body.style, ft3), window.requestAnimationFrame(() => {
        if (i5 && v5 !== window.location.href) {
          w6(window.location.href);
          return;
        }
        window.scrollTo(m3, f8);
      }), ft3 = null;
    }
  }, [
    v5
  ]);
  return import_react8.default.useEffect(() => {
    function f8() {
      D3.current = window.scrollY;
    }
    return f8(), window.addEventListener("scroll", f8), () => {
      window.removeEventListener("scroll", f8);
    };
  }, []), import_react8.default.useEffect(() => {
    if (n4)
      return () => {
        typeof document > "u" || document.querySelector("[data-vaul-drawer]") || h3();
      };
  }, [
    n4,
    h3
  ]), import_react8.default.useEffect(() => {
    e || !a3 || (t3 ? (!window.matchMedia("(display-mode: standalone)").matches && R5(), n4 || window.setTimeout(() => {
      h3();
    }, 500)) : h3());
  }, [
    t3,
    a3,
    v5,
    n4,
    e,
    R5,
    h3
  ]), {
    restorePositionSetting: h3
  };
}
function Ve4({ open: t3, onOpenChange: n4, children: e, onDrag: a3, onRelease: i5, snapPoints: o2, shouldScaleBackground: v5 = false, setBackgroundColorOnScale: w6 = true, closeThreshold: D3 = Le3, scrollLockTimeout: R5 = Be4, dismissible: h3 = true, handleOnly: f8 = false, fadeFromIndex: m3 = o2 && o2.length - 1, activeSnapPoint: B4, setActiveSnapPoint: k3, fixed: E5, modal: F4 = true, onClose: p3, nested: M5, noBodyStyles: A3 = false, direction: c6 = "bottom", defaultOpen: Y5 = false, disablePreventScroll: tt3 = true, snapToSequentialPoint: u5 = false, preventScrollRestoration: b7 = false, repositionInputs: y4 = true, onAnimationEnd: I4, container: N5, autoFocus: j7 = false }) {
  var l3, U4;
  const [_5 = false, W5] = ee2({
    defaultProp: Y5,
    prop: t3,
    onChange: (s3) => {
      n4?.(s3), !s3 && !M5 && de5(), setTimeout(() => {
        I4?.(s3);
      }, x7.DURATION * 1e3), s3 && !F4 && typeof window < "u" && window.requestAnimationFrame(() => {
        document.body.style.pointerEvents = "auto";
      }), s3 || (document.body.style.pointerEvents = "auto");
    }
  }), [P3, K4] = import_react8.default.useState(false), [G3, it3] = import_react8.default.useState(false), [oe4, Pt4] = import_react8.default.useState(false), nt4 = import_react8.default.useRef(null), wt4 = import_react8.default.useRef(null), St5 = import_react8.default.useRef(null), Dt3 = import_react8.default.useRef(null), st5 = import_react8.default.useRef(null), lt4 = import_react8.default.useRef(false), Tt5 = import_react8.default.useRef(null), Rt3 = import_react8.default.useRef(0), rt3 = import_react8.default.useRef(false), It3 = import_react8.default.useRef(!Y5), _t4 = import_react8.default.useRef(0), d2 = import_react8.default.useRef(null), Ht3 = import_react8.default.useRef(((l3 = d2.current) == null ? void 0 : l3.getBoundingClientRect().height) || 0), kt4 = import_react8.default.useRef(((U4 = d2.current) == null ? void 0 : U4.getBoundingClientRect().width) || 0), Et2 = import_react8.default.useRef(0), ie4 = import_react8.default.useCallback((s3) => {
    o2 && s3 === ut4.length - 1 && (wt4.current = /* @__PURE__ */ new Date());
  }, []), { activeSnapPoint: se4, activeSnapPointIndex: at2, setActiveSnapPoint: Lt3, onRelease: le4, snapPointsOffset: ut4, onDrag: ue5, shouldFade: Bt4, getPercentageDragged: ce2 } = Ue3({
    snapPoints: o2,
    activeSnapPointProp: B4,
    setActiveSnapPointProp: k3,
    drawerRef: d2,
    fadeFromIndex: m3,
    overlayRef: nt4,
    onSnapPointChange: ie4,
    direction: c6,
    container: N5,
    snapToSequentialPoint: u5
  });
  Ae3({
    isDisabled: !_5 || G3 || !F4 || oe4 || !P3 || !y4 || !tt3
  });
  const { restorePositionSetting: de5 } = ze4({
    isOpen: _5,
    modal: F4,
    nested: M5 ?? false,
    hasBeenOpened: P3,
    preventScrollRestoration: b7,
    noBodyStyles: A3
  });
  function ht5() {
    return (window.innerWidth - Mt3) / window.innerWidth;
  }
  function fe4(s3) {
    var S4, T6;
    !h3 && !o2 || d2.current && !d2.current.contains(s3.target) || (Ht3.current = ((S4 = d2.current) == null ? void 0 : S4.getBoundingClientRect().height) || 0, kt4.current = ((T6 = d2.current) == null ? void 0 : T6.getBoundingClientRect().width) || 0, it3(true), St5.current = /* @__PURE__ */ new Date(), Xt4() && window.addEventListener("touchend", () => lt4.current = false, {
      once: true
    }), s3.target.setPointerCapture(s3.pointerId), Rt3.current = C4(c6) ? s3.pageY : s3.pageX);
  }
  function Ft3(s3, S4) {
    var T6;
    let g6 = s3;
    const O4 = (T6 = window.getSelection()) == null ? void 0 : T6.toString(), L4 = d2.current ? yt3(d2.current, c6) : null, H6 = /* @__PURE__ */ new Date();
    if (g6.tagName === "SELECT" || g6.hasAttribute("data-vaul-no-drag") || g6.closest("[data-vaul-no-drag]"))
      return false;
    if (c6 === "right" || c6 === "left")
      return true;
    if (wt4.current && H6.getTime() - wt4.current.getTime() < 500)
      return false;
    if (L4 !== null && (c6 === "bottom" ? L4 > 0 : L4 < 0))
      return true;
    if (O4 && O4.length > 0)
      return false;
    if (st5.current && H6.getTime() - st5.current.getTime() < R5 && L4 === 0 || S4)
      return st5.current = H6, false;
    for (; g6; ) {
      if (g6.scrollHeight > g6.clientHeight) {
        if (g6.scrollTop !== 0)
          return st5.current = /* @__PURE__ */ new Date(), false;
        if (g6.getAttribute("role") === "dialog")
          return true;
      }
      g6 = g6.parentNode;
    }
    return true;
  }
  function me4(s3) {
    if (d2.current && G3) {
      const S4 = c6 === "bottom" || c6 === "right" ? 1 : -1, T6 = (Rt3.current - (C4(c6) ? s3.pageY : s3.pageX)) * S4, g6 = T6 > 0, O4 = o2 && !h3 && !g6;
      if (O4 && at2 === 0) return;
      const L4 = Math.abs(T6), H6 = document.querySelector("[data-vaul-drawer-wrapper]"), J7 = c6 === "bottom" || c6 === "top" ? Ht3.current : kt4.current;
      let z4 = L4 / J7;
      const et4 = ce2(L4, g6);
      if (et4 !== null && (z4 = et4), O4 && z4 >= 1 || !lt4.current && !Ft3(s3.target, g6)) return;
      if (d2.current.classList.add($t3), lt4.current = true, $5(d2.current, {
        transition: "none"
      }), $5(nt4.current, {
        transition: "none"
      }), o2 && ue5({
        draggedDistance: T6
      }), g6 && !o2) {
        const q5 = He4(T6), gt4 = Math.min(q5 * -1, 0) * S4;
        $5(d2.current, {
          transform: C4(c6) ? `translate3d(0, ${gt4}px, 0)` : `translate3d(${gt4}px, 0, 0)`
        });
        return;
      }
      const Q6 = 1 - z4;
      if ((Bt4 || m3 && at2 === m3 - 1) && (a3?.(s3, z4), $5(nt4.current, {
        opacity: `${Q6}`,
        transition: "none"
      }, true)), H6 && nt4.current && v5) {
        const q5 = Math.min(ht5() + z4 * (1 - ht5()), 1), gt4 = 8 - z4 * 8, jt4 = Math.max(0, 14 - z4 * 14);
        $5(H6, {
          borderRadius: `${gt4}px`,
          transform: C4(c6) ? `scale(${q5}) translate3d(0, ${jt4}px, 0)` : `scale(${q5}) translate3d(${jt4}px, 0, 0)`,
          transition: "none"
        }, true);
      }
      if (!o2) {
        const q5 = L4 * S4;
        $5(d2.current, {
          transform: C4(c6) ? `translate3d(0, ${q5}px, 0)` : `translate3d(${q5}px, 0, 0)`
        });
      }
    }
  }
  import_react8.default.useEffect(() => {
    window.requestAnimationFrame(() => {
      It3.current = true;
    });
  }, []), import_react8.default.useEffect(() => {
    var s3;
    function S4() {
      if (!d2.current || !y4) return;
      const T6 = document.activeElement;
      if (At3(T6) || rt3.current) {
        var g6;
        const O4 = ((g6 = window.visualViewport) == null ? void 0 : g6.height) || 0, L4 = window.innerHeight;
        let H6 = L4 - O4;
        const J7 = d2.current.getBoundingClientRect().height || 0, z4 = J7 > L4 * 0.8;
        Et2.current || (Et2.current = J7);
        const et4 = d2.current.getBoundingClientRect().top;
        if (Math.abs(_t4.current - H6) > 60 && (rt3.current = !rt3.current), o2 && o2.length > 0 && ut4 && at2) {
          const Q6 = ut4[at2] || 0;
          H6 += Q6;
        }
        if (_t4.current = H6, J7 > O4 || rt3.current) {
          const Q6 = d2.current.getBoundingClientRect().height;
          let q5 = Q6;
          Q6 > O4 && (q5 = O4 - (z4 ? et4 : Mt3)), E5 ? d2.current.style.height = `${Q6 - Math.max(H6, 0)}px` : d2.current.style.height = `${Math.max(q5, O4 - et4)}px`;
        } else Te2() || (d2.current.style.height = `${Et2.current}px`);
        o2 && o2.length > 0 && !rt3.current ? d2.current.style.bottom = "0px" : d2.current.style.bottom = `${Math.max(H6, 0)}px`;
      }
    }
    return (s3 = window.visualViewport) == null || s3.addEventListener("resize", S4), () => {
      var T6;
      return (T6 = window.visualViewport) == null ? void 0 : T6.removeEventListener("resize", S4);
    };
  }, [
    at2,
    o2,
    ut4
  ]);
  function ct5(s3) {
    pe4(), p3?.(), s3 || W5(false), setTimeout(() => {
      o2 && Lt3(o2[0]);
    }, x7.DURATION * 1e3);
  }
  function Ut4() {
    if (!d2.current) return;
    const s3 = document.querySelector("[data-vaul-drawer-wrapper]"), S4 = yt3(d2.current, c6);
    $5(d2.current, {
      transform: "translate3d(0, 0, 0)",
      transition: `transform ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`
    }), $5(nt4.current, {
      transition: `opacity ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`,
      opacity: "1"
    }), v5 && S4 && S4 > 0 && _5 && $5(s3, {
      borderRadius: `${Zt3}px`,
      overflow: "hidden",
      ...C4(c6) ? {
        transform: `scale(${ht5()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,
        transformOrigin: "top"
      } : {
        transform: `scale(${ht5()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,
        transformOrigin: "left"
      },
      transitionProperty: "transform, border-radius",
      transitionDuration: `${x7.DURATION}s`,
      transitionTimingFunction: `cubic-bezier(${x7.EASE.join(",")})`
    }, true);
  }
  function pe4() {
    !G3 || !d2.current || (d2.current.classList.remove($t3), lt4.current = false, it3(false), Dt3.current = /* @__PURE__ */ new Date());
  }
  function we7(s3) {
    if (!G3 || !d2.current) return;
    d2.current.classList.remove($t3), lt4.current = false, it3(false), Dt3.current = /* @__PURE__ */ new Date();
    const S4 = yt3(d2.current, c6);
    if (!s3 || !Ft3(s3.target, false) || !S4 || Number.isNaN(S4) || St5.current === null) return;
    const T6 = Dt3.current.getTime() - St5.current.getTime(), g6 = Rt3.current - (C4(c6) ? s3.pageY : s3.pageX), O4 = Math.abs(g6) / T6;
    if (O4 > 0.05 && (Pt4(true), setTimeout(() => {
      Pt4(false);
    }, 200)), o2) {
      le4({
        draggedDistance: g6 * (c6 === "bottom" || c6 === "right" ? 1 : -1),
        closeDrawer: ct5,
        velocity: O4,
        dismissible: h3
      }), i5?.(s3, true);
      return;
    }
    if (c6 === "bottom" || c6 === "right" ? g6 > 0 : g6 < 0) {
      Ut4(), i5?.(s3, true);
      return;
    }
    if (O4 > Qt3) {
      ct5(), i5?.(s3, false);
      return;
    }
    var L4;
    const H6 = Math.min((L4 = d2.current.getBoundingClientRect().height) != null ? L4 : 0, window.innerHeight);
    var J7;
    const z4 = Math.min((J7 = d2.current.getBoundingClientRect().width) != null ? J7 : 0, window.innerWidth), et4 = c6 === "left" || c6 === "right";
    if (Math.abs(S4) >= (et4 ? z4 : H6) * D3) {
      ct5(), i5?.(s3, false);
      return;
    }
    i5?.(s3, true), Ut4();
  }
  import_react8.default.useEffect(() => (_5 && ($5(document.documentElement, {
    scrollBehavior: "auto"
  }), wt4.current = /* @__PURE__ */ new Date()), () => {
    _e3(document.documentElement, "scrollBehavior");
  }), [
    _5
  ]);
  function he4(s3) {
    const S4 = s3 ? (window.innerWidth - bt4) / window.innerWidth : 1, T6 = s3 ? -16 : 0;
    Tt5.current && window.clearTimeout(Tt5.current), $5(d2.current, {
      transition: `transform ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`,
      transform: C4(c6) ? `scale(${S4}) translate3d(0, ${T6}px, 0)` : `scale(${S4}) translate3d(${T6}px, 0, 0)`
    }), !s3 && d2.current && (Tt5.current = setTimeout(() => {
      const g6 = yt3(d2.current, c6);
      $5(d2.current, {
        transition: "none",
        transform: C4(c6) ? `translate3d(0, ${g6}px, 0)` : `translate3d(${g6}px, 0, 0)`
      });
    }, 500));
  }
  function ge4(s3, S4) {
    if (S4 < 0) return;
    const T6 = (window.innerWidth - bt4) / window.innerWidth, g6 = T6 + S4 * (1 - T6), O4 = -16 + S4 * bt4;
    $5(d2.current, {
      transform: C4(c6) ? `scale(${g6}) translate3d(0, ${O4}px, 0)` : `scale(${g6}) translate3d(${O4}px, 0, 0)`,
      transition: "none"
    });
  }
  function ve4(s3, S4) {
    const T6 = C4(c6) ? window.innerHeight : window.innerWidth, g6 = S4 ? (T6 - bt4) / T6 : 1, O4 = S4 ? -16 : 0;
    S4 && $5(d2.current, {
      transition: `transform ${x7.DURATION}s cubic-bezier(${x7.EASE.join(",")})`,
      transform: C4(c6) ? `scale(${g6}) translate3d(0, ${O4}px, 0)` : `scale(${g6}) translate3d(${O4}px, 0, 0)`
    });
  }
  return import_react8.default.useEffect(() => {
    F4 || window.requestAnimationFrame(() => {
      document.body.style.pointerEvents = "auto";
    });
  }, [
    F4
  ]), import_react8.default.createElement(Root, {
    defaultOpen: Y5,
    onOpenChange: (s3) => {
      !h3 && !s3 || (s3 ? K4(true) : ct5(true), W5(s3));
    },
    open: _5
  }, import_react8.default.createElement(qt3.Provider, {
    value: {
      activeSnapPoint: se4,
      snapPoints: o2,
      setActiveSnapPoint: Lt3,
      drawerRef: d2,
      overlayRef: nt4,
      onOpenChange: n4,
      onPress: fe4,
      onRelease: we7,
      onDrag: me4,
      dismissible: h3,
      shouldAnimate: It3,
      handleOnly: f8,
      isOpen: _5,
      isDragging: G3,
      shouldFade: Bt4,
      closeDrawer: ct5,
      onNestedDrag: ge4,
      onNestedOpenChange: he4,
      onNestedRelease: ve4,
      keyboardIsOpen: rt3,
      modal: F4,
      snapPointsOffset: ut4,
      activeSnapPointIndex: at2,
      direction: c6,
      shouldScaleBackground: v5,
      setBackgroundColorOnScale: w6,
      noBodyStyles: A3,
      container: N5,
      autoFocus: j7
    }
  }, e));
}
var ne4 = import_react8.default.forwardRef(function({ ...t3 }, n4) {
  const { overlayRef: e, snapPoints: a3, onRelease: i5, shouldFade: o2, isOpen: v5, modal: w6, shouldAnimate: D3 } = pt3(), R5 = Gt3(n4, e), h3 = a3 && a3.length > 0;
  if (!w6)
    return null;
  const f8 = import_react8.default.useCallback((m3) => i5(m3), [
    i5
  ]);
  return import_react8.default.createElement(Overlay, {
    onMouseUp: f8,
    ref: R5,
    "data-vaul-overlay": "",
    "data-vaul-snap-points": v5 && h3 ? "true" : "false",
    "data-vaul-snap-points-overlay": v5 && o2 ? "true" : "false",
    "data-vaul-animate": D3?.current ? "true" : "false",
    ...t3
  });
});
ne4.displayName = "Drawer.Overlay";
var re4 = import_react8.default.forwardRef(function({ onPointerDownOutside: t3, style: n4, onOpenAutoFocus: e, ...a3 }, i5) {
  const { drawerRef: o2, onPress: v5, onRelease: w6, onDrag: D3, keyboardIsOpen: R5, snapPointsOffset: h3, activeSnapPointIndex: f8, modal: m3, isOpen: B4, direction: k3, snapPoints: E5, container: F4, handleOnly: p3, shouldAnimate: M5, autoFocus: A3 } = pt3(), [c6, Y5] = import_react8.default.useState(false), tt3 = Gt3(i5, o2), u5 = import_react8.default.useRef(null), b7 = import_react8.default.useRef(null), y4 = import_react8.default.useRef(false), I4 = E5 && E5.length > 0;
  We3();
  const N5 = (l3, U4, _5 = 0) => {
    if (y4.current) return true;
    const W5 = Math.abs(l3.y), P3 = Math.abs(l3.x), K4 = P3 > W5, G3 = [
      "bottom",
      "right"
    ].includes(U4) ? 1 : -1;
    if (U4 === "left" || U4 === "right") {
      if (!(l3.x * G3 < 0) && P3 >= 0 && P3 <= _5)
        return K4;
    } else if (!(l3.y * G3 < 0) && W5 >= 0 && W5 <= _5)
      return !K4;
    return y4.current = true, true;
  };
  import_react8.default.useEffect(() => {
    I4 && window.requestAnimationFrame(() => {
      Y5(true);
    });
  }, []);
  function j7(l3) {
    u5.current = null, y4.current = false, w6(l3);
  }
  return import_react8.default.createElement(Content, {
    "data-vaul-drawer-direction": k3,
    "data-vaul-drawer": "",
    "data-vaul-delayed-snap-points": c6 ? "true" : "false",
    "data-vaul-snap-points": B4 && I4 ? "true" : "false",
    "data-vaul-custom-container": F4 ? "true" : "false",
    "data-vaul-animate": M5?.current ? "true" : "false",
    ...a3,
    ref: tt3,
    style: h3 && h3.length > 0 ? {
      "--snap-point-height": `${h3[f8 ?? 0]}px`,
      ...n4
    } : n4,
    onPointerDown: (l3) => {
      p3 || (a3.onPointerDown == null || a3.onPointerDown.call(a3, l3), u5.current = {
        x: l3.pageX,
        y: l3.pageY
      }, v5(l3));
    },
    onOpenAutoFocus: (l3) => {
      e?.(l3), A3 || l3.preventDefault();
    },
    onPointerDownOutside: (l3) => {
      if (t3?.(l3), !m3 || l3.defaultPrevented) {
        l3.preventDefault();
        return;
      }
      R5.current && (R5.current = false);
    },
    onFocusOutside: (l3) => {
      if (!m3) {
        l3.preventDefault();
        return;
      }
    },
    onPointerMove: (l3) => {
      if (b7.current = l3, p3 || (a3.onPointerMove == null || a3.onPointerMove.call(a3, l3), !u5.current)) return;
      const U4 = l3.pageY - u5.current.y, _5 = l3.pageX - u5.current.x, W5 = l3.pointerType === "touch" ? 10 : 2;
      N5({
        x: _5,
        y: U4
      }, k3, W5) ? D3(l3) : (Math.abs(_5) > W5 || Math.abs(U4) > W5) && (u5.current = null);
    },
    onPointerUp: (l3) => {
      a3.onPointerUp == null || a3.onPointerUp.call(a3, l3), u5.current = null, y4.current = false, w6(l3);
    },
    onPointerOut: (l3) => {
      a3.onPointerOut == null || a3.onPointerOut.call(a3, l3), j7(b7.current);
    },
    onContextMenu: (l3) => {
      a3.onContextMenu == null || a3.onContextMenu.call(a3, l3), b7.current && j7(b7.current);
    }
  });
});
re4.displayName = "Drawer.Content";
var Ye4 = 250;
var qe4 = 120;
var Xe2 = import_react8.default.forwardRef(function({ preventCycle: t3 = false, children: n4, ...e }, a3) {
  const { closeDrawer: i5, isDragging: o2, snapPoints: v5, activeSnapPoint: w6, setActiveSnapPoint: D3, dismissible: R5, handleOnly: h3, isOpen: f8, onPress: m3, onDrag: B4 } = pt3(), k3 = import_react8.default.useRef(null), E5 = import_react8.default.useRef(false);
  function F4() {
    if (E5.current) {
      A3();
      return;
    }
    window.setTimeout(() => {
      p3();
    }, qe4);
  }
  function p3() {
    if (o2 || t3 || E5.current) {
      A3();
      return;
    }
    if (A3(), !v5 || v5.length === 0) {
      R5 || i5();
      return;
    }
    if (w6 === v5[v5.length - 1] && R5) {
      i5();
      return;
    }
    const Y5 = v5.findIndex((u5) => u5 === w6);
    if (Y5 === -1) return;
    const tt3 = v5[Y5 + 1];
    D3(tt3);
  }
  function M5() {
    k3.current = window.setTimeout(() => {
      E5.current = true;
    }, Ye4);
  }
  function A3() {
    k3.current && window.clearTimeout(k3.current), E5.current = false;
  }
  return import_react8.default.createElement("div", {
    onClick: F4,
    onPointerCancel: A3,
    onPointerDown: (c6) => {
      h3 && m3(c6), M5();
    },
    onPointerMove: (c6) => {
      h3 && B4(c6);
    },
    // onPointerUp is already handled by the content component
    ref: a3,
    "data-vaul-drawer-visible": f8 ? "true" : "false",
    "data-vaul-handle": "",
    "aria-hidden": "true",
    ...e
  }, import_react8.default.createElement("span", {
    "data-vaul-handle-hitarea": "",
    "aria-hidden": "true"
  }, n4));
});
Xe2.displayName = "Drawer.Handle";
function Ke3(t3) {
  const n4 = pt3(), { container: e = n4.container, ...a3 } = t3;
  return import_react8.default.createElement(Portal2, {
    container: e,
    ...a3
  });
}
var V5 = {
  Root: Ve4,
  Content: re4,
  Overlay: ne4,
  Trigger,
  Portal: Ke3,
  Close,
  Title,
  Description
};
var Ge4 = ({
  shouldScaleBackground: t3 = true,
  ...n4
}) => ae.jsx(
  V5.Root,
  {
    shouldScaleBackground: t3,
    ...n4
  }
);
Ge4.displayName = "Drawer";
var sn3 = V5.Trigger;
var Je3 = V5.Portal;
var ln3 = V5.Close;
var ae4 = mt3.forwardRef(({ className: t3, ...n4 }, e) => ae.jsx(
  V5.Overlay,
  {
    ref: e,
    className: mo("fixed inset-0 z-50 bg-black/80", t3),
    ...n4
  }
));
ae4.displayName = V5.Overlay.displayName;
var Qe4 = mt3.forwardRef(
  ({ className: t3, children: n4, hideBar: e = true, ...a3 }, i5) => ae.jsxs(Je3, { children: [
    ae.jsx(ae4, {}),
    ae.jsxs(
      V5.Content,
      {
        ref: i5,
        className: mo(
          "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
          t3
        ),
        ...a3,
        children: [
          !e && ae.jsx("div", { className: "mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" }),
          n4
        ]
      }
    )
  ] })
);
Qe4.displayName = "DrawerContent";
var Ze4 = ({
  className: t3,
  ...n4
}) => ae.jsx(
  "div",
  {
    className: mo("grid gap-1.5 p-4 text-center sm:text-left", t3),
    ...n4
  }
);
Ze4.displayName = "DrawerHeader";
var tn2 = ({
  className: t3,
  ...n4
}) => ae.jsx(
  "div",
  {
    className: mo("mt-auto flex flex-col gap-2 p-4", t3),
    ...n4
  }
);
tn2.displayName = "DrawerFooter";
var en3 = mt3.forwardRef(({ className: t3, ...n4 }, e) => ae.jsx(
  V5.Title,
  {
    ref: e,
    className: mo(
      "text-lg font-semibold leading-none tracking-tight",
      t3
    ),
    ...n4
  }
));
en3.displayName = V5.Title.displayName;
var nn2 = mt3.forwardRef(({ className: t3, ...n4 }, e) => ae.jsx(
  V5.Description,
  {
    ref: e,
    className: mo("text-sm text-muted-foreground", t3),
    ...n4
  }
));
nn2.displayName = V5.Description.displayName;

// node_modules/zudoku/lib/index-C_xVKbf9.js
var go3 = class extends $ {
  constructor(e = {}) {
    super(), this.config = e, this.#e = /* @__PURE__ */ new Map();
  }
  #e;
  build(e, t3, r4) {
    const n4 = t3.queryKey, o2 = t3.queryHash ?? It(n4, t3);
    let a3 = this.get(o2);
    return a3 || (a3 = new Ce({
      client: e,
      queryKey: n4,
      queryHash: o2,
      options: e.defaultQueryOptions(t3),
      state: r4,
      defaultOptions: e.getQueryDefaults(n4)
    }), this.add(a3)), a3;
  }
  add(e) {
    this.#e.has(e.queryHash) || (this.#e.set(e.queryHash, e), this.notify({
      type: "added",
      query: e
    }));
  }
  remove(e) {
    const t3 = this.#e.get(e.queryHash);
    t3 && (e.destroy(), t3 === e && this.#e.delete(e.queryHash), this.notify({ type: "removed", query: e }));
  }
  clear() {
    J.batch(() => {
      this.getAll().forEach((e) => {
        this.remove(e);
      });
    });
  }
  get(e) {
    return this.#e.get(e);
  }
  getAll() {
    return [...this.#e.values()];
  }
  find(e) {
    const t3 = { exact: true, ...e };
    return this.getAll().find(
      (r4) => Se(t3, r4)
    );
  }
  findAll(e = {}) {
    const t3 = this.getAll();
    return Object.keys(e).length > 0 ? t3.filter((r4) => Se(e, r4)) : t3;
  }
  notify(e) {
    J.batch(() => {
      this.listeners.forEach((t3) => {
        t3(e);
      });
    });
  }
  onFocus() {
    J.batch(() => {
      this.getAll().forEach((e) => {
        e.onFocus();
      });
    });
  }
  onOnline() {
    J.batch(() => {
      this.getAll().forEach((e) => {
        e.onOnline();
      });
    });
  }
};
var vo3 = class extends $ {
  constructor(e = {}) {
    super(), this.config = e, this.#e = /* @__PURE__ */ new Set(), this.#t = /* @__PURE__ */ new Map(), this.#r = 0;
  }
  #e;
  #t;
  #r;
  build(e, t3, r4) {
    const n4 = new DE({
      mutationCache: this,
      mutationId: ++this.#r,
      options: e.defaultMutationOptions(t3),
      state: r4
    });
    return this.add(n4), n4;
  }
  add(e) {
    this.#e.add(e);
    const t3 = ue4(e);
    if (typeof t3 == "string") {
      const r4 = this.#t.get(t3);
      r4 ? r4.push(e) : this.#t.set(t3, [e]);
    }
    this.notify({ type: "added", mutation: e });
  }
  remove(e) {
    if (this.#e.delete(e)) {
      const t3 = ue4(e);
      if (typeof t3 == "string") {
        const r4 = this.#t.get(t3);
        if (r4)
          if (r4.length > 1) {
            const n4 = r4.indexOf(e);
            n4 !== -1 && r4.splice(n4, 1);
          } else r4[0] === e && this.#t.delete(t3);
      }
    }
    this.notify({ type: "removed", mutation: e });
  }
  canRun(e) {
    const t3 = ue4(e);
    if (typeof t3 == "string") {
      const n4 = this.#t.get(t3)?.find(
        (o2) => o2.state.status === "pending"
      );
      return !n4 || n4 === e;
    } else
      return true;
  }
  runNext(e) {
    const t3 = ue4(e);
    return typeof t3 == "string" ? this.#t.get(t3)?.find((n4) => n4 !== e && n4.state.isPaused)?.continue() ?? Promise.resolve() : Promise.resolve();
  }
  clear() {
    J.batch(() => {
      this.#e.forEach((e) => {
        this.notify({ type: "removed", mutation: e });
      }), this.#e.clear(), this.#t.clear();
    });
  }
  getAll() {
    return Array.from(this.#e);
  }
  find(e) {
    const t3 = { exact: true, ...e };
    return this.getAll().find(
      (r4) => we2(t3, r4)
    );
  }
  findAll(e = {}) {
    return this.getAll().filter((t3) => we2(e, t3));
  }
  notify(e) {
    J.batch(() => {
      this.listeners.forEach((t3) => {
        t3(e);
      });
    });
  }
  resumePausedMutations() {
    const e = this.getAll().filter((t3) => t3.state.isPaused);
    return J.batch(
      () => Promise.all(
        e.map((t3) => t3.continue().catch(Q))
      )
    );
  }
};
function ue4(e) {
  return e.options.scope?.id;
}
function st4(e) {
  return {
    onFetch: (t3, r4) => {
      const n4 = t3.options, o2 = t3.fetchOptions?.meta?.fetchMore?.direction, a3 = t3.state.data?.pages || [], i5 = t3.state.data?.pageParams || [];
      let u5 = { pages: [], pageParams: [] }, h3 = 0;
      const f8 = async () => {
        let y4 = false;
        const p3 = (g6) => {
          Object.defineProperty(g6, "signal", {
            enumerable: true,
            get: () => (t3.signal.aborted ? y4 = true : t3.signal.addEventListener("abort", () => {
              y4 = true;
            }), t3.signal)
          });
        }, m3 = Tt(t3.options, t3.fetchOptions), l3 = async (g6, w6, P3) => {
          if (y4)
            return Promise.reject();
          if (w6 == null && g6.pages.length)
            return Promise.resolve(g6);
          const C5 = {
            client: t3.client,
            queryKey: t3.queryKey,
            pageParam: w6,
            direction: P3 ? "backward" : "forward",
            meta: t3.options.meta
          };
          p3(C5);
          const j7 = await m3(
            C5
          ), { maxPages: x8 } = t3.options, b7 = P3 ? Ee : Re;
          return {
            pages: b7(g6.pages, j7, x8),
            pageParams: b7(g6.pageParams, w6, x8)
          };
        };
        if (o2 && a3.length) {
          const g6 = o2 === "backward", w6 = g6 ? yo3 : at, P3 = {
            pages: a3,
            pageParams: i5
          }, C5 = w6(n4, P3);
          u5 = await l3(P3, C5, g6);
        } else {
          const g6 = e ?? a3.length;
          do {
            const w6 = h3 === 0 ? i5[0] ?? n4.initialPageParam : at(n4, u5);
            if (h3 > 0 && w6 == null)
              break;
            u5 = await l3(u5, w6), h3++;
          } while (h3 < g6);
        }
        return u5;
      };
      t3.options.persister ? t3.fetchFn = () => t3.options.persister?.(
        f8,
        {
          client: t3.client,
          queryKey: t3.queryKey,
          meta: t3.options.meta,
          signal: t3.signal
        },
        r4
      ) : t3.fetchFn = f8;
    }
  };
}
function at(e, { pages: t3, pageParams: r4 }) {
  const n4 = t3.length - 1;
  return t3.length > 0 ? e.getNextPageParam(
    t3[n4],
    t3,
    r4[n4],
    r4
  ) : void 0;
}
function yo3(e, { pages: t3, pageParams: r4 }) {
  return t3.length > 0 ? e.getPreviousPageParam?.(t3[0], t3, r4[0], r4) : void 0;
}
var xo3 = class {
  #e;
  #t;
  #r;
  #o;
  #s;
  #n;
  #a;
  #i;
  constructor(e = {}) {
    this.#e = e.queryCache || new go3(), this.#t = e.mutationCache || new vo3(), this.#r = e.defaultOptions || {}, this.#o = /* @__PURE__ */ new Map(), this.#s = /* @__PURE__ */ new Map(), this.#n = 0;
  }
  mount() {
    this.#n++, this.#n === 1 && (this.#a = ct.subscribe(async (e) => {
      e && (await this.resumePausedMutations(), this.#e.onFocus());
    }), this.#i = ht.subscribe(async (e) => {
      e && (await this.resumePausedMutations(), this.#e.onOnline());
    }));
  }
  unmount() {
    this.#n--, this.#n === 0 && (this.#a?.(), this.#a = void 0, this.#i?.(), this.#i = void 0);
  }
  isFetching(e) {
    return this.#e.findAll({ ...e, fetchStatus: "fetching" }).length;
  }
  isMutating(e) {
    return this.#t.findAll({ ...e, status: "pending" }).length;
  }
  /**
   * Imperative (non-reactive) way to retrieve data for a QueryKey.
   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.
   *
   * Hint: Do not use this function inside a component, because it won't receive updates.
   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.
   */
  getQueryData(e) {
    const t3 = this.defaultQueryOptions({ queryKey: e });
    return this.#e.get(t3.queryHash)?.state.data;
  }
  ensureQueryData(e) {
    const t3 = this.defaultQueryOptions(e), r4 = this.#e.build(this, t3), n4 = r4.state.data;
    return n4 === void 0 ? this.fetchQuery(e) : (e.revalidateIfStale && r4.isStaleByTime(A(t3.staleTime, r4)) && this.prefetchQuery(t3), Promise.resolve(n4));
  }
  getQueriesData(e) {
    return this.#e.findAll(e).map(({ queryKey: t3, state: r4 }) => {
      const n4 = r4.data;
      return [t3, n4];
    });
  }
  setQueryData(e, t3, r4) {
    const n4 = this.defaultQueryOptions({ queryKey: e }), a3 = this.#e.get(
      n4.queryHash
    )?.state.data, i5 = be(t3, a3);
    if (i5 !== void 0)
      return this.#e.build(this, n4).setData(i5, { ...r4, manual: true });
  }
  setQueriesData(e, t3, r4) {
    return J.batch(
      () => this.#e.findAll(e).map(({ queryKey: n4 }) => [
        n4,
        this.setQueryData(n4, t3, r4)
      ])
    );
  }
  getQueryState(e) {
    const t3 = this.defaultQueryOptions({ queryKey: e });
    return this.#e.get(
      t3.queryHash
    )?.state;
  }
  removeQueries(e) {
    const t3 = this.#e;
    J.batch(() => {
      t3.findAll(e).forEach((r4) => {
        t3.remove(r4);
      });
    });
  }
  resetQueries(e, t3) {
    const r4 = this.#e;
    return J.batch(() => (r4.findAll(e).forEach((n4) => {
      n4.reset();
    }), this.refetchQueries(
      {
        type: "active",
        ...e
      },
      t3
    )));
  }
  cancelQueries(e, t3 = {}) {
    const r4 = { revert: true, ...t3 }, n4 = J.batch(
      () => this.#e.findAll(e).map((o2) => o2.cancel(r4))
    );
    return Promise.all(n4).then(Q).catch(Q);
  }
  invalidateQueries(e, t3 = {}) {
    return J.batch(() => (this.#e.findAll(e).forEach((r4) => {
      r4.invalidate();
    }), e?.refetchType === "none" ? Promise.resolve() : this.refetchQueries(
      {
        ...e,
        type: e?.refetchType ?? e?.type ?? "active"
      },
      t3
    )));
  }
  refetchQueries(e, t3 = {}) {
    const r4 = {
      ...t3,
      cancelRefetch: t3.cancelRefetch ?? true
    }, n4 = J.batch(
      () => this.#e.findAll(e).filter((o2) => !o2.isDisabled()).map((o2) => {
        let a3 = o2.fetch(void 0, r4);
        return r4.throwOnError || (a3 = a3.catch(Q)), o2.state.fetchStatus === "paused" ? Promise.resolve() : a3;
      })
    );
    return Promise.all(n4).then(Q);
  }
  fetchQuery(e) {
    const t3 = this.defaultQueryOptions(e);
    t3.retry === void 0 && (t3.retry = false);
    const r4 = this.#e.build(this, t3);
    return r4.isStaleByTime(
      A(t3.staleTime, r4)
    ) ? r4.fetch(t3) : Promise.resolve(r4.state.data);
  }
  prefetchQuery(e) {
    return this.fetchQuery(e).then(Q).catch(Q);
  }
  fetchInfiniteQuery(e) {
    return e.behavior = st4(e.pages), this.fetchQuery(e);
  }
  prefetchInfiniteQuery(e) {
    return this.fetchInfiniteQuery(e).then(Q).catch(Q);
  }
  ensureInfiniteQueryData(e) {
    return e.behavior = st4(e.pages), this.ensureQueryData(e);
  }
  resumePausedMutations() {
    return ht.isOnline() ? this.#t.resumePausedMutations() : Promise.resolve();
  }
  getQueryCache() {
    return this.#e;
  }
  getMutationCache() {
    return this.#t;
  }
  getDefaultOptions() {
    return this.#r;
  }
  setDefaultOptions(e) {
    this.#r = e;
  }
  setQueryDefaults(e, t3) {
    this.#o.set(L(e), {
      queryKey: e,
      defaultOptions: t3
    });
  }
  getQueryDefaults(e) {
    const t3 = [...this.#o.values()], r4 = {};
    return t3.forEach((n4) => {
      V(e, n4.queryKey) && Object.assign(r4, n4.defaultOptions);
    }), r4;
  }
  setMutationDefaults(e, t3) {
    this.#s.set(L(e), {
      mutationKey: e,
      defaultOptions: t3
    });
  }
  getMutationDefaults(e) {
    const t3 = [...this.#s.values()], r4 = {};
    return t3.forEach((n4) => {
      V(e, n4.mutationKey) && Object.assign(r4, n4.defaultOptions);
    }), r4;
  }
  defaultQueryOptions(e) {
    if (e._defaulted)
      return e;
    const t3 = {
      ...this.#r.queries,
      ...this.getQueryDefaults(e.queryKey),
      ...e,
      _defaulted: true
    };
    return t3.queryHash || (t3.queryHash = It(
      t3.queryKey,
      t3
    )), t3.refetchOnReconnect === void 0 && (t3.refetchOnReconnect = t3.networkMode !== "always"), t3.throwOnError === void 0 && (t3.throwOnError = !!t3.suspense), !t3.networkMode && t3.persister && (t3.networkMode = "offlineFirst"), t3.queryFn === k && (t3.enabled = false), t3;
  }
  defaultMutationOptions(e) {
    return e?._defaulted ? e : {
      ...this.#r.mutations,
      ...e?.mutationKey && this.getMutationDefaults(e.mutationKey),
      ...e,
      _defaulted: true
    };
  }
  clear() {
    this.#e.clear(), this.#t.clear();
  }
};
function _o3(e) {
  return e;
}
function it2(e, t3, r4) {
  if (typeof t3 != "object" || t3 === null)
    return;
  const n4 = e.getMutationCache(), o2 = e.getQueryCache(), a3 = r4?.defaultOptions?.deserializeData ?? e.getDefaultOptions().hydrate?.deserializeData ?? _o3, i5 = t3.mutations || [], u5 = t3.queries || [];
  i5.forEach(({ state: h3, ...f8 }) => {
    n4.build(
      e,
      {
        ...e.getDefaultOptions().hydrate?.mutations,
        ...r4?.defaultOptions?.mutations,
        ...f8
      },
      h3
    );
  }), u5.forEach(({ queryKey: h3, state: f8, queryHash: y4, meta: p3, promise: m3 }) => {
    let l3 = o2.get(y4);
    const g6 = f8.data === void 0 ? f8.data : a3(f8.data);
    if (l3) {
      if (l3.state.dataUpdatedAt < f8.dataUpdatedAt) {
        const { fetchStatus: w6, ...P3 } = f8;
        l3.setState({
          ...P3,
          data: g6
        });
      }
    } else
      l3 = o2.build(
        e,
        {
          ...e.getDefaultOptions().hydrate?.queries,
          ...r4?.defaultOptions?.queries,
          queryKey: h3,
          queryHash: y4,
          meta: p3
        },
        // Reset fetch status to idle to avoid
        // query being stuck in fetching state upon hydration
        {
          ...f8,
          data: g6,
          fetchStatus: "idle"
        }
      );
    if (m3) {
      const w6 = Promise.resolve(m3).then(a3);
      l3.fetch(void 0, { initialPromise: w6 });
    }
  });
}
var ct4 = (e, t3) => typeof e == "object" && e !== null && t3 in e;
var bo3 = ({
  children: e,
  options: t3 = {},
  state: r4,
  queryClient: n4
}) => {
  const o2 = vt(n4), [a3, i5] = Q5.useState(), u5 = Q5.useRef(t3);
  return u5.current = t3, Q5.useMemo(() => {
    if (r4) {
      if (typeof r4 != "object")
        return;
      const h3 = o2.getQueryCache(), f8 = r4.queries || [], y4 = [], p3 = [];
      for (const m3 of f8) {
        const l3 = h3.get(m3.queryHash);
        if (!l3)
          y4.push(m3);
        else {
          const g6 = m3.state.dataUpdatedAt > l3.state.dataUpdatedAt || // RSC special serialized then-able chunks
          ct4(m3.promise, "status") && ct4(l3.promise, "status") && m3.promise.status !== l3.promise.status, w6 = a3?.find(
            (P3) => P3.queryHash === m3.queryHash
          );
          g6 && (!w6 || m3.state.dataUpdatedAt > w6.state.dataUpdatedAt) && p3.push(m3);
        }
      }
      y4.length > 0 && it2(o2, { queries: y4 }, u5.current), p3.length > 0 && i5(
        (m3) => m3 ? [...m3, ...p3] : p3
      );
    }
  }, [o2, a3, r4]), Q5.useEffect(() => {
    a3 && (it2(o2, { queries: a3 }, u5.current), i5(void 0));
  }, [o2, a3]), e;
};
function wo3({ error: e }) {
  return ae.jsx(hE, { error: e });
}
function jo3(e) {
  return Q5.createElement(cr, { flushSync: Mn3.flushSync, ...e });
}
var Ze5 = (0, import_react9.createContext)({ stagger: false });
var ko3 = new xo3({
  defaultOptions: {
    queries: {
      staleTime: 1e3 * 60 * 5
    }
  }
});
var $o3 = ({
  router: e,
  hydrate: t3 = false
}) => ae.jsx(import_react9.StrictMode, { children: ae.jsx(Fe, { client: ko3, children: ae.jsx(bo3, { state: t3 ? window.DATA : void 0, children: ae.jsx(Ge, { value: false, children: ae.jsx(Ne2, { children: ae.jsx(Ze5.Provider, { value: { stagger: !t3 }, children: ae.jsx(jo3, { router: e }) }) }) }) }) }) });
var zo3 = ({
  router: e,
  context: t3,
  queryClient: r4,
  helmetContext: n4,
  bypassProtection: o2 = false
}) => ae.jsx(import_react9.StrictMode, { children: ae.jsx(Fe, { client: r4, children: ae.jsx(Ne2, { context: n4, children: ae.jsx(Ge, { value: o2, children: ae.jsx(mr, { router: e, context: t3 }) }) }) }) });
function c5(e, t3, r4) {
  function n4(u5, h3) {
    var f8;
    Object.defineProperty(u5, "_zod", {
      value: u5._zod ?? {},
      enumerable: false
    }), (f8 = u5._zod).traits ?? (f8.traits = /* @__PURE__ */ new Set()), u5._zod.traits.add(e), t3(u5, h3);
    for (const y4 in i5.prototype)
      y4 in u5 || Object.defineProperty(u5, y4, { value: i5.prototype[y4].bind(u5) });
    u5._zod.constr = i5, u5._zod.def = h3;
  }
  const o2 = r4?.Parent ?? Object;
  class a3 extends o2 {
  }
  Object.defineProperty(a3, "name", { value: e });
  function i5(u5) {
    var h3;
    const f8 = r4?.Parent ? new a3() : this;
    n4(f8, u5), (h3 = f8._zod).deferred ?? (h3.deferred = []);
    for (const y4 of f8._zod.deferred)
      y4();
    return f8;
  }
  return Object.defineProperty(i5, "init", { value: n4 }), Object.defineProperty(i5, Symbol.hasInstance, {
    value: (u5) => r4?.Parent && u5 instanceof r4.Parent ? true : u5?._zod?.traits?.has(e)
  }), Object.defineProperty(i5, "name", { value: e }), i5;
}
var se3 = class extends Error {
  constructor() {
    super("Encountered Promise during synchronous parse. Use .parseAsync() instead.");
  }
};
var rr3 = {};
function V6(e) {
  return rr3;
}
function Po3(e) {
  const t3 = Object.values(e).filter((n4) => typeof n4 == "number");
  return Object.entries(e).filter(([n4, o2]) => t3.indexOf(+n4) === -1).map(([n4, o2]) => o2);
}
function Eo3(e, t3) {
  return typeof t3 == "bigint" ? t3.toString() : t3;
}
function nr3(e) {
  return {
    get value() {
      {
        const t3 = e();
        return Object.defineProperty(this, "value", { value: t3 }), t3;
      }
    }
  };
}
function qe5(e) {
  return e == null;
}
function Ue4(e) {
  const t3 = e.startsWith("^") ? 1 : 0, r4 = e.endsWith("$") ? e.length - 1 : e.length;
  return e.slice(t3, r4);
}
function S3(e, t3, r4) {
  Object.defineProperty(e, t3, {
    get() {
      {
        const n4 = r4();
        return e[t3] = n4, n4;
      }
    },
    set(n4) {
      Object.defineProperty(e, t3, {
        value: n4
        // configurable: true,
      });
    },
    configurable: true
  });
}
function Le4(e, t3, r4) {
  Object.defineProperty(e, t3, {
    value: r4,
    writable: true,
    enumerable: true,
    configurable: true
  });
}
function or2(e = 10) {
  const t3 = "abcdefghijklmnopqrstuvwxyz";
  let r4 = "";
  for (let n4 = 0; n4 < e; n4++)
    r4 += t3[Math.floor(Math.random() * t3.length)];
  return r4;
}
function re5(e) {
  return JSON.stringify(e);
}
var sr4 = Error.captureStackTrace ? Error.captureStackTrace : (...e) => {
};
function Ce5(e) {
  return typeof e == "object" && e !== null && !Array.isArray(e);
}
var So3 = nr3(() => {
  if (typeof navigator < "u" && navigator?.userAgent?.includes("Cloudflare"))
    return false;
  try {
    const e = Function;
    return new e(""), true;
  } catch {
    return false;
  }
});
function ut3(e) {
  if (Ce5(e) === false)
    return false;
  const t3 = e.constructor;
  if (t3 === void 0)
    return true;
  const r4 = t3.prototype;
  return !(Ce5(r4) === false || Object.prototype.hasOwnProperty.call(r4, "isPrototypeOf") === false);
}
var Zo3 = /* @__PURE__ */ new Set(["string", "number", "symbol"]);
function _e4(e) {
  return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function J6(e, t3, r4) {
  const n4 = new e._zod.constr(t3 ?? e._zod.def);
  return (!t3 || r4?.parent) && (n4._zod.parent = e), n4;
}
function _4(e) {
  const t3 = e;
  if (!t3)
    return {};
  if (typeof t3 == "string")
    return { error: () => t3 };
  if (t3?.message !== void 0) {
    if (t3?.error !== void 0)
      throw new Error("Cannot specify both `message` and `error` params");
    t3.error = t3.message;
  }
  return delete t3.message, typeof t3.error == "string" ? { ...t3, error: () => t3.error } : t3;
}
function Co3(e) {
  return Object.keys(e).filter((t3) => e[t3]._zod.optin === "optional" && e[t3]._zod.optout === "optional");
}
function To3(e, t3) {
  const r4 = {}, n4 = e._zod.def;
  for (const o2 in t3) {
    if (!(o2 in n4.shape))
      throw new Error(`Unrecognized key: "${o2}"`);
    t3[o2] && (r4[o2] = n4.shape[o2]);
  }
  return J6(e, {
    ...e._zod.def,
    shape: r4,
    checks: []
  });
}
function Oo3(e, t3) {
  const r4 = { ...e._zod.def.shape }, n4 = e._zod.def;
  for (const o2 in t3) {
    if (!(o2 in n4.shape))
      throw new Error(`Unrecognized key: "${o2}"`);
    t3[o2] && delete r4[o2];
  }
  return J6(e, {
    ...e._zod.def,
    shape: r4,
    checks: []
  });
}
function No3(e, t3) {
  const r4 = {
    ...e._zod.def,
    get shape() {
      const n4 = { ...e._zod.def.shape, ...t3 };
      return Le4(this, "shape", n4), n4;
    },
    checks: []
    // delete existing checks
  };
  return J6(e, r4);
}
function Ao3(e, t3) {
  return J6(e, {
    ...e._zod.def,
    get shape() {
      const r4 = { ...e._zod.def.shape, ...t3._zod.def.shape };
      return Le4(this, "shape", r4), r4;
    },
    catchall: t3._zod.def.catchall,
    checks: []
    // delete existing checks
  });
}
function Io3(e, t3, r4) {
  const n4 = t3._zod.def.shape, o2 = { ...n4 };
  if (r4)
    for (const a3 in r4) {
      if (!(a3 in n4))
        throw new Error(`Unrecognized key: "${a3}"`);
      r4[a3] && (o2[a3] = e ? new e({
        type: "optional",
        innerType: n4[a3]
      }) : n4[a3]);
    }
  else
    for (const a3 in n4)
      o2[a3] = e ? new e({
        type: "optional",
        innerType: n4[a3]
      }) : n4[a3];
  return J6(t3, {
    ...t3._zod.def,
    shape: o2,
    checks: []
  });
}
function Ro3(e, t3, r4) {
  const n4 = t3._zod.def.shape, o2 = { ...n4 };
  if (r4)
    for (const a3 in r4) {
      if (!(a3 in o2))
        throw new Error(`Unrecognized key: "${a3}"`);
      r4[a3] && (o2[a3] = new e({
        type: "nonoptional",
        innerType: n4[a3]
      }));
    }
  else
    for (const a3 in n4)
      o2[a3] = new e({
        type: "nonoptional",
        innerType: n4[a3]
      });
  return J6(t3, {
    ...t3._zod.def,
    shape: o2,
    // optional: [],
    checks: []
  });
}
function ne5(e, t3 = 0) {
  for (let r4 = t3; r4 < e.issues.length; r4++)
    if (e.issues[r4].continue !== true)
      return true;
  return false;
}
function Qe5(e, t3) {
  return t3.map((r4) => {
    var n4;
    return (n4 = r4).path ?? (n4.path = []), r4.path.unshift(e), r4;
  });
}
function le3(e) {
  return typeof e == "string" ? e : e?.message;
}
function Y4(e, t3, r4) {
  const n4 = { ...e, path: e.path ?? [] };
  if (!e.message) {
    const o2 = le3(e.inst?._zod.def?.error?.(e)) ?? le3(t3?.error?.(e)) ?? le3(r4.customError?.(e)) ?? le3(r4.localeError?.(e)) ?? "Invalid input";
    n4.message = o2;
  }
  return delete n4.inst, delete n4.continue, t3?.reportInput || delete n4.input, n4;
}
function Be5(e) {
  return Array.isArray(e) ? "array" : typeof e == "string" ? "string" : "unknown";
}
function ae5(...e) {
  const [t3, r4, n4] = e;
  return typeof t3 == "string" ? {
    message: t3,
    code: "custom",
    input: r4,
    inst: n4
  } : { ...t3 };
}
var ar3 = (e, t3) => {
  e.name = "$ZodError", Object.defineProperty(e, "_zod", {
    value: e._zod,
    enumerable: false
  }), Object.defineProperty(e, "issues", {
    value: t3,
    enumerable: false
  }), Object.defineProperty(e, "message", {
    get() {
      return JSON.stringify(t3, Eo3, 2);
    },
    enumerable: true
    // configurable: false,
  });
};
var ir3 = c5("$ZodError", ar3);
var cr3 = c5("$ZodError", ar3, { Parent: Error });
function Do3(e, t3 = (r4) => r4.message) {
  const r4 = {}, n4 = [];
  for (const o2 of e.issues)
    o2.path.length > 0 ? (r4[o2.path[0]] = r4[o2.path[0]] || [], r4[o2.path[0]].push(t3(o2))) : n4.push(t3(o2));
  return { formErrors: n4, fieldErrors: r4 };
}
function Mo3(e, t3) {
  const r4 = t3 || function(a3) {
    return a3.message;
  }, n4 = { _errors: [] }, o2 = (a3) => {
    for (const i5 of a3.issues)
      if (i5.code === "invalid_union" && i5.errors.length)
        i5.errors.map((u5) => o2({ issues: u5 }));
      else if (i5.code === "invalid_key")
        o2({ issues: i5.issues });
      else if (i5.code === "invalid_element")
        o2({ issues: i5.issues });
      else if (i5.path.length === 0)
        n4._errors.push(r4(i5));
      else {
        let u5 = n4, h3 = 0;
        for (; h3 < i5.path.length; ) {
          const f8 = i5.path[h3];
          h3 === i5.path.length - 1 ? (u5[f8] = u5[f8] || { _errors: [] }, u5[f8]._errors.push(r4(i5))) : u5[f8] = u5[f8] || { _errors: [] }, u5 = u5[f8], h3++;
        }
      }
  };
  return o2(e), n4;
}
var Fo3 = (e) => (t3, r4, n4, o2) => {
  const a3 = n4 ? Object.assign(n4, { async: false }) : { async: false }, i5 = t3._zod.run({ value: r4, issues: [] }, a3);
  if (i5 instanceof Promise)
    throw new se3();
  if (i5.issues.length) {
    const u5 = new (o2?.Err ?? e)(i5.issues.map((h3) => Y4(h3, a3, V6())));
    throw sr4(u5, o2?.callee), u5;
  }
  return i5.value;
};
var qo3 = (e) => async (t3, r4, n4, o2) => {
  const a3 = n4 ? Object.assign(n4, { async: true }) : { async: true };
  let i5 = t3._zod.run({ value: r4, issues: [] }, a3);
  if (i5 instanceof Promise && (i5 = await i5), i5.issues.length) {
    const u5 = new (o2?.Err ?? e)(i5.issues.map((h3) => Y4(h3, a3, V6())));
    throw sr4(u5, o2?.callee), u5;
  }
  return i5.value;
};
var ur4 = (e) => (t3, r4, n4) => {
  const o2 = n4 ? { ...n4, async: false } : { async: false }, a3 = t3._zod.run({ value: r4, issues: [] }, o2);
  if (a3 instanceof Promise)
    throw new se3();
  return a3.issues.length ? {
    success: false,
    error: new (e ?? ir3)(a3.issues.map((i5) => Y4(i5, o2, V6())))
  } : { success: true, data: a3.value };
};
var Uo3 = ur4(cr3);
var lr4 = (e) => async (t3, r4, n4) => {
  const o2 = n4 ? Object.assign(n4, { async: true }) : { async: true };
  let a3 = t3._zod.run({ value: r4, issues: [] }, o2);
  return a3 instanceof Promise && (a3 = await a3), a3.issues.length ? {
    success: false,
    error: new e(a3.issues.map((i5) => Y4(i5, o2, V6())))
  } : { success: true, data: a3.value };
};
var Lo3 = lr4(cr3);
var Qo3 = /^[cC][^\s-]{8,}$/;
var Bo3 = /^[0-9a-z]+$/;
var Ho3 = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;
var Ko3 = /^[0-9a-vA-V]{20}$/;
var Wo3 = /^[A-Za-z0-9]{27}$/;
var Vo3 = /^[a-zA-Z0-9_-]{21}$/;
var Yo3 = /^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;
var Go3 = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;
var lt3 = (e) => e ? new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`) : /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/;
var Jo3 = /^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;
var Xo3 = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
function es3() {
  return new RegExp(Xo3, "u");
}
var ts3 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
var rs3 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/;
var ns3 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/;
var os2 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
var ss2 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;
var dr4 = /^[A-Za-z0-9_-]*$/;
var as2 = /^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/;
var is2 = /^\+(?:[0-9]){6,14}[0-9]$/;
var fr3 = "(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))";
var cs = new RegExp(`^${fr3}$`);
function hr4(e) {
  const t3 = "(?:[01]\\d|2[0-3]):[0-5]\\d";
  return typeof e.precision == "number" ? e.precision === -1 ? `${t3}` : e.precision === 0 ? `${t3}:[0-5]\\d` : `${t3}:[0-5]\\d\\.\\d{${e.precision}}` : `${t3}(?::[0-5]\\d(?:\\.\\d+)?)?`;
}
function us2(e) {
  return new RegExp(`^${hr4(e)}$`);
}
function ls(e) {
  const t3 = hr4({ precision: e.precision }), r4 = ["Z"];
  e.local && r4.push(""), e.offset && r4.push("([+-]\\d{2}:\\d{2})");
  const n4 = `${t3}(?:${r4.join("|")})`;
  return new RegExp(`^${fr3}T(?:${n4})$`);
}
var ds2 = (e) => {
  const t3 = e ? `[\\s\\S]{${e?.minimum ?? 0},${e?.maximum ?? ""}}` : "[\\s\\S]*";
  return new RegExp(`^${t3}$`);
};
var fs2 = /^[^A-Z]*$/;
var hs2 = /^[^a-z]*$/;
var U3 = c5("$ZodCheck", (e, t3) => {
  var r4;
  e._zod ?? (e._zod = {}), e._zod.def = t3, (r4 = e._zod).onattach ?? (r4.onattach = []);
});
var ps2 = c5("$ZodCheckMaxLength", (e, t3) => {
  U3.init(e, t3), e._zod.when = (r4) => {
    const n4 = r4.value;
    return !qe5(n4) && n4.length !== void 0;
  }, e._zod.onattach.push((r4) => {
    const n4 = r4._zod.bag.maximum ?? Number.POSITIVE_INFINITY;
    t3.maximum < n4 && (r4._zod.bag.maximum = t3.maximum);
  }), e._zod.check = (r4) => {
    const n4 = r4.value;
    if (n4.length <= t3.maximum)
      return;
    const a3 = Be5(n4);
    r4.issues.push({
      origin: a3,
      code: "too_big",
      maximum: t3.maximum,
      inclusive: true,
      input: n4,
      inst: e,
      continue: !t3.abort
    });
  };
});
var ms2 = c5("$ZodCheckMinLength", (e, t3) => {
  U3.init(e, t3), e._zod.when = (r4) => {
    const n4 = r4.value;
    return !qe5(n4) && n4.length !== void 0;
  }, e._zod.onattach.push((r4) => {
    const n4 = r4._zod.bag.minimum ?? Number.NEGATIVE_INFINITY;
    t3.minimum > n4 && (r4._zod.bag.minimum = t3.minimum);
  }), e._zod.check = (r4) => {
    const n4 = r4.value;
    if (n4.length >= t3.minimum)
      return;
    const a3 = Be5(n4);
    r4.issues.push({
      origin: a3,
      code: "too_small",
      minimum: t3.minimum,
      inclusive: true,
      input: n4,
      inst: e,
      continue: !t3.abort
    });
  };
});
var gs2 = c5("$ZodCheckLengthEquals", (e, t3) => {
  U3.init(e, t3), e._zod.when = (r4) => {
    const n4 = r4.value;
    return !qe5(n4) && n4.length !== void 0;
  }, e._zod.onattach.push((r4) => {
    const n4 = r4._zod.bag;
    n4.minimum = t3.length, n4.maximum = t3.length, n4.length = t3.length;
  }), e._zod.check = (r4) => {
    const n4 = r4.value, o2 = n4.length;
    if (o2 === t3.length)
      return;
    const a3 = Be5(n4), i5 = o2 > t3.length;
    r4.issues.push({
      origin: a3,
      ...i5 ? { code: "too_big", maximum: t3.length } : { code: "too_small", minimum: t3.length },
      input: r4.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
var be6 = c5("$ZodCheckStringFormat", (e, t3) => {
  var r4;
  U3.init(e, t3), e._zod.onattach.push((n4) => {
    const o2 = n4._zod.bag;
    o2.format = t3.format, t3.pattern && (o2.patterns ?? (o2.patterns = /* @__PURE__ */ new Set()), o2.patterns.add(t3.pattern));
  }), (r4 = e._zod).check ?? (r4.check = (n4) => {
    if (!t3.pattern)
      throw new Error("Not implemented.");
    t3.pattern.lastIndex = 0, !t3.pattern.test(n4.value) && n4.issues.push({
      origin: "string",
      code: "invalid_format",
      format: t3.format,
      input: n4.value,
      ...t3.pattern ? { pattern: t3.pattern.toString() } : {},
      inst: e,
      continue: !t3.abort
    });
  });
});
var vs2 = c5("$ZodCheckRegex", (e, t3) => {
  be6.init(e, t3), e._zod.check = (r4) => {
    t3.pattern.lastIndex = 0, !t3.pattern.test(r4.value) && r4.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "regex",
      input: r4.value,
      pattern: t3.pattern.toString(),
      inst: e,
      continue: !t3.abort
    });
  };
});
var ys2 = c5("$ZodCheckLowerCase", (e, t3) => {
  t3.pattern ?? (t3.pattern = fs2), be6.init(e, t3);
});
var xs2 = c5("$ZodCheckUpperCase", (e, t3) => {
  t3.pattern ?? (t3.pattern = hs2), be6.init(e, t3);
});
var _s2 = c5("$ZodCheckIncludes", (e, t3) => {
  U3.init(e, t3);
  const r4 = _e4(t3.includes), n4 = new RegExp(typeof t3.position == "number" ? `^.{${t3.position}}${r4}` : r4);
  t3.pattern = n4, e._zod.onattach.push((o2) => {
    const a3 = o2._zod.bag;
    a3.patterns ?? (a3.patterns = /* @__PURE__ */ new Set()), a3.patterns.add(n4);
  }), e._zod.check = (o2) => {
    o2.value.includes(t3.includes, t3.position) || o2.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "includes",
      includes: t3.includes,
      input: o2.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
var bs2 = c5("$ZodCheckStartsWith", (e, t3) => {
  U3.init(e, t3);
  const r4 = new RegExp(`^${_e4(t3.prefix)}.*`);
  t3.pattern ?? (t3.pattern = r4), e._zod.onattach.push((n4) => {
    const o2 = n4._zod.bag;
    o2.patterns ?? (o2.patterns = /* @__PURE__ */ new Set()), o2.patterns.add(r4);
  }), e._zod.check = (n4) => {
    n4.value.startsWith(t3.prefix) || n4.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "starts_with",
      prefix: t3.prefix,
      input: n4.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
var ws2 = c5("$ZodCheckEndsWith", (e, t3) => {
  U3.init(e, t3);
  const r4 = new RegExp(`.*${_e4(t3.suffix)}$`);
  t3.pattern ?? (t3.pattern = r4), e._zod.onattach.push((n4) => {
    const o2 = n4._zod.bag;
    o2.patterns ?? (o2.patterns = /* @__PURE__ */ new Set()), o2.patterns.add(r4);
  }), e._zod.check = (n4) => {
    n4.value.endsWith(t3.suffix) || n4.issues.push({
      origin: "string",
      code: "invalid_format",
      format: "ends_with",
      suffix: t3.suffix,
      input: n4.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
var js2 = c5("$ZodCheckOverwrite", (e, t3) => {
  U3.init(e, t3), e._zod.check = (r4) => {
    r4.value = t3.tx(r4.value);
  };
});
var ks2 = class {
  constructor(t3 = []) {
    this.content = [], this.indent = 0, this && (this.args = t3);
  }
  indented(t3) {
    this.indent += 1, t3(this), this.indent -= 1;
  }
  write(t3) {
    if (typeof t3 == "function") {
      t3(this, { execution: "sync" }), t3(this, { execution: "async" });
      return;
    }
    const n4 = t3.split(`
`).filter((i5) => i5), o2 = Math.min(...n4.map((i5) => i5.length - i5.trimStart().length)), a3 = n4.map((i5) => i5.slice(o2)).map((i5) => " ".repeat(this.indent * 2) + i5);
    for (const i5 of a3)
      this.content.push(i5);
  }
  compile() {
    const t3 = Function, r4 = this?.args, o2 = [...(this?.content ?? [""]).map((a3) => `  ${a3}`)];
    return new t3(...r4, o2.join(`
`));
  }
};
var $s2 = {
  major: 4,
  minor: 0,
  patch: 0
};
var T5 = c5("$ZodType", (e, t3) => {
  var r4;
  e ?? (e = {}), S3(e._zod, "id", () => t3.type + "_" + or2(10)), e._zod.def = t3, e._zod.bag = e._zod.bag || {}, e._zod.version = $s2;
  const n4 = [...e._zod.def.checks ?? []];
  e._zod.traits.has("$ZodCheck") && n4.unshift(e);
  for (const o2 of n4)
    for (const a3 of o2._zod.onattach)
      a3(e);
  if (n4.length === 0)
    (r4 = e._zod).deferred ?? (r4.deferred = []), e._zod.deferred?.push(() => {
      e._zod.run = e._zod.parse;
    });
  else {
    const o2 = (a3, i5, u5) => {
      let h3 = ne5(a3), f8;
      for (const y4 of i5) {
        if (y4._zod.when) {
          if (!y4._zod.when(a3))
            continue;
        } else if (h3)
          continue;
        const p3 = a3.issues.length, m3 = y4._zod.check(a3);
        if (m3 instanceof Promise && u5?.async === false)
          throw new se3();
        if (f8 || m3 instanceof Promise)
          f8 = (f8 ?? Promise.resolve()).then(async () => {
            await m3, a3.issues.length !== p3 && (h3 || (h3 = ne5(a3, p3)));
          });
        else {
          if (a3.issues.length === p3)
            continue;
          h3 || (h3 = ne5(a3, p3));
        }
      }
      return f8 ? f8.then(() => a3) : a3;
    };
    e._zod.run = (a3, i5) => {
      const u5 = e._zod.parse(a3, i5);
      if (u5 instanceof Promise) {
        if (i5.async === false)
          throw new se3();
        return u5.then((h3) => o2(h3, n4, i5));
      }
      return o2(u5, n4, i5);
    };
  }
  e["~standard"] = {
    validate: (o2) => {
      try {
        const a3 = Uo3(e, o2);
        return a3.success ? { value: a3.data } : { issues: a3.error?.issues };
      } catch {
        return Lo3(e, o2).then((i5) => i5.success ? { value: i5.data } : { issues: i5.error?.issues });
      }
    },
    vendor: "zod",
    version: 1
  };
});
var He5 = c5("$ZodString", (e, t3) => {
  T5.init(e, t3), e._zod.pattern = [...e?._zod.bag?.patterns ?? []].pop() ?? ds2(e._zod.bag), e._zod.parse = (r4, n4) => {
    if (t3.coerce)
      try {
        r4.value = String(r4.value);
      } catch {
      }
    return typeof r4.value == "string" || r4.issues.push({
      expected: "string",
      code: "invalid_type",
      input: r4.value,
      inst: e
    }), r4;
  };
});
var E4 = c5("$ZodStringFormat", (e, t3) => {
  be6.init(e, t3), He5.init(e, t3);
});
var zs2 = c5("$ZodGUID", (e, t3) => {
  t3.pattern ?? (t3.pattern = Go3), E4.init(e, t3);
});
var Ps2 = c5("$ZodUUID", (e, t3) => {
  if (t3.version) {
    const n4 = {
      v1: 1,
      v2: 2,
      v3: 3,
      v4: 4,
      v5: 5,
      v6: 6,
      v7: 7,
      v8: 8
    }[t3.version];
    if (n4 === void 0)
      throw new Error(`Invalid UUID version: "${t3.version}"`);
    t3.pattern ?? (t3.pattern = lt3(n4));
  } else
    t3.pattern ?? (t3.pattern = lt3());
  E4.init(e, t3);
});
var Es2 = c5("$ZodEmail", (e, t3) => {
  t3.pattern ?? (t3.pattern = Jo3), E4.init(e, t3);
});
var Ss2 = c5("$ZodURL", (e, t3) => {
  E4.init(e, t3), e._zod.check = (r4) => {
    try {
      const n4 = new URL(r4.value);
      t3.hostname && (t3.hostname.lastIndex = 0, t3.hostname.test(n4.hostname) || r4.issues.push({
        code: "invalid_format",
        format: "url",
        note: "Invalid hostname",
        pattern: as2.source,
        input: r4.value,
        inst: e,
        continue: !t3.abort
      })), t3.protocol && (t3.protocol.lastIndex = 0, t3.protocol.test(n4.protocol.endsWith(":") ? n4.protocol.slice(0, -1) : n4.protocol) || r4.issues.push({
        code: "invalid_format",
        format: "url",
        note: "Invalid protocol",
        pattern: t3.protocol.source,
        input: r4.value,
        inst: e,
        continue: !t3.abort
      }));
      return;
    } catch {
      r4.issues.push({
        code: "invalid_format",
        format: "url",
        input: r4.value,
        inst: e,
        continue: !t3.abort
      });
    }
  };
});
var Zs2 = c5("$ZodEmoji", (e, t3) => {
  t3.pattern ?? (t3.pattern = es3()), E4.init(e, t3);
});
var Cs2 = c5("$ZodNanoID", (e, t3) => {
  t3.pattern ?? (t3.pattern = Vo3), E4.init(e, t3);
});
var Ts2 = c5("$ZodCUID", (e, t3) => {
  t3.pattern ?? (t3.pattern = Qo3), E4.init(e, t3);
});
var Os2 = c5("$ZodCUID2", (e, t3) => {
  t3.pattern ?? (t3.pattern = Bo3), E4.init(e, t3);
});
var Ns2 = c5("$ZodULID", (e, t3) => {
  t3.pattern ?? (t3.pattern = Ho3), E4.init(e, t3);
});
var As2 = c5("$ZodXID", (e, t3) => {
  t3.pattern ?? (t3.pattern = Ko3), E4.init(e, t3);
});
var Is2 = c5("$ZodKSUID", (e, t3) => {
  t3.pattern ?? (t3.pattern = Wo3), E4.init(e, t3);
});
var Rs2 = c5("$ZodISODateTime", (e, t3) => {
  t3.pattern ?? (t3.pattern = ls(t3)), E4.init(e, t3), e._zod.check;
});
var Ds2 = c5("$ZodISODate", (e, t3) => {
  t3.pattern ?? (t3.pattern = cs), E4.init(e, t3);
});
var Ms3 = c5("$ZodISOTime", (e, t3) => {
  t3.pattern ?? (t3.pattern = us2(t3)), E4.init(e, t3), e._zod.check;
});
var Fs2 = c5("$ZodISODuration", (e, t3) => {
  t3.pattern ?? (t3.pattern = Yo3), E4.init(e, t3);
});
var qs2 = c5("$ZodIPv4", (e, t3) => {
  t3.pattern ?? (t3.pattern = ts3), E4.init(e, t3), e._zod.onattach.push((r4) => {
    const n4 = r4._zod.bag;
    n4.format = "ipv4";
  });
});
var Us2 = c5("$ZodIPv6", (e, t3) => {
  t3.pattern ?? (t3.pattern = rs3), E4.init(e, t3), e._zod.onattach.push((r4) => {
    const n4 = r4._zod.bag;
    n4.format = "ipv6";
  }), e._zod.check = (r4) => {
    try {
      new URL(`http://[${r4.value}]`);
    } catch {
      r4.issues.push({
        code: "invalid_format",
        format: "ipv6",
        input: r4.value,
        inst: e,
        continue: !t3.abort
      });
    }
  };
});
var Ls2 = c5("$ZodCIDRv4", (e, t3) => {
  t3.pattern ?? (t3.pattern = ns3), E4.init(e, t3);
});
var Qs2 = c5("$ZodCIDRv6", (e, t3) => {
  t3.pattern ?? (t3.pattern = os2), E4.init(e, t3), e._zod.check = (r4) => {
    const [n4, o2] = r4.value.split("/");
    try {
      if (!o2)
        throw new Error();
      const a3 = Number(o2);
      if (`${a3}` !== o2)
        throw new Error();
      if (a3 < 0 || a3 > 128)
        throw new Error();
      new URL(`http://[${n4}]`);
    } catch {
      r4.issues.push({
        code: "invalid_format",
        format: "cidrv6",
        input: r4.value,
        inst: e,
        continue: !t3.abort
      });
    }
  };
});
function pr3(e) {
  if (e === "")
    return true;
  if (e.length % 4 !== 0)
    return false;
  try {
    return atob(e), true;
  } catch {
    return false;
  }
}
var Bs3 = c5("$ZodBase64", (e, t3) => {
  t3.pattern ?? (t3.pattern = ss2), E4.init(e, t3), e._zod.onattach.push((r4) => {
    r4._zod.bag.contentEncoding = "base64";
  }), e._zod.check = (r4) => {
    pr3(r4.value) || r4.issues.push({
      code: "invalid_format",
      format: "base64",
      input: r4.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
function Hs2(e) {
  if (!dr4.test(e))
    return false;
  const t3 = e.replace(/[-_]/g, (n4) => n4 === "-" ? "+" : "/"), r4 = t3.padEnd(Math.ceil(t3.length / 4) * 4, "=");
  return pr3(r4);
}
var Ks2 = c5("$ZodBase64URL", (e, t3) => {
  t3.pattern ?? (t3.pattern = dr4), E4.init(e, t3), e._zod.onattach.push((r4) => {
    r4._zod.bag.contentEncoding = "base64url";
  }), e._zod.check = (r4) => {
    Hs2(r4.value) || r4.issues.push({
      code: "invalid_format",
      format: "base64url",
      input: r4.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
var Ws2 = c5("$ZodE164", (e, t3) => {
  t3.pattern ?? (t3.pattern = is2), E4.init(e, t3);
});
function Vs2(e, t3 = null) {
  try {
    const r4 = e.split(".");
    if (r4.length !== 3)
      return false;
    const [n4] = r4, o2 = JSON.parse(atob(n4));
    return !("typ" in o2 && o2?.typ !== "JWT" || !o2.alg || t3 && (!("alg" in o2) || o2.alg !== t3));
  } catch {
    return false;
  }
}
var Ys2 = c5("$ZodJWT", (e, t3) => {
  E4.init(e, t3), e._zod.check = (r4) => {
    Vs2(r4.value, t3.alg) || r4.issues.push({
      code: "invalid_format",
      format: "jwt",
      input: r4.value,
      inst: e,
      continue: !t3.abort
    });
  };
});
var Gs2 = c5("$ZodUnknown", (e, t3) => {
  T5.init(e, t3), e._zod.parse = (r4) => r4;
});
var Js2 = c5("$ZodNever", (e, t3) => {
  T5.init(e, t3), e._zod.parse = (r4, n4) => (r4.issues.push({
    expected: "never",
    code: "invalid_type",
    input: r4.value,
    inst: e
  }), r4);
});
function dt5(e, t3, r4) {
  e.issues.length && t3.issues.push(...Qe5(r4, e.issues)), t3.value[r4] = e.value;
}
var Xs2 = c5("$ZodArray", (e, t3) => {
  T5.init(e, t3), e._zod.parse = (r4, n4) => {
    const o2 = r4.value;
    if (!Array.isArray(o2))
      return r4.issues.push({
        expected: "array",
        code: "invalid_type",
        input: o2,
        inst: e
      }), r4;
    r4.value = Array(o2.length);
    const a3 = [];
    for (let i5 = 0; i5 < o2.length; i5++) {
      const u5 = o2[i5], h3 = t3.element._zod.run({
        value: u5,
        issues: []
      }, n4);
      h3 instanceof Promise ? a3.push(h3.then((f8) => dt5(f8, r4, i5))) : dt5(h3, r4, i5);
    }
    return a3.length ? Promise.all(a3).then(() => r4) : r4;
  };
});
function de4(e, t3, r4) {
  e.issues.length && t3.issues.push(...Qe5(r4, e.issues)), t3.value[r4] = e.value;
}
function ft4(e, t3, r4, n4) {
  e.issues.length ? n4[r4] === void 0 ? r4 in n4 ? t3.value[r4] = void 0 : t3.value[r4] = e.value : t3.issues.push(...Qe5(r4, e.issues)) : e.value === void 0 ? r4 in n4 && (t3.value[r4] = void 0) : t3.value[r4] = e.value;
}
var ea3 = c5("$ZodObject", (e, t3) => {
  T5.init(e, t3);
  const r4 = nr3(() => {
    const p3 = Object.keys(t3.shape);
    for (const l3 of p3)
      if (!(t3.shape[l3] instanceof T5))
        throw new Error(`Invalid element at key "${l3}": expected a Zod schema`);
    const m3 = Co3(t3.shape);
    return {
      shape: t3.shape,
      keys: p3,
      keySet: new Set(p3),
      numKeys: p3.length,
      optionalKeys: new Set(m3)
    };
  });
  S3(e._zod, "propValues", () => {
    const p3 = t3.shape, m3 = {};
    for (const l3 in p3) {
      const g6 = p3[l3]._zod;
      if (g6.values) {
        m3[l3] ?? (m3[l3] = /* @__PURE__ */ new Set());
        for (const w6 of g6.values)
          m3[l3].add(w6);
      }
    }
    return m3;
  });
  const n4 = (p3) => {
    const m3 = new ks2(["shape", "payload", "ctx"]), { keys: l3, optionalKeys: g6 } = r4.value, w6 = (j7) => {
      const x8 = re5(j7);
      return `shape[${x8}]._zod.run({ value: input[${x8}], issues: [] }, ctx)`;
    };
    m3.write("const input = payload.value;");
    const P3 = /* @__PURE__ */ Object.create(null);
    for (const j7 of l3)
      P3[j7] = or2(15);
    m3.write("const newResult = {}");
    for (const j7 of l3)
      if (g6.has(j7)) {
        const x8 = P3[j7];
        m3.write(`const ${x8} = ${w6(j7)};`);
        const b7 = re5(j7);
        m3.write(`
        if (${x8}.issues.length) {
          if (input[${b7}] === undefined) {
            if (${b7} in input) {
              newResult[${b7}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${x8}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${b7}, ...iss.path] : [${b7}],
              }))
            );
          }
        } else if (${x8}.value === undefined) {
          if (${b7} in input) newResult[${b7}] = undefined;
        } else {
          newResult[${b7}] = ${x8}.value;
        }
        `);
      } else {
        const x8 = P3[j7];
        m3.write(`const ${x8} = ${w6(j7)};`), m3.write(`
          if (${x8}.issues.length) payload.issues = payload.issues.concat(${x8}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${re5(j7)}, ...iss.path] : [${re5(j7)}]
          })));`), m3.write(`newResult[${re5(j7)}] = ${x8}.value`);
      }
    m3.write("payload.value = newResult;"), m3.write("return payload;");
    const C5 = m3.compile();
    return (j7, x8) => C5(p3, j7, x8);
  };
  let o2;
  const a3 = Ce5, i5 = !rr3.jitless, h3 = i5 && So3.value, { catchall: f8 } = t3;
  let y4;
  e._zod.parse = (p3, m3) => {
    y4 ?? (y4 = r4.value);
    const l3 = p3.value;
    if (!a3(l3))
      return p3.issues.push({
        expected: "object",
        code: "invalid_type",
        input: l3,
        inst: e
      }), p3;
    const g6 = [];
    if (i5 && h3 && m3?.async === false && m3.jitless !== true)
      o2 || (o2 = n4(t3.shape)), p3 = o2(p3, m3);
    else {
      p3.value = {};
      const x8 = y4.shape;
      for (const b7 of y4.keys) {
        const d2 = x8[b7], z4 = d2._zod.run({ value: l3[b7], issues: [] }, m3), I4 = d2._zod.optin === "optional" && d2._zod.optout === "optional";
        z4 instanceof Promise ? g6.push(z4.then((D3) => I4 ? ft4(D3, p3, b7, l3) : de4(D3, p3, b7))) : I4 ? ft4(z4, p3, b7, l3) : de4(z4, p3, b7);
      }
    }
    if (!f8)
      return g6.length ? Promise.all(g6).then(() => p3) : p3;
    const w6 = [], P3 = y4.keySet, C5 = f8._zod, j7 = C5.def.type;
    for (const x8 of Object.keys(l3)) {
      if (P3.has(x8))
        continue;
      if (j7 === "never") {
        w6.push(x8);
        continue;
      }
      const b7 = C5.run({ value: l3[x8], issues: [] }, m3);
      b7 instanceof Promise ? g6.push(b7.then((d2) => de4(d2, p3, x8))) : de4(b7, p3, x8);
    }
    return w6.length && p3.issues.push({
      code: "unrecognized_keys",
      keys: w6,
      input: l3,
      inst: e
    }), g6.length ? Promise.all(g6).then(() => p3) : p3;
  };
});
function ht4(e, t3, r4, n4) {
  for (const o2 of e)
    if (o2.issues.length === 0)
      return t3.value = o2.value, t3;
  return t3.issues.push({
    code: "invalid_union",
    input: t3.value,
    inst: r4,
    errors: e.map((o2) => o2.issues.map((a3) => Y4(a3, n4, V6())))
  }), t3;
}
var ta3 = c5("$ZodUnion", (e, t3) => {
  T5.init(e, t3), S3(e._zod, "values", () => {
    if (t3.options.every((r4) => r4._zod.values))
      return new Set(t3.options.flatMap((r4) => Array.from(r4._zod.values)));
  }), S3(e._zod, "pattern", () => {
    if (t3.options.every((r4) => r4._zod.pattern)) {
      const r4 = t3.options.map((n4) => n4._zod.pattern);
      return new RegExp(`^(${r4.map((n4) => Ue4(n4.source)).join("|")})$`);
    }
  }), e._zod.parse = (r4, n4) => {
    let o2 = false;
    const a3 = [];
    for (const i5 of t3.options) {
      const u5 = i5._zod.run({
        value: r4.value,
        issues: []
      }, n4);
      if (u5 instanceof Promise)
        a3.push(u5), o2 = true;
      else {
        if (u5.issues.length === 0)
          return u5;
        a3.push(u5);
      }
    }
    return o2 ? Promise.all(a3).then((i5) => ht4(i5, r4, e, n4)) : ht4(a3, r4, e, n4);
  };
});
var ra3 = c5("$ZodIntersection", (e, t3) => {
  T5.init(e, t3), e._zod.parse = (r4, n4) => {
    const { value: o2 } = r4, a3 = t3.left._zod.run({ value: o2, issues: [] }, n4), i5 = t3.right._zod.run({ value: o2, issues: [] }, n4);
    return a3 instanceof Promise || i5 instanceof Promise ? Promise.all([a3, i5]).then(([h3, f8]) => pt4(r4, h3, f8)) : pt4(r4, a3, i5);
  };
});
function Te3(e, t3) {
  if (e === t3)
    return { valid: true, data: e };
  if (e instanceof Date && t3 instanceof Date && +e == +t3)
    return { valid: true, data: e };
  if (ut3(e) && ut3(t3)) {
    const r4 = Object.keys(t3), n4 = Object.keys(e).filter((a3) => r4.indexOf(a3) !== -1), o2 = { ...e, ...t3 };
    for (const a3 of n4) {
      const i5 = Te3(e[a3], t3[a3]);
      if (!i5.valid)
        return {
          valid: false,
          mergeErrorPath: [a3, ...i5.mergeErrorPath]
        };
      o2[a3] = i5.data;
    }
    return { valid: true, data: o2 };
  }
  if (Array.isArray(e) && Array.isArray(t3)) {
    if (e.length !== t3.length)
      return { valid: false, mergeErrorPath: [] };
    const r4 = [];
    for (let n4 = 0; n4 < e.length; n4++) {
      const o2 = e[n4], a3 = t3[n4], i5 = Te3(o2, a3);
      if (!i5.valid)
        return {
          valid: false,
          mergeErrorPath: [n4, ...i5.mergeErrorPath]
        };
      r4.push(i5.data);
    }
    return { valid: true, data: r4 };
  }
  return { valid: false, mergeErrorPath: [] };
}
function pt4(e, t3, r4) {
  if (t3.issues.length && e.issues.push(...t3.issues), r4.issues.length && e.issues.push(...r4.issues), ne5(e))
    return e;
  const n4 = Te3(t3.value, r4.value);
  if (!n4.valid)
    throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n4.mergeErrorPath)}`);
  return e.value = n4.data, e;
}
var na3 = c5("$ZodEnum", (e, t3) => {
  T5.init(e, t3);
  const r4 = Po3(t3.entries);
  e._zod.values = new Set(r4), e._zod.pattern = new RegExp(`^(${r4.filter((n4) => Zo3.has(typeof n4)).map((n4) => typeof n4 == "string" ? _e4(n4) : n4.toString()).join("|")})$`), e._zod.parse = (n4, o2) => {
    const a3 = n4.value;
    return e._zod.values.has(a3) || n4.issues.push({
      code: "invalid_value",
      values: r4,
      input: a3,
      inst: e
    }), n4;
  };
});
var oa3 = c5("$ZodTransform", (e, t3) => {
  T5.init(e, t3), e._zod.parse = (r4, n4) => {
    const o2 = t3.transform(r4.value, r4);
    if (n4.async)
      return (o2 instanceof Promise ? o2 : Promise.resolve(o2)).then((i5) => (r4.value = i5, r4));
    if (o2 instanceof Promise)
      throw new se3();
    return r4.value = o2, r4;
  };
});
var sa3 = c5("$ZodOptional", (e, t3) => {
  T5.init(e, t3), e._zod.optin = "optional", e._zod.optout = "optional", S3(e._zod, "values", () => t3.innerType._zod.values ? /* @__PURE__ */ new Set([...t3.innerType._zod.values, void 0]) : void 0), S3(e._zod, "pattern", () => {
    const r4 = t3.innerType._zod.pattern;
    return r4 ? new RegExp(`^(${Ue4(r4.source)})?$`) : void 0;
  }), e._zod.parse = (r4, n4) => r4.value === void 0 ? r4 : t3.innerType._zod.run(r4, n4);
});
var aa3 = c5("$ZodNullable", (e, t3) => {
  T5.init(e, t3), S3(e._zod, "optin", () => t3.innerType._zod.optin), S3(e._zod, "optout", () => t3.innerType._zod.optout), S3(e._zod, "pattern", () => {
    const r4 = t3.innerType._zod.pattern;
    return r4 ? new RegExp(`^(${Ue4(r4.source)}|null)$`) : void 0;
  }), S3(e._zod, "values", () => t3.innerType._zod.values ? /* @__PURE__ */ new Set([...t3.innerType._zod.values, null]) : void 0), e._zod.parse = (r4, n4) => r4.value === null ? r4 : t3.innerType._zod.run(r4, n4);
});
var ia3 = c5("$ZodDefault", (e, t3) => {
  T5.init(e, t3), e._zod.optin = "optional", S3(e._zod, "values", () => t3.innerType._zod.values), e._zod.parse = (r4, n4) => {
    if (r4.value === void 0)
      return r4.value = t3.defaultValue, r4;
    const o2 = t3.innerType._zod.run(r4, n4);
    return o2 instanceof Promise ? o2.then((a3) => mt4(a3, t3)) : mt4(o2, t3);
  };
});
function mt4(e, t3) {
  return e.value === void 0 && (e.value = t3.defaultValue), e;
}
var ca3 = c5("$ZodPrefault", (e, t3) => {
  T5.init(e, t3), e._zod.optin = "optional", S3(e._zod, "values", () => t3.innerType._zod.values), e._zod.parse = (r4, n4) => (r4.value === void 0 && (r4.value = t3.defaultValue), t3.innerType._zod.run(r4, n4));
});
var ua3 = c5("$ZodNonOptional", (e, t3) => {
  T5.init(e, t3), S3(e._zod, "values", () => {
    const r4 = t3.innerType._zod.values;
    return r4 ? new Set([...r4].filter((n4) => n4 !== void 0)) : void 0;
  }), e._zod.parse = (r4, n4) => {
    const o2 = t3.innerType._zod.run(r4, n4);
    return o2 instanceof Promise ? o2.then((a3) => gt3(a3, e)) : gt3(o2, e);
  };
});
function gt3(e, t3) {
  return !e.issues.length && e.value === void 0 && e.issues.push({
    code: "invalid_type",
    expected: "nonoptional",
    input: e.value,
    inst: t3
  }), e;
}
var la3 = c5("$ZodCatch", (e, t3) => {
  T5.init(e, t3), S3(e._zod, "optin", () => t3.innerType._zod.optin), S3(e._zod, "optout", () => t3.innerType._zod.optout), S3(e._zod, "values", () => t3.innerType._zod.values), e._zod.parse = (r4, n4) => {
    const o2 = t3.innerType._zod.run(r4, n4);
    return o2 instanceof Promise ? o2.then((a3) => (r4.value = a3.value, a3.issues.length && (r4.value = t3.catchValue({
      ...r4,
      error: {
        issues: a3.issues.map((i5) => Y4(i5, n4, V6()))
      },
      input: r4.value
    }), r4.issues = []), r4)) : (r4.value = o2.value, o2.issues.length && (r4.value = t3.catchValue({
      ...r4,
      error: {
        issues: o2.issues.map((a3) => Y4(a3, n4, V6()))
      },
      input: r4.value
    }), r4.issues = []), r4);
  };
});
var da3 = c5("$ZodPipe", (e, t3) => {
  T5.init(e, t3), S3(e._zod, "values", () => t3.in._zod.values), S3(e._zod, "optin", () => t3.in._zod.optin), S3(e._zod, "optout", () => t3.out._zod.optout), e._zod.parse = (r4, n4) => {
    const o2 = t3.in._zod.run(r4, n4);
    return o2 instanceof Promise ? o2.then((a3) => vt5(a3, t3, n4)) : vt5(o2, t3, n4);
  };
});
function vt5(e, t3, r4) {
  return ne5(e) ? e : t3.out._zod.run({ value: e.value, issues: e.issues }, r4);
}
var fa3 = c5("$ZodReadonly", (e, t3) => {
  T5.init(e, t3), S3(e._zod, "propValues", () => t3.innerType._zod.propValues), S3(e._zod, "optin", () => t3.innerType._zod.optin), S3(e._zod, "optout", () => t3.innerType._zod.optout), e._zod.parse = (r4, n4) => {
    const o2 = t3.innerType._zod.run(r4, n4);
    return o2 instanceof Promise ? o2.then(yt4) : yt4(o2);
  };
});
function yt4(e) {
  return e.value = Object.freeze(e.value), e;
}
var ha3 = c5("$ZodCustom", (e, t3) => {
  U3.init(e, t3), T5.init(e, t3), e._zod.parse = (r4, n4) => r4, e._zod.check = (r4) => {
    const n4 = r4.value, o2 = t3.fn(n4);
    if (o2 instanceof Promise)
      return o2.then((a3) => xt4(a3, r4, n4, e));
    xt4(o2, r4, n4, e);
  };
});
function xt4(e, t3, r4, n4) {
  if (!e) {
    const o2 = {
      code: "custom",
      input: r4,
      inst: n4,
      // incorporates params.error into issue reporting
      path: [...n4._zod.def.path ?? []],
      // incorporates params.error into issue reporting
      continue: !n4._zod.def.abort
      // params: inst._zod.def.params,
    };
    n4._zod.def.params && (o2.params = n4._zod.def.params), t3.issues.push(ae5(o2));
  }
}
var pa3 = class {
  constructor() {
    this._map = /* @__PURE__ */ new WeakMap(), this._idmap = /* @__PURE__ */ new Map();
  }
  add(t3, ...r4) {
    const n4 = r4[0];
    if (this._map.set(t3, n4), n4 && typeof n4 == "object" && "id" in n4) {
      if (this._idmap.has(n4.id))
        throw new Error(`ID ${n4.id} already exists in the registry`);
      this._idmap.set(n4.id, t3);
    }
    return this;
  }
  remove(t3) {
    return this._map.delete(t3), this;
  }
  get(t3) {
    const r4 = t3._zod.parent;
    if (r4) {
      const n4 = { ...this.get(r4) ?? {} };
      return delete n4.id, { ...n4, ...this._map.get(t3) };
    }
    return this._map.get(t3);
  }
  has(t3) {
    return this._map.has(t3);
  }
};
function ma3() {
  return new pa3();
}
var fe3 = ma3();
function ga3(e, t3) {
  return new e({
    type: "string",
    ..._4(t3)
  });
}
function va3(e, t3) {
  return new e({
    type: "string",
    format: "email",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function _t3(e, t3) {
  return new e({
    type: "string",
    format: "guid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function ya3(e, t3) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function xa3(e, t3) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v4",
    ..._4(t3)
  });
}
function _a3(e, t3) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v6",
    ..._4(t3)
  });
}
function ba3(e, t3) {
  return new e({
    type: "string",
    format: "uuid",
    check: "string_format",
    abort: false,
    version: "v7",
    ..._4(t3)
  });
}
function wa3(e, t3) {
  return new e({
    type: "string",
    format: "url",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function ja3(e, t3) {
  return new e({
    type: "string",
    format: "emoji",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function ka3(e, t3) {
  return new e({
    type: "string",
    format: "nanoid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function $a3(e, t3) {
  return new e({
    type: "string",
    format: "cuid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function za3(e, t3) {
  return new e({
    type: "string",
    format: "cuid2",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Pa3(e, t3) {
  return new e({
    type: "string",
    format: "ulid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Ea3(e, t3) {
  return new e({
    type: "string",
    format: "xid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Sa3(e, t3) {
  return new e({
    type: "string",
    format: "ksuid",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Za3(e, t3) {
  return new e({
    type: "string",
    format: "ipv4",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Ca3(e, t3) {
  return new e({
    type: "string",
    format: "ipv6",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Ta3(e, t3) {
  return new e({
    type: "string",
    format: "cidrv4",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Oa3(e, t3) {
  return new e({
    type: "string",
    format: "cidrv6",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Na3(e, t3) {
  return new e({
    type: "string",
    format: "base64",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Aa3(e, t3) {
  return new e({
    type: "string",
    format: "base64url",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Ia3(e, t3) {
  return new e({
    type: "string",
    format: "e164",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Ra3(e, t3) {
  return new e({
    type: "string",
    format: "jwt",
    check: "string_format",
    abort: false,
    ..._4(t3)
  });
}
function Da3(e, t3) {
  return new e({
    type: "string",
    format: "datetime",
    check: "string_format",
    offset: false,
    local: false,
    precision: null,
    ..._4(t3)
  });
}
function Ma3(e, t3) {
  return new e({
    type: "string",
    format: "date",
    check: "string_format",
    ..._4(t3)
  });
}
function Fa3(e, t3) {
  return new e({
    type: "string",
    format: "time",
    check: "string_format",
    precision: null,
    ..._4(t3)
  });
}
function qa3(e, t3) {
  return new e({
    type: "string",
    format: "duration",
    check: "string_format",
    ..._4(t3)
  });
}
function Ua3(e) {
  return new e({
    type: "unknown"
  });
}
function La3(e, t3) {
  return new e({
    type: "never",
    ..._4(t3)
  });
}
function mr4(e, t3) {
  return new ps2({
    check: "max_length",
    ..._4(t3),
    maximum: e
  });
}
function ve3(e, t3) {
  return new ms2({
    check: "min_length",
    ..._4(t3),
    minimum: e
  });
}
function gr3(e, t3) {
  return new gs2({
    check: "length_equals",
    ..._4(t3),
    length: e
  });
}
function Qa3(e, t3) {
  return new vs2({
    check: "string_format",
    format: "regex",
    ..._4(t3),
    pattern: e
  });
}
function Ba3(e) {
  return new ys2({
    check: "string_format",
    format: "lowercase",
    ..._4(e)
  });
}
function Ha3(e) {
  return new xs2({
    check: "string_format",
    format: "uppercase",
    ..._4(e)
  });
}
function Ka3(e, t3) {
  return new _s2({
    check: "string_format",
    format: "includes",
    ..._4(t3),
    includes: e
  });
}
function Wa3(e, t3) {
  return new bs2({
    check: "string_format",
    format: "starts_with",
    ..._4(t3),
    prefix: e
  });
}
function Va3(e, t3) {
  return new ws2({
    check: "string_format",
    format: "ends_with",
    ..._4(t3),
    suffix: e
  });
}
function ie3(e) {
  return new js2({
    check: "overwrite",
    tx: e
  });
}
function Ya3(e) {
  return ie3((t3) => t3.normalize(e));
}
function Ga3() {
  return ie3((e) => e.trim());
}
function Ja3() {
  return ie3((e) => e.toLowerCase());
}
function Xa3() {
  return ie3((e) => e.toUpperCase());
}
function ei3(e, t3, r4) {
  return new e({
    type: "array",
    element: t3,
    // get element() {
    //   return element;
    // },
    ..._4(r4)
  });
}
function ti3(e, t3, r4) {
  return new e({
    type: "custom",
    check: "custom",
    fn: t3,
    ..._4(r4)
  });
}
var ri3 = c5("ZodISODateTime", (e, t3) => {
  Rs2.init(e, t3), Z3.init(e, t3);
});
function ni3(e) {
  return Da3(ri3, e);
}
var oi3 = c5("ZodISODate", (e, t3) => {
  Ds2.init(e, t3), Z3.init(e, t3);
});
function si2(e) {
  return Ma3(oi3, e);
}
var ai2 = c5("ZodISOTime", (e, t3) => {
  Ms3.init(e, t3), Z3.init(e, t3);
});
function ii2(e) {
  return Fa3(ai2, e);
}
var ci3 = c5("ZodISODuration", (e, t3) => {
  Fs2.init(e, t3), Z3.init(e, t3);
});
function ui3(e) {
  return qa3(ci3, e);
}
var li3 = (e, t3) => {
  ir3.init(e, t3), e.name = "ZodError", Object.defineProperties(e, {
    format: {
      value: (r4) => Mo3(e, r4)
      // enumerable: false,
    },
    flatten: {
      value: (r4) => Do3(e, r4)
      // enumerable: false,
    },
    addIssue: {
      value: (r4) => e.issues.push(r4)
      // enumerable: false,
    },
    addIssues: {
      value: (r4) => e.issues.push(...r4)
      // enumerable: false,
    },
    isEmpty: {
      get() {
        return e.issues.length === 0;
      }
      // enumerable: false,
    }
  });
};
var we6 = c5("ZodError", li3, {
  Parent: Error
});
var di3 = Fo3(we6);
var fi2 = qo3(we6);
var hi2 = ur4(we6);
var pi3 = lr4(we6);
var O3 = c5("ZodType", (e, t3) => (T5.init(e, t3), e.def = t3, Object.defineProperty(e, "_def", { value: t3 }), e.check = (...r4) => e.clone(
  {
    ...t3,
    checks: [
      ...t3.checks ?? [],
      ...r4.map((n4) => typeof n4 == "function" ? { _zod: { check: n4, def: { check: "custom" }, onattach: [] } } : n4)
    ]
  }
  // { parent: true }
), e.clone = (r4, n4) => J6(e, r4, n4), e.brand = () => e, e.register = (r4, n4) => (r4.add(e, n4), e), e.parse = (r4, n4) => di3(e, r4, n4, { callee: e.parse }), e.safeParse = (r4, n4) => hi2(e, r4, n4), e.parseAsync = async (r4, n4) => fi2(e, r4, n4, { callee: e.parseAsync }), e.safeParseAsync = async (r4, n4) => pi3(e, r4, n4), e.spa = e.safeParseAsync, e.refine = (r4, n4) => e.check(sc3(r4, n4)), e.superRefine = (r4) => e.check(ac3(r4)), e.overwrite = (r4) => e.check(ie3(r4)), e.optional = () => kt3(e), e.nullable = () => $t4(e), e.nullish = () => kt3($t4(e)), e.nonoptional = (r4) => Gi3(e, r4), e.array = () => Ri3(e), e.or = (r4) => qi3([e, r4]), e.and = (r4) => Li3(e, r4), e.transform = (r4) => zt4(e, Bi3(r4)), e.default = (r4) => Wi3(e, r4), e.prefault = (r4) => Yi3(e, r4), e.catch = (r4) => Xi3(e, r4), e.pipe = (r4) => zt4(e, r4), e.readonly = () => rc3(e), e.describe = (r4) => {
  const n4 = e.clone();
  return fe3.add(n4, { description: r4 }), n4;
}, Object.defineProperty(e, "description", {
  get() {
    return fe3.get(e)?.description;
  },
  configurable: true
}), e.meta = (...r4) => {
  if (r4.length === 0)
    return fe3.get(e);
  const n4 = e.clone();
  return fe3.add(n4, r4[0]), n4;
}, e.isOptional = () => e.safeParse(void 0).success, e.isNullable = () => e.safeParse(null).success, e));
var vr2 = c5("_ZodString", (e, t3) => {
  He5.init(e, t3), O3.init(e, t3);
  const r4 = e._zod.bag;
  e.format = r4.format ?? null, e.minLength = r4.minimum ?? null, e.maxLength = r4.maximum ?? null, e.regex = (...n4) => e.check(Qa3(...n4)), e.includes = (...n4) => e.check(Ka3(...n4)), e.startsWith = (...n4) => e.check(Wa3(...n4)), e.endsWith = (...n4) => e.check(Va3(...n4)), e.min = (...n4) => e.check(ve3(...n4)), e.max = (...n4) => e.check(mr4(...n4)), e.length = (...n4) => e.check(gr3(...n4)), e.nonempty = (...n4) => e.check(ve3(1, ...n4)), e.lowercase = (n4) => e.check(Ba3(n4)), e.uppercase = (n4) => e.check(Ha3(n4)), e.trim = () => e.check(Ga3()), e.normalize = (...n4) => e.check(Ya3(...n4)), e.toLowerCase = () => e.check(Ja3()), e.toUpperCase = () => e.check(Xa3());
});
var mi3 = c5("ZodString", (e, t3) => {
  He5.init(e, t3), vr2.init(e, t3), e.email = (r4) => e.check(va3(gi3, r4)), e.url = (r4) => e.check(wa3(vi3, r4)), e.jwt = (r4) => e.check(Ra3(Ti3, r4)), e.emoji = (r4) => e.check(ja3(yi3, r4)), e.guid = (r4) => e.check(_t3(wt3, r4)), e.uuid = (r4) => e.check(ya3(he3, r4)), e.uuidv4 = (r4) => e.check(xa3(he3, r4)), e.uuidv6 = (r4) => e.check(_a3(he3, r4)), e.uuidv7 = (r4) => e.check(ba3(he3, r4)), e.nanoid = (r4) => e.check(ka3(xi3, r4)), e.guid = (r4) => e.check(_t3(wt3, r4)), e.cuid = (r4) => e.check($a3(_i3, r4)), e.cuid2 = (r4) => e.check(za3(bi3, r4)), e.ulid = (r4) => e.check(Pa3(wi3, r4)), e.base64 = (r4) => e.check(Na3(Si3, r4)), e.base64url = (r4) => e.check(Aa3(Zi3, r4)), e.xid = (r4) => e.check(Ea3(ji3, r4)), e.ksuid = (r4) => e.check(Sa3(ki3, r4)), e.ipv4 = (r4) => e.check(Za3($i3, r4)), e.ipv6 = (r4) => e.check(Ca3(zi3, r4)), e.cidrv4 = (r4) => e.check(Ta3(Pi3, r4)), e.cidrv6 = (r4) => e.check(Oa3(Ei3, r4)), e.e164 = (r4) => e.check(Ia3(Ci3, r4)), e.datetime = (r4) => e.check(ni3(r4)), e.date = (r4) => e.check(si2(r4)), e.time = (r4) => e.check(ii2(r4)), e.duration = (r4) => e.check(ui3(r4));
});
function bt5(e) {
  return ga3(mi3, e);
}
var Z3 = c5("ZodStringFormat", (e, t3) => {
  E4.init(e, t3), vr2.init(e, t3);
});
var gi3 = c5("ZodEmail", (e, t3) => {
  Es2.init(e, t3), Z3.init(e, t3);
});
var wt3 = c5("ZodGUID", (e, t3) => {
  zs2.init(e, t3), Z3.init(e, t3);
});
var he3 = c5("ZodUUID", (e, t3) => {
  Ps2.init(e, t3), Z3.init(e, t3);
});
var vi3 = c5("ZodURL", (e, t3) => {
  Ss2.init(e, t3), Z3.init(e, t3);
});
var yi3 = c5("ZodEmoji", (e, t3) => {
  Zs2.init(e, t3), Z3.init(e, t3);
});
var xi3 = c5("ZodNanoID", (e, t3) => {
  Cs2.init(e, t3), Z3.init(e, t3);
});
var _i3 = c5("ZodCUID", (e, t3) => {
  Ts2.init(e, t3), Z3.init(e, t3);
});
var bi3 = c5("ZodCUID2", (e, t3) => {
  Os2.init(e, t3), Z3.init(e, t3);
});
var wi3 = c5("ZodULID", (e, t3) => {
  Ns2.init(e, t3), Z3.init(e, t3);
});
var ji3 = c5("ZodXID", (e, t3) => {
  As2.init(e, t3), Z3.init(e, t3);
});
var ki3 = c5("ZodKSUID", (e, t3) => {
  Is2.init(e, t3), Z3.init(e, t3);
});
var $i3 = c5("ZodIPv4", (e, t3) => {
  qs2.init(e, t3), Z3.init(e, t3);
});
var zi3 = c5("ZodIPv6", (e, t3) => {
  Us2.init(e, t3), Z3.init(e, t3);
});
var Pi3 = c5("ZodCIDRv4", (e, t3) => {
  Ls2.init(e, t3), Z3.init(e, t3);
});
var Ei3 = c5("ZodCIDRv6", (e, t3) => {
  Qs2.init(e, t3), Z3.init(e, t3);
});
var Si3 = c5("ZodBase64", (e, t3) => {
  Bs3.init(e, t3), Z3.init(e, t3);
});
var Zi3 = c5("ZodBase64URL", (e, t3) => {
  Ks2.init(e, t3), Z3.init(e, t3);
});
var Ci3 = c5("ZodE164", (e, t3) => {
  Ws2.init(e, t3), Z3.init(e, t3);
});
var Ti3 = c5("ZodJWT", (e, t3) => {
  Ys2.init(e, t3), Z3.init(e, t3);
});
var Oi3 = c5("ZodUnknown", (e, t3) => {
  Gs2.init(e, t3), O3.init(e, t3);
});
function jt3() {
  return Ua3(Oi3);
}
var Ni3 = c5("ZodNever", (e, t3) => {
  Js2.init(e, t3), O3.init(e, t3);
});
function Ai3(e) {
  return La3(Ni3, e);
}
var Ii3 = c5("ZodArray", (e, t3) => {
  Xs2.init(e, t3), O3.init(e, t3), e.element = t3.element, e.min = (r4, n4) => e.check(ve3(r4, n4)), e.nonempty = (r4) => e.check(ve3(1, r4)), e.max = (r4, n4) => e.check(mr4(r4, n4)), e.length = (r4, n4) => e.check(gr3(r4, n4)), e.unwrap = () => e.element;
});
function Ri3(e, t3) {
  return ei3(Ii3, e, t3);
}
var Di3 = c5("ZodObject", (e, t3) => {
  ea3.init(e, t3), O3.init(e, t3), S3(e, "shape", () => t3.shape), e.keyof = () => yr3(Object.keys(e._zod.def.shape)), e.catchall = (r4) => e.clone({ ...e._zod.def, catchall: r4 }), e.passthrough = () => e.clone({ ...e._zod.def, catchall: jt3() }), e.loose = () => e.clone({ ...e._zod.def, catchall: jt3() }), e.strict = () => e.clone({ ...e._zod.def, catchall: Ai3() }), e.strip = () => e.clone({ ...e._zod.def, catchall: void 0 }), e.extend = (r4) => No3(e, r4), e.merge = (r4) => Ao3(e, r4), e.pick = (r4) => To3(e, r4), e.omit = (r4) => Oo3(e, r4), e.partial = (...r4) => Io3(xr3, e, r4[0]), e.required = (...r4) => Ro3(_r3, e, r4[0]);
});
function Mi3(e, t3) {
  const r4 = {
    type: "object",
    get shape() {
      return Le4(this, "shape", { ...e }), this.shape;
    },
    ..._4(t3)
  };
  return new Di3(r4);
}
var Fi3 = c5("ZodUnion", (e, t3) => {
  ta3.init(e, t3), O3.init(e, t3), e.options = t3.options;
});
function qi3(e, t3) {
  return new Fi3({
    type: "union",
    options: e,
    ..._4(t3)
  });
}
var Ui3 = c5("ZodIntersection", (e, t3) => {
  ra3.init(e, t3), O3.init(e, t3);
});
function Li3(e, t3) {
  return new Ui3({
    type: "intersection",
    left: e,
    right: t3
  });
}
var Oe5 = c5("ZodEnum", (e, t3) => {
  na3.init(e, t3), O3.init(e, t3), e.enum = t3.entries, e.options = Object.values(t3.entries);
  const r4 = new Set(Object.keys(t3.entries));
  e.extract = (n4, o2) => {
    const a3 = {};
    for (const i5 of n4)
      if (r4.has(i5))
        a3[i5] = t3.entries[i5];
      else
        throw new Error(`Key ${i5} not found in enum`);
    return new Oe5({
      ...t3,
      checks: [],
      ..._4(o2),
      entries: a3
    });
  }, e.exclude = (n4, o2) => {
    const a3 = { ...t3.entries };
    for (const i5 of n4)
      if (r4.has(i5))
        delete a3[i5];
      else
        throw new Error(`Key ${i5} not found in enum`);
    return new Oe5({
      ...t3,
      checks: [],
      ..._4(o2),
      entries: a3
    });
  };
});
function yr3(e, t3) {
  const r4 = Array.isArray(e) ? Object.fromEntries(e.map((n4) => [n4, n4])) : e;
  return new Oe5({
    type: "enum",
    entries: r4,
    ..._4(t3)
  });
}
var Qi3 = c5("ZodTransform", (e, t3) => {
  oa3.init(e, t3), O3.init(e, t3), e._zod.parse = (r4, n4) => {
    r4.addIssue = (a3) => {
      if (typeof a3 == "string")
        r4.issues.push(ae5(a3, r4.value, t3));
      else {
        const i5 = a3;
        i5.fatal && (i5.continue = false), i5.code ?? (i5.code = "custom"), i5.input ?? (i5.input = r4.value), i5.inst ?? (i5.inst = e), i5.continue ?? (i5.continue = true), r4.issues.push(ae5(i5));
      }
    };
    const o2 = t3.transform(r4.value, r4);
    return o2 instanceof Promise ? o2.then((a3) => (r4.value = a3, r4)) : (r4.value = o2, r4);
  };
});
function Bi3(e) {
  return new Qi3({
    type: "transform",
    transform: e
  });
}
var xr3 = c5("ZodOptional", (e, t3) => {
  sa3.init(e, t3), O3.init(e, t3), e.unwrap = () => e._zod.def.innerType;
});
function kt3(e) {
  return new xr3({
    type: "optional",
    innerType: e
  });
}
var Hi3 = c5("ZodNullable", (e, t3) => {
  aa3.init(e, t3), O3.init(e, t3), e.unwrap = () => e._zod.def.innerType;
});
function $t4(e) {
  return new Hi3({
    type: "nullable",
    innerType: e
  });
}
var Ki3 = c5("ZodDefault", (e, t3) => {
  ia3.init(e, t3), O3.init(e, t3), e.unwrap = () => e._zod.def.innerType, e.removeDefault = e.unwrap;
});
function Wi3(e, t3) {
  return new Ki3({
    type: "default",
    innerType: e,
    get defaultValue() {
      return typeof t3 == "function" ? t3() : t3;
    }
  });
}
var Vi3 = c5("ZodPrefault", (e, t3) => {
  ca3.init(e, t3), O3.init(e, t3), e.unwrap = () => e._zod.def.innerType;
});
function Yi3(e, t3) {
  return new Vi3({
    type: "prefault",
    innerType: e,
    get defaultValue() {
      return typeof t3 == "function" ? t3() : t3;
    }
  });
}
var _r3 = c5("ZodNonOptional", (e, t3) => {
  ua3.init(e, t3), O3.init(e, t3), e.unwrap = () => e._zod.def.innerType;
});
function Gi3(e, t3) {
  return new _r3({
    type: "nonoptional",
    innerType: e,
    ..._4(t3)
  });
}
var Ji3 = c5("ZodCatch", (e, t3) => {
  la3.init(e, t3), O3.init(e, t3), e.unwrap = () => e._zod.def.innerType, e.removeCatch = e.unwrap;
});
function Xi3(e, t3) {
  return new Ji3({
    type: "catch",
    innerType: e,
    catchValue: typeof t3 == "function" ? t3 : () => t3
  });
}
var ec3 = c5("ZodPipe", (e, t3) => {
  da3.init(e, t3), O3.init(e, t3), e.in = t3.in, e.out = t3.out;
});
function zt4(e, t3) {
  return new ec3({
    type: "pipe",
    in: e,
    out: t3
    // ...util.normalizeParams(params),
  });
}
var tc3 = c5("ZodReadonly", (e, t3) => {
  fa3.init(e, t3), O3.init(e, t3);
});
function rc3(e) {
  return new tc3({
    type: "readonly",
    innerType: e
  });
}
var nc3 = c5("ZodCustom", (e, t3) => {
  ha3.init(e, t3), O3.init(e, t3);
});
function oc3(e, t3) {
  const r4 = new U3({
    check: "custom",
    ..._4(t3)
  });
  return r4._zod.check = e, r4;
}
function sc3(e, t3 = {}) {
  return ti3(nc3, e, t3);
}
function ac3(e, t3) {
  const r4 = oc3((n4) => (n4.addIssue = (o2) => {
    if (typeof o2 == "string")
      n4.issues.push(ae5(o2, n4.value, r4._zod.def));
    else {
      const a3 = o2;
      a3.fatal && (a3.continue = false), a3.code ?? (a3.code = "custom"), a3.input ?? (a3.input = n4.value), a3.inst ?? (a3.inst = r4), a3.continue ?? (a3.continue = !r4._zod.def.abort), n4.issues.push(ae5(a3));
    }
  }, e(n4.value, n4)), t3);
  return r4;
}
var ic3 = Mi3({
  buildId: bt5(),
  timestamp: bt5(),
  status: yr3(["in-progress", "success", "failed"])
});
var cc3 = ({
  buildId: e,
  endpoint: t3 = "/__zuplo/docs"
}) => {
  const r4 = Yt({
    queryKey: ["zuplo-build-check", e, t3],
    refetchInterval: 3e3,
    enabled: typeof e < "u" && false,
    retry: false,
    queryFn: () => fetch(t3, { signal: AbortSignal.timeout(2e3) }).then((o2) => {
      if (!o2.ok) throw new Error("Failed to fetch build status");
      return o2.json();
    }).then((o2) => ic3.parse(o2))
  });
  if (r4.isError || !r4.data || r4.data.buildId === e)
    return null;
  const n4 = r4.data.status === "success";
  return ae.jsxs("div", { className: "fixed flex flex-col gap-3 p-4 rounded-xl w-96 border z-20 bg-background left-0 right-0 top-4 mx-auto shadow-lg", children: [
    n4 ? ae.jsxs("div", { className: "flex flex-row items-center gap-2", children: [
      ae.jsx(CircleFadingArrowUp, { size: 16 }),
      ae.jsx("span", { className: "text-sm", children: "New version available" })
    ] }) : ae.jsxs("div", { className: "flex flex-row items-center gap-2", children: [
      ae.jsx(LoaderCircle, { size: 16, className: "animate-spin" }),
      ae.jsx("span", { className: "text-sm", children: "Building new version..." })
    ] }),
    ae.jsx("span", { className: "text-xs", children: n4 ? "To see the new version, reload the page now." : "A new version of the developer portal will be available soon." }),
    ae.jsx(
      g,
      {
        variant: "outline",
        size: "sm",
        className: "w-full",
        onClick: () => {
          window.location.reload();
        },
        children: "Reload"
      }
    )
  ] });
};
var uc3 = () => {
  const e = N(), t3 = (0, import_react9.useRef)(e.pathname);
  (0, import_react9.useEffect)(() => {
    const r4 = t3.current !== e.pathname, n4 = e.hash !== "";
    r4 && !n4 && window.scrollTo(0, 0), t3.current = e.pathname;
  }, [e.pathname, e.hash]);
};
var lc3 = ({
  icon: e
}) => typeof e == "string" ? ae.jsx(
  "img",
  {
    src: `https://cdn.simpleicons.org/${e}/000000/ffffff`,
    className: "size-5",
    alt: e
  }
) : e;
var dc3 = (e) => /^https?:/.test(e);
var fc3 = () => {
  const { site: e } = eu3(), t3 = e?.footer;
  return t3 ? ae.jsx("footer", { className: "border-t bg-background", children: ae.jsxs("div", { className: "mx-auto max-w-screen-2xl px-4 lg:px-8 py-8 pt-20", children: [
    ae.jsxs(
      "div",
      {
        className: mo("flex flex-row gap-8", {
          "justify-center": !t3.position || t3.position === "center",
          "justify-start": t3.position === "start",
          "justify-end": t3.position === "end"
        }),
        children: [
          ae.jsx(FE.Target, { name: "footer-before" }),
          t3.columns && ae.jsx(
            "div",
            {
              className: "w-full md:max-w-screen-md grid grid-cols-[1fr_1fr] gap-8 md:grid-cols-[repeat(var(--columns),minmax(0,1fr))]",
              style: { "--columns": t3.columns.length },
              children: t3.columns.map((r4) => ae.jsxs(
                "div",
                {
                  className: mo({
                    "justify-self-center": !r4.position || r4.position === "center",
                    "justify-self-start": r4.position === "start",
                    "justify-self-end": r4.position === "end"
                  }),
                  children: [
                    ae.jsx("span", { className: "text-sm font-semibold", children: r4.title }),
                    ae.jsx("ul", { className: "mt-4 space-y-2", children: r4.links.map((n4) => {
                      const o2 = "flex flex-row gap-1 items-center text-sm text-muted-foreground hover:text-accent-foreground";
                      return ae.jsx("li", { children: dc3(n4.href) ? ae.jsxs(
                        "a",
                        {
                          href: n4.href,
                          target: "_blank",
                          rel: "noopener noreferrer",
                          className: o2,
                          children: [
                            ae.jsx("span", { children: n4.label }),
                            ae.jsx(ExternalLink, { size: 12 })
                          ]
                        }
                      ) : ae.jsx(ns2, { to: n4.href, className: o2, children: ae.jsx("span", { children: n4.label }) }) }, n4.href + n4.label);
                    }) })
                  ]
                },
                r4.title
              ))
            }
          ),
          ae.jsx(FE.Target, { name: "footer-after" })
        ]
      }
    ),
    ae.jsxs(
      "div",
      {
        className: mo(
          "flex items-center justify-between",
          t3.columns && "border-t mt-8 pt-8"
        ),
        children: [
          t3.logo && ae.jsxs(ae.Fragment, { children: [
            ae.jsx(
              "img",
              {
                src: t3.logo.src.light,
                alt: t3.logo.alt,
                className: "w-8 dark:hidden",
                style: { width: t3.logo.width }
              }
            ),
            ae.jsx(
              "img",
              {
                src: t3.logo.src.dark,
                alt: t3.logo.alt,
                className: "w-8 hidden dark:block",
                style: { width: t3.logo.width }
              }
            )
          ] }),
          t3.copyright && ae.jsx("p", { className: "text-sm text-muted-foreground", children: t3.copyright }),
          ae.jsx("div", { className: "flex items-center gap-2", children: t3.social?.map((r4) => ae.jsxs(
            "a",
            {
              href: r4.href,
              target: "_blank",
              rel: "noopener noreferrer",
              className: "w-auto gap-2 flex text-muted-foreground hover:text-accent-foreground",
              children: [
                ae.jsx(lc3, { icon: r4.icon }),
                r4.label
              ]
            },
            r4.href
          )) })
        ]
      }
    )
  ] }) }) : null;
};
function Ne6({
  className: e,
  ...t3
}) {
  return ae.jsx(
    "div",
    {
      className: mo("animate-pulse rounded-md bg-muted", e),
      ...t3
    }
  );
}
var Pt3 = {
  info: "bg-blue-500",
  note: "bg-gray-500",
  tip: "bg-green-600",
  caution: "bg-orange-500",
  danger: "bg-rose-500"
};
var hc3 = () => {
  const { site: e } = X(), [t3, r4] = (0, import_react9.useState)(true);
  if (!e?.banner || !t3)
    return ae.jsx("style", { children: ":root { --banner-height: 0px; }" });
  const n4 = e.banner.color && e.banner.color in Pt3 ? Pt3[e.banner.color] : e.banner.color ? void 0 : "bg-primary", o2 = n4 ? {} : { backgroundColor: e.banner.color };
  return ae.jsxs(
    "div",
    {
      className: mo(
        "relative text-primary-foreground text-sm font-medium px-4 py-2 flex gap-2 items-center lg:h-(--banner-height)",
        n4
      ),
      "data-pagefind-ignore": "all",
      style: o2,
      children: [
        ae.jsx("div", { className: "w-full", children: e.banner.message }),
        e.banner.dismissible && ae.jsx(
          "button",
          {
            type: "button",
            className: "md:absolute md:end-4 -m-1.5 p-1.5 hover:bg-accent-foreground/10 rounded-md",
            onClick: () => r4(false),
            children: ae.jsx(CircleX, { size: 16 })
          }
        )
      ]
    }
  );
};
var br3 = (e) => ae.jsxs(
  "svg",
  {
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 132 100",
    fill: "none",
    ...e,
    children: [
      ae.jsx(
        "path",
        {
          fill: "currentColor",
          fillRule: "evenodd",
          d: "M80.092 2.963A4.66 4.66 0 0 1 84.449 0h34.049c6.325 0 10.835 6.135 8.948 12.172L116.653 46.71a4.688 4.688 0 0 1-4.474 3.29H75c-5.178 0-7.813 4.687-9.375 9.374-1.288 3.864-11.07 28.963-14.467 37.662A4.66 4.66 0 0 1 46.801 100H12.75c-6.324 0-10.834-6.134-8.947-12.171l10.793-34.54A4.688 4.688 0 0 1 19.071 50H56.25c5.178 0 7.813-4.687 9.375-9.375 1.288-3.864 11.07-28.962 14.467-37.662Z",
          clipRule: "evenodd"
        }
      ),
      ae.jsx(
        "path",
        {
          fill: "currentColor",
          d: "M83.54 57.813a7.813 7.813 0 0 0-7.316 5.07L63.888 95.777c-.766 2.043.744 4.222 2.926 4.222h36.828c5.211 0 9.875-3.232 11.704-8.11l8.821-23.522c1.915-5.107-1.861-10.555-7.315-10.555H83.539ZM29.17 0a12.5 12.5 0 0 0-11.704 8.111l-8.82 23.521c-1.915 5.107 1.86 10.556 7.315 10.556h33.312a7.813 7.813 0 0 0 7.316-5.07L68.924 4.223C69.691 2.18 68.18 0 65.998 0H29.17Z"
        }
      )
    ]
  }
);
br3.displayName = "ZudokuLogo";
var wr3 = ({ className: e }) => ae.jsxs(
  "a",
  {
    href: "https://zudoku.dev",
    target: "_blank",
    rel: "noopener noreferrer",
    className: mo(
      "flex justify-between items-center w-full border border-transparent hover:border-border rounded-full hover:shadow-xs h-7 px-3 text-nowrap hover:bg-muted/80 transition-all",
      e
    ),
    children: [
      ae.jsxs("div", { className: "opacity-70 hover:opacity-100 transition-opacity gap-1.5 text-[11px] font-medium rounded-full h-7 flex items-center text-nowrap", children: [
        ae.jsx(br3, { className: "w-3.5 h-3.5 dark:fill-white" }),
        "powered by ",
        "Zudoku"
      ] }),
      ae.jsx("div", { className: "text-xs font-medium opacity-70 hover:text-foreground transition-colors cursor-pointer", children: ae.jsx(
        ChevronRight,
        {
          size: 12,
          absoluteStrokeWidth: true,
          strokeWidth: 1.5,
          className: "rtl:rotate-180"
        }
      ) })
    ]
  }
);
function ye4() {
  return ye4 = Object.assign ? Object.assign.bind() : function(e) {
    for (var t3 = 1; t3 < arguments.length; t3++) {
      var r4 = arguments[t3];
      for (var n4 in r4) ({}).hasOwnProperty.call(r4, n4) && (e[n4] = r4[n4]);
    }
    return e;
  }, ye4.apply(null, arguments);
}
var pe3 = { exports: {} };
var $6 = {};
var St4;
function mc3() {
  return St4 || (St4 = 1, (function() {
    var e = typeof Symbol == "function" && Symbol.for, t3 = e ? Symbol.for("react.element") : 60103, r4 = e ? Symbol.for("react.portal") : 60106, n4 = e ? Symbol.for("react.fragment") : 60107, o2 = e ? Symbol.for("react.strict_mode") : 60108, a3 = e ? Symbol.for("react.profiler") : 60114, i5 = e ? Symbol.for("react.provider") : 60109, u5 = e ? Symbol.for("react.context") : 60110, h3 = e ? Symbol.for("react.async_mode") : 60111, f8 = e ? Symbol.for("react.concurrent_mode") : 60111, y4 = e ? Symbol.for("react.forward_ref") : 60112, p3 = e ? Symbol.for("react.suspense") : 60113, m3 = e ? Symbol.for("react.suspense_list") : 60120, l3 = e ? Symbol.for("react.memo") : 60115, g6 = e ? Symbol.for("react.lazy") : 60116, w6 = e ? Symbol.for("react.block") : 60121, P3 = e ? Symbol.for("react.fundamental") : 60117, C5 = e ? Symbol.for("react.responder") : 60118, j7 = e ? Symbol.for("react.scope") : 60119;
    function x8(v5) {
      return typeof v5 == "string" || typeof v5 == "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      v5 === n4 || v5 === f8 || v5 === a3 || v5 === o2 || v5 === p3 || v5 === m3 || typeof v5 == "object" && v5 !== null && (v5.$$typeof === g6 || v5.$$typeof === l3 || v5.$$typeof === i5 || v5.$$typeof === u5 || v5.$$typeof === y4 || v5.$$typeof === P3 || v5.$$typeof === C5 || v5.$$typeof === j7 || v5.$$typeof === w6);
    }
    function b7(v5) {
      if (typeof v5 == "object" && v5 !== null) {
        var ke6 = v5.$$typeof;
        switch (ke6) {
          case t3:
            var ce2 = v5.type;
            switch (ce2) {
              case h3:
              case f8:
              case n4:
              case a3:
              case o2:
              case p3:
                return ce2;
              default:
                var Ve5 = ce2 && ce2.$$typeof;
                switch (Ve5) {
                  case u5:
                  case y4:
                  case g6:
                  case l3:
                  case i5:
                    return Ve5;
                  default:
                    return ke6;
                }
            }
          case r4:
            return ke6;
        }
      }
    }
    var d2 = h3, z4 = f8, I4 = u5, D3 = i5, X6 = t3, B4 = y4, je5 = n4, W5 = g6, Rr3 = l3, Dr3 = r4, Mr3 = a3, Fr2 = o2, qr2 = p3, Ke4 = false;
    function Ur2(v5) {
      return Ke4 || (Ke4 = true, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), We4(v5) || b7(v5) === h3;
    }
    function We4(v5) {
      return b7(v5) === f8;
    }
    function Lr3(v5) {
      return b7(v5) === u5;
    }
    function Qr3(v5) {
      return b7(v5) === i5;
    }
    function Br3(v5) {
      return typeof v5 == "object" && v5 !== null && v5.$$typeof === t3;
    }
    function Hr2(v5) {
      return b7(v5) === y4;
    }
    function Kr3(v5) {
      return b7(v5) === n4;
    }
    function Wr3(v5) {
      return b7(v5) === g6;
    }
    function Vr2(v5) {
      return b7(v5) === l3;
    }
    function Yr2(v5) {
      return b7(v5) === r4;
    }
    function Gr3(v5) {
      return b7(v5) === a3;
    }
    function Jr3(v5) {
      return b7(v5) === o2;
    }
    function Xr3(v5) {
      return b7(v5) === p3;
    }
    $6.AsyncMode = d2, $6.ConcurrentMode = z4, $6.ContextConsumer = I4, $6.ContextProvider = D3, $6.Element = X6, $6.ForwardRef = B4, $6.Fragment = je5, $6.Lazy = W5, $6.Memo = Rr3, $6.Portal = Dr3, $6.Profiler = Mr3, $6.StrictMode = Fr2, $6.Suspense = qr2, $6.isAsyncMode = Ur2, $6.isConcurrentMode = We4, $6.isContextConsumer = Lr3, $6.isContextProvider = Qr3, $6.isElement = Br3, $6.isForwardRef = Hr2, $6.isFragment = Kr3, $6.isLazy = Wr3, $6.isMemo = Vr2, $6.isPortal = Yr2, $6.isProfiler = Gr3, $6.isStrictMode = Jr3, $6.isSuspense = Xr3, $6.isValidElementType = x8, $6.typeOf = b7;
  })()), $6;
}
var Zt4;
function gc3() {
  return Zt4 || (Zt4 = 1, false ? pe3.exports = pc() : pe3.exports = mc3()), pe3.exports;
}
var Pe5;
var Ct3;
function vc3() {
  if (Ct3) return Pe5;
  Ct3 = 1;
  var e = gc3(), t3 = {
    childContextTypes: true,
    contextType: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromError: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
  }, r4 = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
  }, n4 = {
    $$typeof: true,
    render: true,
    defaultProps: true,
    displayName: true,
    propTypes: true
  }, o2 = {
    $$typeof: true,
    compare: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
    type: true
  }, a3 = {};
  a3[e.ForwardRef] = n4, a3[e.Memo] = o2;
  function i5(g6) {
    return e.isMemo(g6) ? o2 : a3[g6.$$typeof] || t3;
  }
  var u5 = Object.defineProperty, h3 = Object.getOwnPropertyNames, f8 = Object.getOwnPropertySymbols, y4 = Object.getOwnPropertyDescriptor, p3 = Object.getPrototypeOf, m3 = Object.prototype;
  function l3(g6, w6, P3) {
    if (typeof w6 != "string") {
      if (m3) {
        var C5 = p3(w6);
        C5 && C5 !== m3 && l3(g6, C5, P3);
      }
      var j7 = h3(w6);
      f8 && (j7 = j7.concat(f8(w6)));
      for (var x8 = i5(g6), b7 = i5(w6), d2 = 0; d2 < j7.length; ++d2) {
        var z4 = j7[d2];
        if (!r4[z4] && !(P3 && P3[z4]) && !(b7 && b7[z4]) && !(x8 && x8[z4])) {
          var I4 = y4(w6, z4);
          try {
            u5(g6, z4, I4);
          } catch {
          }
        }
      }
    }
    return g6;
  }
  return Pe5 = l3, Pe5;
}
vc3();
var jr2 = function(t3, r4, n4) {
  return t3 = t3 <= n4 ? t3 : n4, t3 = t3 >= r4 ? t3 : r4, t3;
};
var yc3 = function() {
  var t3 = false, r4 = [], n4 = function() {
    t3 = true;
    var u5 = r4.shift();
    if (u5)
      return u5(n4);
    t3 = false;
  }, o2 = function() {
    t3 = false, r4 = [];
  }, a3 = function(u5) {
    r4.push(u5), !t3 && r4.length === 1 && n4();
  };
  return {
    clear: o2,
    enqueue: a3
  };
};
var xc3 = function() {
  var t3, r4 = function() {
    t3 && window.cancelAnimationFrame(t3);
  }, n4 = function(a3, i5) {
    var u5, h3, f8 = function(p3) {
      if (h3 = h3 || p3, u5 = p3 - h3, u5 > i5) {
        a3();
        return;
      }
      t3 = window.requestAnimationFrame(f8);
    };
    t3 = window.requestAnimationFrame(f8);
  };
  return {
    cancel: r4,
    schedule: n4
  };
};
var _c3 = function(t3) {
  var r4 = 0;
  return t3 >= 0 && t3 < 0.2 ? r4 = 0.1 : t3 >= 0.2 && t3 < 0.5 ? r4 = 0.04 : t3 >= 0.5 && t3 < 0.8 ? r4 = 0.02 : t3 >= 0.8 && t3 < 0.99 && (r4 = 5e-3), jr2(t3 + r4, 0, 0.994);
};
var Tt4 = function(t3) {
  (0, import_react9.useEffect)(t3, []);
};
var bc3 = function(t3) {
  return ++t3 % 1e6;
};
var wc3 = function() {
  var t3 = (0, import_react9.useState)(0), r4 = t3[1];
  return (0, import_react9.useCallback)(function() {
    return r4(bc3);
  }, []);
};
var jc3 = function(t3) {
  t3 === void 0 && (t3 = {});
  var r4 = wc3(), n4 = (0, import_react9.useRef)(ye4({}, t3)), o2 = (0, import_react9.useCallback)(function() {
    return n4.current;
  }, []), a3 = (0, import_react9.useCallback)(function(i5) {
    i5 && (Object.assign(n4.current, i5), r4());
  }, []);
  return [o2, a3];
};
var kc3 = function() {
  var t3 = (0, import_react9.useRef)(true);
  return t3.current ? (t3.current = false, true) : t3.current;
};
var Ot5 = function(t3, r4) {
  var n4 = kc3();
  (0, import_react9.useEffect)(function() {
    if (!n4)
      return t3();
  }, r4);
};
var kr3 = function() {
};
var Nt4 = {
  isFinished: true,
  progress: 0,
  sideEffect: kr3
};
var $c3 = function(t3) {
  var r4 = t3 === void 0 ? {} : t3, n4 = r4.animationDuration, o2 = n4 === void 0 ? 200 : n4, a3 = r4.incrementDuration, i5 = a3 === void 0 ? 800 : a3, u5 = r4.isAnimating, h3 = u5 === void 0 ? false : u5, f8 = r4.minimum, y4 = f8 === void 0 ? 0.08 : f8, p3 = jc3(Nt4), m3 = p3[0], l3 = p3[1], g6 = (0, import_react9.useRef)(null), w6 = (0, import_react9.useRef)(null);
  Tt4(function() {
    g6.current = yc3(), w6.current = xc3();
  });
  var P3 = (0, import_react9.useCallback)(function() {
    var z4, I4;
    (z4 = w6.current) == null || z4.cancel(), (I4 = g6.current) == null || I4.clear();
  }, []), C5 = (0, import_react9.useCallback)(function(z4) {
    var I4;
    if (z4 = jr2(z4, y4, 1), z4 === 1) {
      var D3, X6;
      P3(), (D3 = g6.current) == null || D3.enqueue(function(B4) {
        l3({
          progress: z4,
          sideEffect: function() {
            var W5;
            return (W5 = w6.current) == null ? void 0 : W5.schedule(B4, o2);
          }
        });
      }), (X6 = g6.current) == null || X6.enqueue(function() {
        l3({
          isFinished: true,
          sideEffect: P3
        });
      });
      return;
    }
    (I4 = g6.current) == null || I4.enqueue(function(B4) {
      l3({
        isFinished: false,
        progress: z4,
        sideEffect: function() {
          var W5;
          return (W5 = w6.current) == null ? void 0 : W5.schedule(B4, o2);
        }
      });
    });
  }, [o2, P3, y4, g6, l3, w6]), j7 = (0, import_react9.useCallback)(function() {
    C5(_c3(m3().progress));
  }, [m3, C5]), x8 = (0, import_react9.useCallback)(function() {
    var z4 = function() {
      var D3;
      j7(), (D3 = g6.current) == null || D3.enqueue(function(X6) {
        var B4;
        (B4 = w6.current) == null || B4.schedule(function() {
          z4(), X6();
        }, i5);
      });
    };
    z4();
  }, [i5, g6, w6, j7]), b7 = (0, import_react9.useRef)(kr3), d2 = m3().sideEffect;
  return (0, import_react9.useEffect)(function() {
    b7.current = j7;
  }), Tt4(function() {
    return h3 && x8(), P3;
  }), Ot5(function() {
    m3().sideEffect();
  }, [m3, d2]), Ot5(function() {
    h3 ? l3(ye4({}, Nt4, {
      sideEffect: x8
    })) : C5(1);
  }, [h3, C5, l3, x8]), {
    animationDuration: o2,
    isFinished: m3().isFinished,
    progress: m3().progress
  };
};
var $r3 = () => {
  const t3 = ur().state === "loading", [r4, n4] = (0, import_react9.useState)(false);
  (0, import_react9.useEffect)(() => {
    const i5 = setTimeout(() => n4(t3), 200);
    return () => clearTimeout(i5);
  }, [t3]);
  const { isFinished: o2, progress: a3 } = $c3({ isAnimating: r4 });
  return ae.jsx(
    "div",
    {
      className: "absolute w-0 left-0 right-0 bottom-[-1px] h-[2px] bg-primary transition-all duration-300 ease-in-out",
      style: {
        opacity: o2 ? 0 : 1,
        width: o2 ? 0 : `${a3 * 100}%`
      }
    }
  );
};
function zc3() {
  const e = navigator.userAgent.toLowerCase();
  if (e.includes("win")) return "Windows";
  if (e.includes("mac")) return "macOS";
  if (e.includes("linux")) return "Linux";
}
var zr2 = ({ className: e }) => {
  const t3 = X(), [r4, n4] = (0, import_react9.useState)(false), o2 = (0, import_react9.useCallback)(() => n4(false), []);
  (0, import_react9.useEffect)(() => {
    if (r4)
      return;
    function i5(u5) {
      u5.key === "k" && (u5.metaKey || u5.ctrlKey) && (u5.preventDefault(), n4(true));
    }
    return window.addEventListener("keydown", i5), () => {
      window.removeEventListener("keydown", i5);
    };
  }, [r4, n4]);
  const a3 = t3.plugins.find(u3);
  return a3 ? ae.jsxs("div", { className: e, children: [
    ae.jsxs(
      "button",
      {
        type: "button",
        onClick: () => n4(true),
        className: "flex items-center border border-input hover:bg-accent hover:text-accent-foreground p-4 relative h-8 justify-start rounded-lg bg-background text-sm text-muted-foreground shadow-none w-full sm:w-72",
        children: [
          ae.jsxs("div", { className: "flex items-center gap-2 grow", children: [
            ae.jsx(Search, { size: 14 }),
            "Search"
          ] }),
          ae.jsx(c3, { children: ae.jsx(Pc3, {}) })
        ]
      }
    ),
    ae.jsx(import_react9.Suspense, { fallback: null, children: a3.renderSearch({
      isOpen: r4,
      onClose: o2
    }) })
  ] }) : null;
};
var Pc3 = () => {
  const e = zc3();
  return ae.jsxs("kbd", { className: "absolute end-1.5 hidden h-5 select-none items-center gap-1 rounded-sm border bg-muted px-1.5 font-mono text-[11px] font-medium opacity-100 sm:flex", children: [
    e === "macOS" ? "" : "Ctrl",
    "+K"
  ] });
};
var Pr3 = () => {
  const { resolvedTheme: e, setTheme: t3 } = U();
  return ae.jsx(c3, { fallback: ae.jsx(g3, { variant: "ghost", size: "icon" }), children: ae.jsxs(
    "button",
    {
      type: "button",
      className: "flex rounded-full border p-0.5 gap-0.5 group",
      onClick: () => t3(e === "dark" ? "light" : "dark"),
      "aria-label": e === "dark" ? "Switch to light mode" : "Switch to dark mode",
      children: [
        ae.jsx(
          "div",
          {
            className: mo(
              "border border-transparent rounded-full p-0.5 [&>svg>circle]:transition-colors [&>svg>path]:transition-transform transition-all [&>svg>path]:duration-200 [&>svg>circle]:duration-500 [&>svg>circle]:fill-transparent",
              e === "light" && "border-border bg-muted",
              e === "dark" && "group-hover:[&>svg>path]:scale-110 group-hover:[&>svg>path]:-translate-x-[1px] group-hover:[&>svg>path]:-translate-y-[1px] group-hover:rotate-[15deg] "
            ),
            children: ae.jsx(Sun, { size: 16 })
          }
        ),
        ae.jsx(
          "div",
          {
            className: mo(
              "border border-transparent rounded-full p-0.5 transition-transform transform-gpu duration-500",
              e === "dark" && "border-border bg-muted [&>svg>path]:fill-white [&>svg>path]:stroke-transparent",
              e === "light" && "group-hover:rotate-[-10deg] [&>svg>path]:stroke-currentColor"
            ),
            children: ae.jsx(Moon, { size: 16 })
          }
        )
      ]
    }
  ) });
};
var Ec3 = () => {
  const { navigation: e } = X(), { isAuthenticated: t3 } = de(), r4 = e.filter(xe(t3));
  return r4.length === 0 ? ae.jsx("style", { children: ":root { --top-nav-height: 0px; }" }) : ae.jsx(import_react9.Suspense, { children: ae.jsxs("div", { className: "items-center justify-between px-8 h-(--top-nav-height) hidden lg:flex text-sm relative", children: [
    ae.jsx("nav", { className: "text-sm", children: ae.jsx("ul", { className: "flex flex-row items-center gap-8", children: r4.map((n4) => ae.jsx("li", { children: ae.jsx(Sr3, { ...n4 }) }, n4.label + n4.type)) }) }),
    ae.jsx(FE.Target, { name: "top-navigation-side" })
  ] }) });
};
var Er3 = (e) => {
  switch (e.type) {
    case "doc":
      return F(e.path);
    case "link":
      return e.to;
    case "category":
      return e.link?.path ? F(e.link.path) : Y(e, (t3) => {
        if (t3.type !== "category")
          return Er3(t3);
      }) ?? "";
    case "custom-page":
      return e.path;
  }
};
var Ae4 = ({
  isActive: e,
  children: t3,
  ...r4
}) => ae.jsx(
  Bt,
  {
    viewTransition: true,
    className: ({ isActive: n4, isPending: o2 }) => {
      const a3 = n4 || e;
      return y(
        "flex items-center gap-2 lg:py-3.5 font-medium -mb-px transition duration-150 delay-75 relative",
        a3 || o2 ? [
          "text-foreground",
          // underline with view transition animation
          "after:content-[''] after:absolute after:bottom-0 after:left-0 after:right-0",
          "after:h-0.5 after:bg-primary",
          a3 && "after:[view-transition-name:top-nav-underline]",
          o2 && "after:bg-primary/25"
        ] : "text-foreground/75 hover:text-foreground"
      );
    },
    ...r4,
    children: t3
  }
);
var Sr3 = (e) => {
  const t3 = St(), r4 = Jp(t3.topNavItem, e), n4 = Er3(e);
  return (
    // We don't use isActive here because it has to be inside the navigation,
    // the top nav id doesn't necessarily start with the navigation id
    ae.jsxs(Ae4, { to: n4, isActive: r4, children: [
      e.icon && ae.jsx(e.icon, { size: 16, className: "align-[-0.125em]" }),
      e.label
    ] })
  );
};
var Sc3 = () => {
  const { navigation: e, options: t3, getProfileMenuItems: r4 } = X(), { isAuthenticated: n4, profile: o2, isAuthEnabled: a3, login: i5 } = de(), [u5, h3] = (0, import_react9.useState)(false), f8 = r4(), y4 = e.filter(xe(n4));
  return ae.jsxs(
    Ge4,
    {
      direction: t3.site?.dir === "rtl" ? "left" : "right",
      open: u5,
      onOpenChange: (p3) => h3(p3),
      children: [
        ae.jsxs("div", { className: "flex lg:hidden justify-self-end", children: [
          ae.jsx(sn3, { className: "lg:hidden", children: ae.jsx(Menu, { size: 22 }) }),
          ae.jsx($r3, {})
        ] }),
        ae.jsx(
          Qe4,
          {
            className: "lg:hidden h-[100dvh] end-0 start-auto w-[320px] rounded-none",
            "aria-describedby": void 0,
            children: ae.jsxs("div", { className: "p-4 overflow-y-auto overscroll-none h-full flex flex-col justify-between", children: [
              ae.jsxs("div", { children: [
                ae.jsx(VisuallyHidden, { children: ae.jsx(en3, { children: "Navigation" }) }),
                ae.jsx(zr2, { className: "flex p-4" }),
                ae.jsxs("ul", { className: "flex flex-col items-center gap-4 p-4", children: [
                  ae.jsx("li", { className: "empty:hidden", children: ae.jsx(FE.Target, { name: "top-navigation-side" }) }),
                  a3 && ae.jsx(
                    c3,
                    {
                      fallback: ae.jsx(Ne6, { className: "rounded-sm h-5 w-24 mr-4" }),
                      children: n4 ? Object.values(r4()).length > 0 && ae.jsx(import_react9.Fragment, { children: ae.jsxs("li", { children: [
                        o2?.name ? `${o2.name}` : "My Account",
                        o2?.email && ae.jsx("div", { className: "font-normal text-muted-foreground", children: o2.email })
                      ] }) }) : ae.jsx("li", { children: ae.jsx(
                        Ae4,
                        {
                          to: "/signin",
                          onClick: () => h3(false),
                          children: "Login"
                        }
                      ) })
                    }
                  ),
                  y4.map((p3) => ae.jsx("li", { children: ae.jsx("button", { type: "button", onClick: () => h3(false), children: ae.jsx(Sr3, { ...p3 }) }) }, p3.label)),
                  a3 && n4 && f8.length > 0 && ae.jsx(
                    c3,
                    {
                      fallback: ae.jsx(Ne6, { className: "rounded-sm h-5 w-24 mr-4" }),
                      children: f8.map((p3) => ae.jsx("li", { children: ae.jsx(
                        Ae4,
                        {
                          to: p3.path ?? "",
                          onClick: () => h3(false),
                          children: p3.label
                        }
                      ) }, p3.label))
                    }
                  ),
                  ae.jsx("li", { children: ae.jsx(Pr3, {}) })
                ] })
              ] }),
              t3.site?.showPoweredBy !== false && ae.jsx(wr3, { className: "grow-0 justify-center gap-1" })
            ] })
          }
        )
      ]
    }
  );
};
var ge3 = ({ item: e }) => e.children ? ae.jsxs(S2, { children: [
  ae.jsx(p2, { children: e.label }),
  ae.jsx(v4, { children: ae.jsx(u4, { children: e.children.map((t3, r4) => (
    // eslint-disable-next-line react/no-array-index-key
    ae.jsx(ge3, { item: t3 }, r4)
  )) }) })
] }, e.label) : ae.jsx(Ne, { to: e.path ?? "", children: ae.jsxs(x6, { className: "flex gap-2", children: [
  e.icon && ae.jsx(e.icon, { size: 16, strokeWidth: 1, absoluteStrokeWidth: true }),
  e.label
] }, e.label) });
var Zr3 = (0, import_react9.memo)(function() {
  const t3 = de(), { isAuthenticated: r4, profile: n4, isAuthEnabled: o2 } = de(), a3 = X(), { site: i5, plugins: u5, options: h3 } = a3, f8 = u5.filter((l3) => o(l3)).flatMap((l3) => l3.getProfileMenuItems(a3)).sort((l3) => l3.weight ?? 0), y4 = i5?.logo ? /https?:\/\//.test(i5.logo.src.light) ? i5.logo.src.light : F(h3.basePath, i5.logo.src.light) : void 0, p3 = i5?.logo ? /https?:\/\//.test(i5.logo.src.dark) ? i5.logo.src.dark : F(h3.basePath, i5.logo.src.dark) : void 0, m3 = "inset-shadow-[0_-1px_0_0_var(--border)]";
  return ae.jsxs("header", { className: "sticky lg:top-0 z-10 bg-background/80 backdrop-blur w-full", children: [
    ae.jsx(hc3, {}),
    ae.jsxs("div", { className: mo(m3, "relative"), children: [
      ae.jsx($r3, {}),
      ae.jsxs("div", { className: "max-w-screen-2xl mx-auto flex items-center justify-between h-(--top-header-height) px-4 lg:px-8 border-transparent", children: [
        ae.jsx("div", { className: "flex", children: ae.jsx(Ne, { to: "/", children: ae.jsxs("div", { className: "flex items-center gap-3.5", children: [
          i5?.logo && ae.jsxs(ae.Fragment, { children: [
            ae.jsx(
              "img",
              {
                src: y4,
                alt: i5.logo.alt ?? i5.title,
                style: { width: i5.logo.width },
                className: "max-h-(--top-header-height) dark:hidden",
                loading: "lazy"
              }
            ),
            ae.jsx(
              "img",
              {
                src: p3,
                alt: i5.logo.alt ?? i5.title,
                style: { width: i5.logo.width },
                className: "max-h-(--top-header-height) hidden dark:block",
                loading: "lazy"
              }
            )
          ] }),
          ae.jsx("span", { className: "font-semibold text-2xl", children: i5?.title })
        ] }) }) }),
        ae.jsx("div", { className: "absolute inset-x-0 justify-center items-center hidden lg:flex w-full pointer-events-none", children: ae.jsx(zr2, { className: "pointer-events-auto" }) }),
        ae.jsxs("div", { className: "flex items-center gap-8", children: [
          ae.jsx(Sc3, {}),
          ae.jsxs("div", { className: "hidden lg:flex items-center justify-self-end text-sm gap-2", children: [
            ae.jsx(FE.Target, { name: "head-navigation-start" }),
            o2 && ae.jsx(
              c3,
              {
                fallback: ae.jsx(Ne6, { className: "rounded-sm h-5 w-24 mr-4" }),
                children: r4 ? Object.values(f8).length > 0 && ae.jsxs(M4, { modal: false, children: [
                  ae.jsx(R4, { asChild: true, children: ae.jsx(g3, { variant: "ghost", children: n4?.name ?? "My Account" }) }),
                  ae.jsxs(f7, { className: "w-56", children: [
                    ae.jsxs(h2, { children: [
                      n4?.name ? `${n4.name}` : "My Account",
                      n4?.email && ae.jsx("div", { className: "font-normal text-muted-foreground", children: n4.email })
                    ] }),
                    f8.filter((l3) => l3.category === "top").length > 0 && ae.jsx(N4, {}),
                    f8.filter((l3) => l3.category === "top").map((l3) => ae.jsx(ge3, { item: l3 }, l3.label)),
                    f8.filter(
                      (l3) => !l3.category || l3.category === "middle"
                    ).length > 0 && ae.jsx(N4, {}),
                    f8.filter(
                      (l3) => !l3.category || l3.category === "middle"
                    ).map((l3) => ae.jsx(ge3, { item: l3 }, l3.label)),
                    f8.filter((l3) => l3.category === "bottom").length > 0 && ae.jsx(N4, {}),
                    f8.filter((l3) => l3.category === "bottom").map((l3) => ae.jsx(ge3, { item: l3 }, l3.label))
                  ] })
                ] }) : ae.jsx(g3, { variant: "ghost", onClick: () => t3.login(), children: "Login" })
              }
            ),
            ae.jsx(FE.Target, { name: "head-navigation-end" }),
            ae.jsx(Pr3, {})
          ] })
        ] })
      ] })
    ] }),
    ae.jsx("div", { className: mo("hidden lg:block", m3), children: ae.jsxs("div", { className: "max-w-screen-2xl mx-auto border-transparent relative", children: [
      ae.jsx(FE.Target, { name: "top-navigation-before" }),
      ae.jsx(Ec3, {}),
      ae.jsx(FE.Target, { name: "top-navigation-after" })
    ] }) })
  ] });
});
var Cr3 = ({
  shouldScaleBackground: e = true,
  ...t3
}) => ae.jsx(
  V5.Root,
  {
    shouldScaleBackground: e,
    ...t3
  }
);
Cr3.displayName = "Drawer";
var Zc2 = V5.Trigger;
var Cc3 = V5.Portal;
var Tr3 = Q5.forwardRef(({ className: e, ...t3 }, r4) => ae.jsx(
  V5.Overlay,
  {
    ref: r4,
    className: mo("fixed inset-0 z-50 bg-black/80", e),
    ...t3
  }
));
Tr3.displayName = V5.Overlay.displayName;
var Tc3 = Q5.forwardRef(
  ({ className: e, children: t3, hideBar: r4 = true, ...n4 }, o2) => ae.jsxs(Cc3, { children: [
    ae.jsx(Tr3, {}),
    ae.jsxs(
      V5.Content,
      {
        ref: o2,
        className: mo(
          "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
          e
        ),
        ...n4,
        children: [
          !r4 && ae.jsx("div", { className: "mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" }),
          t3
        ]
      }
    )
  ] })
);
Tc3.displayName = "DrawerContent";
var Oc3 = Q5.forwardRef(({ className: e, ...t3 }, r4) => ae.jsx(
  V5.Title,
  {
    ref: r4,
    className: mo(
      "text-lg font-semibold leading-none tracking-tight",
      e
    ),
    ...t3
  }
));
Oc3.displayName = V5.Title.displayName;
var Nc3 = Q5.forwardRef(({ className: e, ...t3 }, r4) => ae.jsx(
  V5.Description,
  {
    ref: r4,
    className: mo("text-sm text-muted-foreground", e),
    ...t3
  }
));
Nc3.displayName = V5.Description.displayName;
var Or3 = ({
  children: e,
  className: t3
}) => {
  const { options: r4 } = X(), n4 = (0, import_react9.useRef)(null);
  return (0, import_react9.useEffect)(() => {
    const o2 = n4.current?.querySelector('[aria-current="page"]');
    tE(o2 ?? null);
  }, []), ae.jsxs("div", { className: "grid sticky top-(--header-height) lg:h-[calc(100vh-var(--header-height))] grid-rows-[1fr_min-content] border-r", children: [
    ae.jsx(
      "nav",
      {
        ref: n4,
        className: mo(
          "hidden max-w-[calc(var(--side-nav-width)+var(--padding-nav-item))] lg:flex scrollbar flex-col overflow-y-auto shrink-0 text-sm pe-3 ps-4 lg:ps-8",
          "-mx-(--padding-nav-item) pb-[8vh] pt-(--padding-content-top) scroll-pt-2 gap-1",
          // Revert the padding/margin on the first child
          "-mt-2.5",
          t3
        ),
        style: {
          maskImage: "linear-gradient(180deg, transparent 1%, rgba(0, 0, 0, 1) 20px, rgba(0, 0, 0, 1) 90%, transparent 99%)"
        },
        children: e
      }
    ),
    ae.jsx("div", { className: "bg-background border-t p-2 mx-5  gap-2 items-center mt-2 drop-shadow-[0_-3px_1px_rgba(0,0,0,0.015)] hidden lg:[&:has(>_:nth-child(1):last-child)]:flex", children: r4.site?.showPoweredBy !== false && ae.jsx(wr3, {}) })
  ] });
};
Or3.displayName = "NavigationWrapper";
var Ac3 = ({
  onRequestClose: e,
  navigation: t3
}) => ae.jsxs(ae.Fragment, { children: [
  ae.jsxs(Or3, { children: [
    ae.jsx(FE.Target, { name: "navigation-before" }),
    t3.map((r4) => ae.jsx(
      eE,
      {
        item: r4
      },
      r4.type + (r4.label ?? "") + ("path" in r4 ? r4.path : "") + ("file" in r4 ? r4.file : "") + ("to" in r4 ? r4.to : "")
    )),
    ae.jsx(FE.Target, { name: "navigation-after" })
  ] }),
  ae.jsx(
    Qe4,
    {
      className: "lg:hidden h-[100dvh] start-0 w-[320px] rounded-none",
      "aria-describedby": void 0,
      children: ae.jsxs("div", { className: "p-4 overflow-y-auto overscroll-none", children: [
        ae.jsx(VisuallyHidden, { children: ae.jsx(en3, { children: "Navigation" }) }),
        t3.map((r4) => ae.jsx(
          eE,
          {
            item: r4,
            onRequestClose: e
          },
          r4.label
        ))
      ] })
    }
  )
] });
var Ic3 = ({ children: e }) => {
  const [t3, r4] = (0, import_react9.useState)(false), { navigation: n4 } = St(), o2 = n4.length > 0, a3 = ur().state === "loading", { options: i5 } = X();
  return ae.jsxs(
    Cr3,
    {
      direction: i5.site?.dir === "rtl" ? "right" : "left",
      open: t3,
      onOpenChange: (u5) => r4(u5),
      children: [
        o2 && ae.jsx(
          Ac3,
          {
            onRequestClose: () => r4(false),
            navigation: n4
          }
        ),
        o2 && ae.jsx("div", { className: "lg:hidden -mx-4 px-4 py-2 sticky bg-background/80 backdrop-blur-xs z-10 top-0 start-0 end-0 border-b", children: ae.jsxs(Zc2, { className: "flex items-center gap-2 px-4", children: [
          ae.jsx(PanelLeft, { size: 16, strokeWidth: 1.5 }),
          ae.jsx("span", { className: "text-sm", children: "Menu" })
        ] }) }),
        ae.jsxs(
          "main",
          {
            "data-pagefind-body": true,
            className: mo(
              "px-4 lg:pe-8 lg:px-8",
              !o2 && "col-span-full",
              a3 && "animate-pulse"
            ),
            children: [
              ae.jsx(FE.Target, { name: "content-before" }),
              e,
              ae.jsx(FE.Target, { name: "content-after" })
            ]
          }
        )
      ]
    }
  );
};
var Rc3 = () => ae.jsx("main", { className: "col-span-full row-span-full grid place-items-center", children: ae.jsx(i3, {}) });
var Dc3 = ({ children: e }) => {
  const { meta: t3, authentication: r4, options: n4 } = X(), o2 = N();
  return wE(), uc3(), (0, import_react9.useEffect)(() => {
    r4?.onPageLoad?.();
  }, [r4]), ae.jsxs(ae.Fragment, { children: [
    ae.jsxs(Ye, { titleTemplate: t3?.title, children: [
      n4.canonicalUrlOrigin && ae.jsx(
        "link",
        {
          rel: "canonical",
          href: F(
            n4.canonicalUrlOrigin,
            n4.basePath,
            o2.pathname
          )
        }
      ),
      t3?.description && ae.jsx("meta", { name: "description", content: t3.description }),
      t3?.favicon && ae.jsx("link", { rel: "icon", href: t3.favicon })
    ] }),
    ae.jsx(FE.Target, { name: "layout-before-head" }),
    ae.jsx(Zr3, {}),
    ae.jsx(FE.Target, { name: "layout-after-head" }),
    ae.jsx(
      "div",
      {
        className: mo(
          "grid max-w-screen-2xl w-full lg:mx-auto",
          "[&:has(>:only-child)]:grid-rows-1 grid-rows-[0_min-content_1fr] lg:grid-rows-[min-content_1fr]",
          "grid-cols-1 lg:grid-cols-[var(--side-nav-width)_1fr]"
        ),
        children: ae.jsx(import_react9.Suspense, { fallback: ae.jsx(Rc3, {}), children: ae.jsx(Ic3, { children: e ?? ae.jsx(dr, {}) }) })
      }
    ),
    ae.jsx(fc3, {})
  ] });
};
var Mc3 = ({
  title: e = "An error occurred",
  message: t3,
  category: r4
}) => ae.jsxs(Br2, { className: "h-full pt-(--padding-content-top)", children: [
  r4 && ae.jsx(ao2, { children: r4 }),
  e && ae.jsx(Ye3, { level: 1, className: "flex gap-3.5 items-center", children: e }),
  ae.jsx("p", { children: t3 })
] });
var Fc3 = (e) => {
  switch (e) {
    case 400:
      return {
        title: "Bad Request",
        message: "The request could not be understood by the server due to malformed syntax."
      };
    case 403:
      return {
        title: "Forbidden",
        message: "You don't have permission to access this resource."
      };
    case 404:
      return {
        title: "Not Found",
        message: "The requested resource could not be found."
      };
    case 405:
      return {
        title: "Method Not Allowed",
        message: "The request method is not supported for the requested resource."
      };
    case 414:
      return {
        title: "Request URI Too Large",
        message: "The request URI is too large."
      };
    case 416:
      return {
        title: "Range Not Satisfiable",
        message: "The server cannot satisfy the request range."
      };
    case 500:
      return {
        title: "Internal Server Error",
        message: "An unexpected error occurred while processing your request."
      };
    case 501:
      return {
        title: "Not Implemented",
        message: "The server does not support the functionality required to fulfill the request."
      };
    case 502:
      return {
        title: "Bad Gateway",
        message: "The server received an invalid response from the upstream server."
      };
    case 503:
      return {
        title: "Service Unavailable",
        message: "The server is temporarily unable to handle the request."
      };
    case 504:
      return {
        title: "Gateway Timeout",
        message: "The server did not receive a timely response from the upstream server."
      };
    default:
      return {
        title: "An error occurred",
        message: "Something went wrong while processing your request."
      };
  }
};
var qc2 = ({ statusCode: e, message: t3 }) => {
  const r4 = Fc3(e);
  return ae.jsx(
    Mc3,
    {
      title: r4.title,
      message: t3 ?? r4.message,
      category: e
    }
  );
};
var Uc3 = (0, import_react9.createContext)(null);
var Ee5 = {
  didCatch: false,
  error: null
};
var Lc3 = class extends import_react9.Component {
  constructor(t3) {
    super(t3), this.resetErrorBoundary = this.resetErrorBoundary.bind(this), this.state = Ee5;
  }
  static getDerivedStateFromError(t3) {
    return {
      didCatch: true,
      error: t3
    };
  }
  resetErrorBoundary() {
    const {
      error: t3
    } = this.state;
    if (t3 !== null) {
      for (var r4, n4, o2 = arguments.length, a3 = new Array(o2), i5 = 0; i5 < o2; i5++)
        a3[i5] = arguments[i5];
      (r4 = (n4 = this.props).onReset) === null || r4 === void 0 || r4.call(n4, {
        args: a3,
        reason: "imperative-api"
      }), this.setState(Ee5);
    }
  }
  componentDidCatch(t3, r4) {
    var n4, o2;
    (n4 = (o2 = this.props).onError) === null || n4 === void 0 || n4.call(o2, t3, r4);
  }
  componentDidUpdate(t3, r4) {
    const {
      didCatch: n4
    } = this.state, {
      resetKeys: o2
    } = this.props;
    if (n4 && r4.error !== null && Qc3(t3.resetKeys, o2)) {
      var a3, i5;
      (a3 = (i5 = this.props).onReset) === null || a3 === void 0 || a3.call(i5, {
        next: o2,
        prev: t3.resetKeys,
        reason: "keys"
      }), this.setState(Ee5);
    }
  }
  render() {
    const {
      children: t3,
      fallbackRender: r4,
      FallbackComponent: n4,
      fallback: o2
    } = this.props, {
      didCatch: a3,
      error: i5
    } = this.state;
    let u5 = t3;
    if (a3) {
      const h3 = {
        error: i5,
        resetErrorBoundary: this.resetErrorBoundary
      };
      if (typeof r4 == "function")
        u5 = r4(h3);
      else if (n4)
        u5 = (0, import_react9.createElement)(n4, h3);
      else if (o2 !== void 0)
        u5 = o2;
      else
        throw i5;
    }
    return (0, import_react9.createElement)(Uc3.Provider, {
      value: {
        didCatch: a3,
        error: i5,
        resetErrorBoundary: this.resetErrorBoundary
      }
    }, u5);
  }
};
function Qc3() {
  let e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], t3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
  return e.length !== t3.length || e.some((r4, n4) => !Object.is(r4, t3[n4]));
}
var Bc3 = () => ({
  emit(e, ...t3) {
    for (let r4 = this.events[e] || [], n4 = 0, o2 = r4.length; n4 < o2; n4++)
      r4[n4](...t3);
  },
  events: {},
  on(e, t3) {
    return (this.events[e] ||= []).push(t3), () => {
      this.events[e] = this.events[e]?.filter((r4) => t3 !== r4);
    };
  }
});
var Hc3 = (e) => Object.entries(e);
var Kc2 = class {
  plugins;
  navigation;
  meta;
  site;
  authentication;
  queryClient;
  options;
  navigationPlugins;
  emitter = Bc3();
  constructor(t3, r4) {
    const n4 = (t3.protectedRoutes ?? []).concat(
      t3.plugins?.flatMap(
        (o2) => s2(o2) ? o2.getProtectedRoutes?.() ?? [] : []
      ) ?? []
    );
    this.queryClient = r4, this.options = { ...t3, protectedRoutes: n4 }, this.plugins = t3.plugins ?? [], this.navigation = t3.navigation ?? [], this.navigationPlugins = this.plugins.filter(s2), this.authentication = this.plugins.find(c4), this.meta = t3.metadata, this.site = t3.site, this.plugins.forEach((o2) => {
      i4(o2) && Hc3(o2.events).forEach(([a3, i5]) => {
        this.emitter.on(a3, i5);
      });
    }), Ot.subscribe((o2, a3) => {
      this.emitEvent("auth", {
        prev: a3,
        next: o2
      });
    });
  }
  initialize = async () => {
    await Promise.all(
      this.plugins.filter(g4).map((t3) => t3.initialize?.(this))
    );
  };
  getApiIdentities = async () => (await Promise.all(
    this.plugins.filter(a2).map((r4) => r4.getIdentities(this))
  )).flat();
  addEventListener(t3, r4) {
    return this.emitter.on(t3, r4);
  }
  emitEvent = (t3, ...r4) => this.emitter.emit(t3, ...r4);
  getPluginNavigation = async (t3) => (await Promise.all(
    this.navigationPlugins.map(
      (n4) => n4.getNavigation?.(F(t3), this)
    )
  )).flatMap((n4) => n4 ?? []);
  getProfileMenuItems = () => this.plugins.filter((r4) => o(r4)).flatMap((r4) => r4.getProfileMenuItems(this)).sort(Wc3(["top", "middle", "bottom"])).sort((r4) => r4.weight ?? 0);
  signRequest = async (t3) => {
    if (!this.authentication)
      throw new Error("No authentication provider configured");
    return await this.authentication.signRequest(t3);
  };
};
var Wc3 = (e) => (t3, r4) => {
  const n4 = e.indexOf(t3.category ?? "middle"), o2 = e.indexOf(r4.category ?? "middle");
  return n4 - o2;
};
function Vc2({ error: e, resetErrorBoundary: t3 }) {
  return ae.jsx(hE, { error: e });
}
var me3 = globalThis;
(!me3.requestIdleCallback || !me3.cancelIdleCallback) && (me3.requestIdleCallback = (e) => setTimeout(e, 1), me3.cancelIdleCallback = clearTimeout);
var Nr3 = {
  Header: Zr3
};
var Yc2 = (0, import_react9.createContext)(Nr3);
var Gc3 = Yc2.Provider;
var Jc2 = () => {
  const e = N(), t3 = X(), r4 = (0, import_react9.useRef)(void 0);
  return (0, import_react9.useEffect)(() => {
    t3.emitEvent("location", {
      from: r4.current,
      to: e
    }), r4.current = e;
  }, [t3, e]), null;
};
var Xc2 = ({
  children: e,
  context: t3
}) => (Xt({
  queryFn: async () => (await t3.initialize(), true),
  queryKey: ["zudoku-initialize", Pe]
}), ae.jsx(ne2.Provider, { value: t3, children: e }));
var At4;
var Ar3 = (0, import_react9.memo)(
  ({ children: e, ...t3 }) => {
    const r4 = (0, import_react9.useMemo)(
      () => ({ ...Nr3, ...t3.overrides }),
      [t3.overrides]
    ), n4 = N(), o2 = (0, import_react9.useMemo)(() => ({
      ...(t3.plugins ?? []).filter(r).flatMap(
        (l3) => l3.getMdxComponents ? [l3.getMdxComponents()] : []
      ).reduce(
        (l3, g6) => ({ ...l3, ...g6 }),
        {}
      ),
      ...oE,
      ...t3.mdx?.components
    }), [t3.mdx?.components, t3.plugins]), { stagger: a3 } = (0, import_react9.useContext)(Ze5), [i5, u5] = (0, import_react9.useState)(false), h3 = (0, import_react9.useMemo)(
      () => i5 ? { stagger: true } : { stagger: a3 },
      [a3, i5]
    ), f8 = ur(), y4 = vt();
    (0, import_react9.useEffect)(() => {
      i5 || u5(true);
    }, [i5, f8.location]), At4 ??= new Kc2(t3, y4);
    const p3 = t3.plugins?.flatMap(
      (m3) => f6(m3) ? m3.getHead?.({ location: n4 }) ?? [] : []
    ).map((m3, l3) => ae.jsx(Ye, { children: m3 }, l3));
    return ae.jsxs(ae.Fragment, { children: [
      p3,
      ae.jsx(Ze5.Provider, { value: h3, children: ae.jsxs(Xc2, { context: At4, children: [
        ae.jsx(Jc2, {}),
        ae.jsx(BE, { slots: t3.slots ?? t3.UNSAFE_slotlets, children: ae.jsx(Q3, { components: o2, children: ae.jsx(q2, { attribute: "class", disableTransitionOnChange: true, children: ae.jsx(Gc3, { value: r4, children: ae.jsx(PE, { children: e ?? ae.jsx(dr, {}) }) }) }) }) })
      ] }) })
    ] });
  }
);
Ar3.displayName = "ZudokoInner";
var Ir3 = (e) => ae.jsx(Lc3, { FallbackComponent: Vc2, children: ae.jsx(Ar3, { ...e }) });
Ir3.displayName = "Zudoku";
var _u3 = Dc3;
var bu3 = ME;
var wu3 = wo3;
var ju3 = $o3;
var ku3 = zo3;
var $u3 = st;
var zu3 = Ye;
var Pu3 = qc2;
var Eu3 = w2;
var Su3 = rs2;
var Zu3 = i3;
var Cu3 = c3;
var Tu3 = g;
var Ou3 = Ne;
var Nu3 = cc3;
var Au3 = Ir3;
var Iu3 = Br2;
var Ru3 = R2;
var eu3 = X;
var Du3 = de;
var Mu3 = Ie;
var Fu3 = bt;
var qu3 = U;

export {
  g,
  i,
  f2 as f,
  a,
  l,
  u,
  j2 as j,
  b,
  f3 as f2,
  g2,
  x,
  u2,
  Ye,
  Qe,
  R2 as R,
  U,
  C2 as C,
  Hc,
  Wc,
  CollapsibleTrigger,
  CollapsibleContent,
  Root5 as Root,
  Trigger3 as Trigger,
  Content3 as Content,
  g3,
  io2 as io,
  ao2 as ao,
  Xd,
  Mr2 as Mr,
  hp,
  dp,
  mp,
  $a2 as $a,
  ns2 as ns,
  Ye3 as Ye2,
  aE,
  sE,
  Br2 as Br,
  rs2 as rs,
  Root22 as Root2,
  Trigger4 as Trigger2,
  Portal22 as Portal2,
  Content24 as Content2,
  Group2,
  Label2,
  Item22 as Item2,
  CheckboxItem2,
  RadioItem2,
  ItemIndicator2,
  Separator2,
  SubTrigger2,
  SubContent2,
  $c3 as $c,
  Hc3 as Hc2,
  _u3 as _u,
  bu3 as bu,
  wu3 as wu,
  ju3 as ju,
  ku3 as ku,
  $u3 as $u,
  zu3 as zu,
  Pu3 as Pu,
  Eu3 as Eu,
  Su3 as Su,
  Zu3 as Zu,
  Cu3 as Cu,
  Tu3 as Tu,
  Ou3 as Ou,
  Nu3 as Nu,
  Au3 as Au,
  Iu3 as Iu,
  Ru3 as Ru,
  eu3 as eu,
  Du3 as Du,
  Mu3 as Mu,
  Fu3 as Fu,
  qu3 as qu
};
/*! Bundled license information:

zudoku/lib/index-C_xVKbf9.js:
  (**
   * react-router v7.6.1
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

zudoku/lib/index-C_xVKbf9.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

zudoku/lib/index-C_xVKbf9.js:
  (** @license React v16.13.1
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=chunk-T457C7XC.js.map
