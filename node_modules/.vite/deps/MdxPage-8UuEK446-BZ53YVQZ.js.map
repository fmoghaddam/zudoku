{
  "version": 3,
  "sources": ["../../zudoku/src/lib/plugins/markdown/MdxPage.tsx"],
  "sourcesContent": ["import { useMDXComponents } from \"@mdx-js/react\";\nimport slugify from \"@sindresorhus/slugify\";\nimport { Helmet } from \"@zudoku/react-helmet-async\";\nimport { EditIcon } from \"lucide-react\";\nimport { type PropsWithChildren, useEffect } from \"react\";\nimport { Button } from \"zudoku/ui/Button.js\";\nimport { CategoryHeading } from \"../../components/CategoryHeading.js\";\nimport { Heading } from \"../../components/Heading.js\";\nimport { Pagination } from \"../../components/Pagination.js\";\nimport { Typography } from \"../../components/Typography.js\";\nimport { Toc } from \"../../components/navigation/Toc.js\";\nimport {\n  useCurrentItem,\n  usePrevNext,\n} from \"../../components/navigation/utils.js\";\nimport type { MdxComponentsType } from \"../../util/MdxComponents.js\";\nimport { type MarkdownPluginDefaultOptions, type MDXImport } from \"./index.js\";\n\ndeclare global {\n  interface Window {\n    __getReactRefreshIgnoredExports?: (args: {\n      id: string;\n    }) => string[] | undefined;\n  }\n}\n\nconst MarkdownHeadings = {\n  h2: ({ children, id }) => (\n    <Heading level={2} id={id} registerNavigationAnchor>\n      {children}\n    </Heading>\n  ),\n  h3: ({ children, id }) => (\n    <Heading level={3} id={id} registerNavigationAnchor>\n      {children}\n    </Heading>\n  ),\n} satisfies MdxComponentsType;\n\nexport const MdxPage = ({\n  mdxComponent: MdxComponent,\n  frontmatter = {},\n  defaultOptions,\n  __filepath,\n  tableOfContents,\n  excerpt,\n}: PropsWithChildren<\n  Omit<MDXImport, \"default\"> & {\n    mdxComponent: MDXImport[\"default\"];\n    defaultOptions?: MarkdownPluginDefaultOptions;\n  }\n>) => {\n  const categoryTitle = useCurrentItem()?.categoryLabel;\n\n  const title = frontmatter.title;\n  const description = frontmatter.description ?? excerpt;\n  const category = frontmatter.category ?? categoryTitle;\n  const hideToc = frontmatter.toc === false || defaultOptions?.toc === false;\n  const pageTitle =\n    title ?? tableOfContents.find((item) => item.depth === 1)?.value;\n  const hidePager =\n    frontmatter.disable_pager ??\n    frontmatter.disablePager ??\n    defaultOptions?.disablePager ??\n    false;\n\n  const showLastModified =\n    frontmatter.showLastModified ?? defaultOptions?.showLastModified ?? true;\n\n  const lastModifiedDate = frontmatter.lastModifiedTime\n    ? new Date(frontmatter.lastModifiedTime)\n    : null;\n\n  const editConfig =\n    frontmatter.suggestEdit !== false &&\n    (frontmatter.suggestEdit ?? defaultOptions?.suggestEdit);\n\n  const editUrl = editConfig\n    ? editConfig.url.replaceAll(\"{filePath}\", __filepath)\n    : null;\n  const editText = editConfig ? editConfig.text || \"Edit this page\" : null;\n\n  const tocEntries =\n    tableOfContents.find((item) => item.depth === 1)?.children ??\n    // if `title` is provided by frontmatter it does not appear in the table of contents\n    tableOfContents.filter((item) => item.depth === 2);\n\n  const showToc = !hideToc && tocEntries.length > 0;\n\n  const { prev, next } = usePrevNext();\n\n  useEffect(() => {\n    if (process.env.NODE_ENV === \"development\") {\n      window.__getReactRefreshIgnoredExports = ({ id }) => {\n        if (!id.endsWith(__filepath)) return;\n\n        return [\"frontmatter\", \"tableOfContents\"];\n      };\n\n      return () => {\n        window.__getReactRefreshIgnoredExports = undefined;\n      };\n    }\n  }, [__filepath]);\n\n  return (\n    <div\n      className=\"grid grid-cols-1 xl:grid-cols-(--sidecar-grid-cols) gap-8 justify-between\"\n      data-pagefind-filter=\"section:markdown\"\n      data-pagefind-meta=\"section:markdown\"\n    >\n      <Helmet>\n        <title>{pageTitle}</title>\n        {description && <meta name=\"description\" content={description} />}\n      </Helmet>\n      <Typography className=\"max-w-full xl:w-full xl:max-w-3xl flex-1 shrink pt-(--padding-content-top)\">\n        {(category || title) && (\n          <header>\n            {category && <CategoryHeading>{category}</CategoryHeading>}\n            {title && (\n              <Heading level={1} id={slugify(title)}>\n                {title}\n              </Heading>\n            )}\n          </header>\n        )}\n        <MdxComponent\n          components={{ ...useMDXComponents(), ...MarkdownHeadings }}\n        />\n        <div className=\"h-16\" />\n        {(showLastModified && lastModifiedDate) || editUrl ? (\n          <div className=\"flex justify-between text-xs text-muted-foreground \">\n            <div />\n            <div className=\"flex items-center gap-2\">\n              <div>\n                {editUrl && (\n                  <Button asChild variant=\"ghost\" size=\"sm\">\n                    <a\n                      href={editUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center gap-1\"\n                    >\n                      <EditIcon size={12} />\n                      {editText}\n                    </a>\n                  </Button>\n                )}\n              </div>\n              <div>\n                {showLastModified && lastModifiedDate && (\n                  <div\n                    title={lastModifiedDate.toLocaleString(undefined, {\n                      dateStyle: \"full\",\n                      timeStyle: \"medium\",\n                    })}\n                  >\n                    Last modified on{\" \"}\n                    <time dateTime={lastModifiedDate.toISOString()}>\n                      {lastModifiedDate.toLocaleDateString(undefined, {\n                        dateStyle: \"long\",\n                      })}\n                    </time>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        ) : null}\n        {!hidePager && (\n          <>\n            <div className=\"h-px bg-border mt-2 mb-6\" />\n            <Pagination\n              prev={prev ? { to: prev.id, label: prev.label } : undefined}\n              next={next ? { to: next.id, label: next.label } : undefined}\n              className=\"mb-10\"\n            />\n          </>\n        )}\n      </Typography>\n      <div className=\"hidden xl:block\">\n        {showToc && <Toc entries={tocEntries} />}\n      </div>\n    </div>\n  );\n};\n"],
  "mappings": "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",
  "names": ["MarkdownHeadings", "children", "id", "jsx", "Heading", "MdxPage", "MdxComponent", "frontmatter", "defaultOptions", "__filepath", "tableOfContents", "excerpt", "categoryTitle", "useCurrentItem", "title", "description", "category", "hideToc", "pageTitle", "item", "hidePager", "showLastModified", "lastModifiedDate", "editConfig", "editUrl", "editText", "tocEntries", "showToc", "prev", "next", "usePrevNext", "useEffect", "jsxs", "Helmet", "Typography", "CategoryHeading", "slugify", "useMDXComponents", "Button", "EditIcon", "Fragment", "Pagination", "Toc"]
}
