import {
  nc
} from "./chunk-SH2REVY5.js";
import {
  Br,
  Content,
  Hc2 as Hc,
  Root,
  Trigger,
  aE,
  g,
  g3 as g2,
  rs,
  sE
} from "./chunk-T457C7XC.js";
import {
  ChevronDown,
  ChevronUp,
  ChevronsLeftRight,
  Circle,
  CircleDot,
  CircleFadingPlus,
  Info,
  Minus,
  Plus,
  RefreshCcwDot,
  SquareMinus,
  SquarePlus,
  mo
} from "./chunk-R54EFXNU.js";
import {
  ae
} from "./chunk-XTV2HAPF.js";
import {
  require_react
} from "./chunk-S73QDKPN.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/zudoku/lib/ui/Card.js
var d = __toESM(require_react(), 1);
var t = d.forwardRef(({ className: a, ...e }, r) => ae.jsx(
  "div",
  {
    ref: r,
    className: mo(
      "rounded-xl border bg-card text-card-foreground shadow-xs",
      a
    ),
    ...e
  }
));
t.displayName = "Card";
var i = d.forwardRef(({ className: a, ...e }, r) => ae.jsx(
  "div",
  {
    ref: r,
    className: mo("flex flex-col space-y-1.5 p-6", a),
    ...e
  }
));
i.displayName = "CardHeader";
var c = d.forwardRef(({ className: a, ...e }, r) => ae.jsx(
  "h3",
  {
    ref: r,
    className: mo("font-semibold leading-none tracking-tight", a),
    ...e
  }
));
c.displayName = "CardTitle";
var m = d.forwardRef(({ className: a, ...e }, r) => ae.jsx(
  "p",
  {
    ref: r,
    className: mo("text-sm text-muted-foreground", a),
    ...e
  }
));
m.displayName = "CardDescription";
var n = d.forwardRef(({ className: a, ...e }, r) => ae.jsx("div", { ref: r, className: mo("p-6 pt-0", a), ...e }));
n.displayName = "CardContent";
var f = d.forwardRef(({ className: a, ...e }, r) => ae.jsx(
  "div",
  {
    ref: r,
    className: mo("flex items-center p-6 pt-0", a),
    ...e
  }
));
f.displayName = "CardFooter";

// node_modules/zudoku/lib/SchemaView-BhgJ9WB8.js
var import_react = __toESM(require_react(), 1);
var H = (e, t2) => e.reduce(
  (r, n2) => {
    const i2 = t2(n2);
    return r[i2] || (r[i2] = []), r[i2].push(n2), r;
  },
  {}
);
var Q = ({ pattern: e }) => {
  const [t2, r] = (0, import_react.useState)(false), n2 = e.length > 20, i2 = n2 ? `${e.slice(0, 20)}…` : e;
  return ae.jsxs(
    sE,
    {
      className: mo("text-xs", n2 && "cursor-pointer"),
      onClick: () => r(!t2),
      selectOnClick: false,
      children: [
        t2 ? e : i2,
        n2 && ae.jsx("button", { type: "button", className: "p-1 translate-y-[2px]", children: !t2 && ae.jsx(ChevronsLeftRight, { size: 12 }) })
      ]
    }
  );
};
var X = (e) => e ? [
  e.type === "array" && e.items.type ? Array.isArray(e.items.type) ? `(${e.items.type.join(" | ")})[]` : `${e.items.type}[]` : Array.isArray(e.type) ? e.type.join(" | ") : e.type,
  e.enum && "enum",
  e.const && "const",
  e.format,
  e.minimum && `min: ${e.minimum}`,
  e.maximum && `max: ${e.maximum}`,
  e.minLength && `minLength: ${e.minLength}`,
  e.maxLength && `maxLength: ${e.maxLength}`,
  e.minItems && `minItems: ${e.minItems}`,
  e.maxItems && `maxItems: ${e.maxItems}`,
  e.uniqueItems && "unique",
  e.minProperties && `minProps: ${e.minProperties}`,
  e.maxProperties && `maxProps: ${e.maxProperties}`,
  e.readOnly && "readOnly",
  e.writeOnly && "writeOnly",
  e.deprecated && "deprecated",
  e.pattern && ae.jsxs(ae.Fragment, { children: [
    "pattern: ",
    ae.jsx(Q, { pattern: e.pattern })
  ] })
] : [];
var j = ({
  schema: e,
  extraItems: t2 = [],
  className: r
}) => {
  const n2 = [...X(e), ...t2].flatMap(
    (i2) => typeof i2 == "string" || (0, import_react.isValidElement)(i2) ? i2 : []
  );
  return ae.jsx("span", { className: r, children: n2.map((i2, o) => ae.jsxs("span", { className: "text-muted-foreground", children: [
    i2,
    o < n2.length - 1 && ae.jsx("span", { className: "text-muted-foreground/50", children: " · " })
  ] }, o)) });
};
var f2 = ({
  values: e,
  className: t2,
  maxVisibleValues: r = 8
}) => {
  const [n2, i2] = (0, import_react.useState)(false);
  if (!e.length) return null;
  const o = e.length > r, l = o && !n2 ? e.slice(0, r) : e;
  return ae.jsxs("div", { className: mo("flex flex-wrap gap-1.5 text-xs", t2), children: [
    ae.jsx("span", { className: "text-muted-foreground", children: "Enum values: " }),
    l.map((a) => ae.jsx("div", { children: ae.jsx(aE, { className: "border rounded-sm px-1 font-mono", children: a }) }, a)),
    o && ae.jsx(
      g2,
      {
        variant: "ghost",
        size: "sm",
        className: "h-fit px-0",
        onClick: () => i2(!n2),
        children: n2 ? ae.jsxs("div", { className: "flex items-center gap-1", children: [
          ae.jsx(ChevronUp, { size: 12 }),
          ae.jsx("span", { className: "text-muted-foreground", children: "show less" })
        ] }) : ae.jsxs("div", { className: "flex items-center gap-1", children: [
          ae.jsx(ChevronDown, { size: 12 }),
          ae.jsxs("span", { className: "text-muted-foreground", children: [
            "show ",
            e.length - r,
            " more"
          ] })
        ] })
      }
    )
  ] });
};
var g3 = ({
  schema: e
}) => {
  const t2 = e.examples?.at(0), r = e.default;
  return t2 === void 0 && r === void 0 ? null : ae.jsxs("div", { className: "flex flex-col gap-1 text-xs", children: [
    t2 !== void 0 && ae.jsxs("div", { children: [
      ae.jsx("span", { className: "text-muted-foreground", children: "Example: " }),
      ae.jsx(aE, { className: "border rounded-sm px-1 font-mono", children: typeof t2 == "object" || typeof t2 == "boolean" ? JSON.stringify(t2) : t2 })
    ] }),
    r !== void 0 && ae.jsxs("div", { children: [
      ae.jsx("span", { className: "text-muted-foreground", children: "Default: " }),
      ae.jsx(aE, { className: "border rounded-sm px-1 font-mono", children: typeof r == "object" || typeof r == "boolean" ? JSON.stringify(r) : r })
    ] })
  ] });
};
var P = ({
  schema: e,
  hideDescription: t2 = false
}) => ae.jsx("div", { className: "flex flex-col gap-1 text-xs", children: ae.jsxs("div", { children: [
  ae.jsx("span", { className: "text-muted-foreground", children: "Const value: " }),
  ae.jsx(aE, { className: "border rounded px-1 font-mono", children: e.const }),
  !t2 && e.description && ae.jsx("div", { className: "text-muted-foreground", children: e.description })
] }) });
var Y = {
  AND: ae.jsx(CircleFadingPlus, { size: 16, className: "fill-card" }),
  OR: ae.jsx(CircleDot, { size: 16, className: "fill-card" }),
  ONE: ae.jsx(Circle, { size: 14, className: "fill-card" })
};
var Z = {
  AND: "text-green-500 dark:text-green-300/60",
  OR: "text-blue-400 dark:text-blue-500",
  ONE: "text-purple-500 dark:text-purple-300/60"
};
var ee = ({
  type: e,
  isOpen: t2,
  className: r,
  schemeName: n2
}) => ae.jsx(
  "div",
  {
    className: mo(
      Z[e],
      "relative text-sm flex py-2",
      "before:border-l before:absolute before:-top-2 before:-bottom-2 before:border-border before:border-dashed before:content-['']",
      r
    ),
    children: ae.jsxs("div", { className: "-translate-x-[7px] flex gap-1 items-center", children: [
      Y[e],
      ae.jsx(
        "div",
        {
          className: mo(
            "translate-y-px mx-px opacity-0 group-hover:opacity-100 transition",
            !t2 && "-rotate-90"
          ),
          children: ae.jsx(ChevronDown, { size: 16 })
        }
      ),
      ae.jsx("span", { className: "text-sm text-foreground", children: n2 })
    ] })
  }
);
var se = (e) => {
  const [t2, r] = (0, import_react.useState)(true);
  return ae.jsxs(
    Root,
    {
      open: t2,
      onOpenChange: () => r((n2) => !n2),
      className: "group",
      children: [
        ae.jsx(Trigger, { children: ae.jsx(
          ee,
          {
            type: e.type,
            isOpen: t2,
            schemeName: e.schema.title
          }
        ) }),
        !t2 && ae.jsx("div", { className: "wavy-line bg-border translate-y-1" }),
        ae.jsx(Content, { children: ae.jsx(c2, { schema: e.schema }) })
      ]
    }
  );
};
var te = {
  AND: "All of",
  OR: "Any of",
  ONE: "One of"
};
var re = ({
  schemas: e,
  type: t2,
  isOpen: r,
  toggleOpen: n2
}) => ae.jsx(Root, { open: r, onOpenChange: n2, asChild: true, children: ae.jsxs(t, { className: "px-6", children: [
  ae.jsxs(Trigger, { className: "flex gap-2 items-center py-2 w-full text-sm text-muted-foreground -translate-x-1.5", children: [
    r ? ae.jsx(SquareMinus, { size: 14 }) : ae.jsx(SquarePlus, { size: 14 }),
    ae.jsx("span", { children: te[t2] })
  ] }),
  ae.jsx(Content, { className: "pb-4", children: e.map((i2, o) => (
    // eslint-disable-next-line react/no-array-index-key
    ae.jsx(se, { type: t2, schema: i2 }, o)
  )) })
] }) });
var w = (e) => typeof e == "string" && ["string", "number", "boolean", "integer", "null"].includes(e) || Array.isArray(e) && e.every(w);
var y = (e) => e.type === "array" || // schema.type might be an array of types, so we need to check if "array" is one of them
Array.isArray(e.type) && e.type.includes("array");
var b = (e) => e && (e.type === "object" && Object.keys(e.properties ?? {}).length > 0 || e.type === "array" && typeof e.items == "object" && (!e.items.type || e.items.type === "object"));
var N = (e) => !!(e.oneOf ?? e.allOf ?? e.anyOf);
var ne = {
  allOf: "AND",
  anyOf: "OR",
  oneOf: "ONE"
};
var A = (e) => typeof e == "string" && e.startsWith(nc);
var C = (e) => y(e) && "items" in e && A(e.items);
var ie = (e) => typeof e == "string" ? e.split(":")[1] : void 0;
var R = ({ schema: e }) => {
  const [t2, r] = (0, import_react.useState)(true), n2 = (0, import_react.useCallback)(() => r((i2) => !i2), []);
  for (const [i2, o] of Hc(ne))
    if (e[i2])
      return ae.jsx(
        re,
        {
          schemas: e[i2],
          type: o,
          isOpen: t2,
          toggleOpen: n2
        }
      );
};
var h = ({ circularProp: e }) => ae.jsxs(
  sE,
  {
    className: "inline-flex items-center gap-1.5 italic text-xs translate-y-0.5",
    selectOnClick: false,
    children: [
      ae.jsx(RefreshCcwDot, { size: 13 }),
      ae.jsx("span", { children: e ? `${e} (circular)` : "circular" })
    ]
  }
);
var oe = ({
  name: e,
  schema: t2,
  group: r,
  defaultOpen: n2 = false,
  showCollapseButton: i2 = true
}) => {
  const [o, l] = (0, import_react.useState)(n2);
  if (A(t2))
    return ae.jsx("li", { className: "p-4 bg-border/20 hover:bg-border/30", children: ae.jsxs("div", { className: "flex flex-col gap-2.5 justify-between text-sm", children: [
      ae.jsxs("div", { className: "space-x-2 rtl:space-x-reverse", children: [
        ae.jsx("code", { children: e }),
        ae.jsx(
          j,
          {
            schema: t2,
            extraItems: [ae.jsx(h, {}, "circular-ref")]
          }
        )
      ] }),
      ae.jsx(g3, { schema: t2 })
    ] }) });
  const a = !!((N(t2) || b(t2) || y(t2) && "items" in t2 && b(t2.items) || t2.additionalProperties) && !C(t2));
  return ae.jsx("li", { className: "p-4 bg-border/20 hover:bg-border/30", children: ae.jsxs("div", { className: "flex flex-col gap-2.5 justify-between text-sm", children: [
    ae.jsxs("div", { className: "space-x-2 rtl:space-x-reverse", children: [
      ae.jsx(aE, { asChild: true, children: ae.jsx("code", { children: e }) }),
      ae.jsx(
        j,
        {
          schema: t2,
          extraItems: [
            r !== "optional" && ae.jsx("span", { className: "text-primary", children: "required" }),
            C(t2) && ae.jsx(
              h,
              {
                circularProp: ie(t2.items)
              }
            )
          ]
        }
      )
    ] }),
    t2.description && ae.jsx(
      rs,
      {
        className: "text-sm leading-normal",
        content: t2.description
      }
    ),
    t2.type === "array" && "items" in t2 && t2.items.enum && ae.jsx(f2, { values: t2.items.enum }),
    t2.const && ae.jsx(P, { schema: t2, hideDescription: true }),
    t2.enum && ae.jsx(f2, { values: t2.enum }),
    ae.jsx(g3, { schema: t2 }),
    a && ae.jsxs(
      Root,
      {
        defaultOpen: n2,
        open: o,
        onOpenChange: () => l(!o),
        children: [
          i2 && ae.jsx(Trigger, { asChild: true, children: ae.jsxs(g, { variant: "expand", size: "sm", children: [
            o ? ae.jsx(Minus, { size: 12 }) : ae.jsx(Plus, { size: 12 }),
            o ? "Hide properties" : "Show properties"
          ] }) }),
          ae.jsx(Content, { children: ae.jsx("div", { className: "mt-2", children: N(t2) ? ae.jsx(R, { schema: t2 }) : t2.type === "object" ? ae.jsx(c2, { schema: t2 }) : y(t2) && "items" in t2 ? ae.jsx(c2, { schema: t2.items }) : null }) })
        ]
      }
    )
  ] }) });
};
var le = (e) => e && ae.jsx(
  rs,
  {
    className: "text-sm leading-normal line-clamp-4",
    content: e
  }
);
var ae2 = (e) => ae.jsxs(t, { className: "p-4 space-y-2", children: [
  ae.jsx("span", { className: "text-sm text-muted-foreground", children: ae.jsx(j, { schema: e }) }),
  e.enum && ae.jsx(f2, { values: e.enum }),
  le(e.description),
  ae.jsx(g3, { schema: e })
] });
var c2 = ({
  schema: e,
  defaultOpen: t2 = false,
  cardHeader: r
}) => {
  if (!e || Object.keys(e).length === 0)
    return ae.jsxs(t, { className: "overflow-hidden", children: [
      r,
      ae.jsx("div", { className: "text-sm text-muted-foreground italic p-4", children: "No data returned" })
    ] });
  if (e.const)
    return ae.jsx(P, { schema: e });
  if (N(e))
    return ae.jsx(R, { schema: e });
  if (w(e.type))
    return ae2(e);
  if (e.type === "array" && typeof e.items == "object")
    return ae.jsx(c2, { schema: e.items });
  if (e.type === "object") {
    const n2 = H(
      Object.entries(e.properties ?? {}),
      ([l, a]) => a.deprecated ? "deprecated" : e.required?.includes(l) ? "required" : "optional"
    ), i2 = ["required", "optional", "deprecated"], o = typeof e.additionalProperties == "object" ? ae.jsx(c2, { schema: e.additionalProperties }) : e.additionalProperties === true ? ae.jsxs(Br, { className: "text-sm p-4 bg-border/20 hover:bg-border/30 flex items-center gap-1", children: [
      ae.jsx("span", { children: "Additional properties are allowed" }),
      ae.jsx(
        "a",
        {
          className: "p-0.5 -m-0.5",
          href: "https://swagger.io/docs/specification/v3_0/data-models/dictionaries/",
          rel: "noopener noreferrer",
          target: "_blank",
          children: ae.jsx(Info, { size: 14 })
        }
      )
    ] }) : null;
    return ae.jsxs(t, { className: "divide-y overflow-hidden", children: [
      r,
      i2.map(
        (l) => n2[l] && ae.jsx("ul", { className: "divide-y", children: n2[l].map(([a, E]) => ae.jsx(
          oe,
          {
            name: a,
            schema: E,
            group: l,
            defaultOpen: t2
          },
          a
        )) }, l)
      ),
      o
    ] });
  }
  return null;
};

export {
  t,
  H,
  j,
  f2 as f,
  g3 as g,
  y,
  A,
  c2 as c
};
//# sourceMappingURL=chunk-NS43KWH2.js.map
